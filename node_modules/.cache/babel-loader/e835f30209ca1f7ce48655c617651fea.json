{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.initialState = exports[\"default\"] = void 0;\n\nvar _immutable = require(\"immutable\");\n\nvar _strapiHelperPlugin = require(\"strapi-helper-plugin\");\n\nvar _moment = _interopRequireDefault(require(\"moment\"));\n\nvar _filtersForm = _interopRequireDefault(require(\"./utils/filtersForm\"));\n\nvar initialState = (0, _immutable.fromJS)({\n  name: 'created_at',\n  filter: '=',\n  value: (0, _strapiHelperPlugin.dateToUtcTime)((0, _moment[\"default\"])()),\n  filtersForm: _filtersForm[\"default\"]\n});\nexports.initialState = initialState;\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case 'ON_CHANGE':\n      {\n        var name = action.name,\n            value = action.value,\n            defaultValue = action.defaultValue;\n\n        if (name === 'name') {\n          return state.update(name, function () {\n            return value;\n          }).update('filter', function () {\n            return state.getIn(['filtersForm', value, 'defaultFilter']);\n          }).update('value', function () {\n            return defaultValue || state.getIn(['filtersForm', value, 'defaultValue']);\n          });\n        }\n\n        return state.update(name, function () {\n          return value;\n        });\n      }\n\n    case 'RESET_FORM':\n      return initialState.set('name', state.get('filtersForm').keySeq().first()).update('filtersForm', function () {\n        return state.get('filtersForm');\n      });\n\n    default:\n      return state;\n  }\n}\n\nvar _default = reducer;\nexports[\"default\"] = _default;","map":{"version":3,"sources":["/Users/joaovictorlobao/prefeituramaragogistrapi/.cache/plugins/strapi-plugin-upload/admin/src/components/FiltersPicker/FiltersCard/reducer.js"],"names":["initialState","name","filter","value","filtersForm","reducer","state","action","type","defaultValue","update","getIn","set","get","keySeq","first"],"mappings":";;;;;;;;;AAAA;;AACA;;AACA;;AAEA;;AAEA,IAAMA,YAAY,GAAG,uBAAO;AAC1BC,EAAAA,IAAI,EAAE,YADoB;AAE1BC,EAAAA,MAAM,EAAE,GAFkB;AAG1BC,EAAAA,KAAK,EAAE,uCAAc,yBAAd,CAHmB;AAI1BC,EAAAA,WAAW,EAAXA;AAJ0B,CAAP,CAArB;;;AAOA,SAASC,OAAT,CAAiBC,KAAjB,EAAwBC,MAAxB,EAAgC;AAC9B,UAAQA,MAAM,CAACC,IAAf;AACE,SAAK,WAAL;AAAkB;AAChB,YAAQP,IAAR,GAAsCM,MAAtC,CAAQN,IAAR;AAAA,YAAcE,KAAd,GAAsCI,MAAtC,CAAcJ,KAAd;AAAA,YAAqBM,YAArB,GAAsCF,MAAtC,CAAqBE,YAArB;;AAEA,YAAIR,IAAI,KAAK,MAAb,EAAqB;AACnB,iBAAOK,KAAK,CACTI,MADI,CACGT,IADH,EACS;AAAA,mBAAME,KAAN;AAAA,WADT,EAEJO,MAFI,CAEG,QAFH,EAEa;AAAA,mBAAMJ,KAAK,CAACK,KAAN,CAAY,CAAC,aAAD,EAAgBR,KAAhB,EAAuB,eAAvB,CAAZ,CAAN;AAAA,WAFb,EAGJO,MAHI,CAIH,OAJG,EAKH;AAAA,mBAAMD,YAAY,IAAIH,KAAK,CAACK,KAAN,CAAY,CAAC,aAAD,EAAgBR,KAAhB,EAAuB,cAAvB,CAAZ,CAAtB;AAAA,WALG,CAAP;AAOD;;AAED,eAAOG,KAAK,CAACI,MAAN,CAAaT,IAAb,EAAmB;AAAA,iBAAME,KAAN;AAAA,SAAnB,CAAP;AACD;;AACD,SAAK,YAAL;AACE,aAAOH,YAAY,CAChBY,GADI,CAEH,MAFG,EAGHN,KAAK,CACFO,GADH,CACO,aADP,EAEGC,MAFH,GAGGC,KAHH,EAHG,EAQJL,MARI,CAQG,aARH,EAQkB;AAAA,eAAMJ,KAAK,CAACO,GAAN,CAAU,aAAV,CAAN;AAAA,OARlB,CAAP;;AASF;AACE,aAAOP,KAAP;AA3BJ;AA6BD;;eAEcD,O","sourcesContent":["import { fromJS } from 'immutable';\nimport { dateToUtcTime } from 'strapi-helper-plugin';\nimport moment from 'moment';\n\nimport filtersForm from './utils/filtersForm';\n\nconst initialState = fromJS({\n  name: 'created_at',\n  filter: '=',\n  value: dateToUtcTime(moment()),\n  filtersForm,\n});\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case 'ON_CHANGE': {\n      const { name, value, defaultValue } = action;\n\n      if (name === 'name') {\n        return state\n          .update(name, () => value)\n          .update('filter', () => state.getIn(['filtersForm', value, 'defaultFilter']))\n          .update(\n            'value',\n            () => defaultValue || state.getIn(['filtersForm', value, 'defaultValue'])\n          );\n      }\n\n      return state.update(name, () => value);\n    }\n    case 'RESET_FORM':\n      return initialState\n        .set(\n          'name',\n          state\n            .get('filtersForm')\n            .keySeq()\n            .first()\n        )\n        .update('filtersForm', () => state.get('filtersForm'));\n    default:\n      return state;\n  }\n}\n\nexport default reducer;\nexport { initialState };\n"]},"metadata":{},"sourceType":"script"}