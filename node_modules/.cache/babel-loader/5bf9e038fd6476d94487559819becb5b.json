{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactIntl = require(\"react-intl\");\n\nvar _creatable = _interopRequireDefault(require(\"react-select/creatable\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _lodash = require(\"lodash\");\n\nvar _strapiHelperPlugin = require(\"strapi-helper-plugin\");\n\nvar _core = require(\"@buffetjs/core\");\n\nvar _icons = require(\"@buffetjs/icons\");\n\nvar _getBorderColor = _interopRequireDefault(require(\"./utils/getBorderColor\"));\n\nvar _keys = _interopRequireDefault(require(\"./keys\"));\n\nvar _Wrapper = _interopRequireDefault(require(\"./Wrapper\"));\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2[\"default\"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n/* eslint-disable react/no-array-index-key */\nvar HeadersInput = function HeadersInput(_ref) {\n  var errors = _ref.errors,\n      name = _ref.name,\n      _onClick = _ref.onClick,\n      onChange = _ref.onChange,\n      onRemove = _ref.onRemove,\n      value = _ref.value;\n\n  var formatOption = function formatOption(value) {\n    return {\n      value: value,\n      label: value\n    };\n  };\n\n  var options = _keys[\"default\"].map(function (key) {\n    return formatOption(key);\n  });\n\n  var handleChangeKey = function handleChangeKey(selected, name) {\n    if (selected === null) {\n      onChange({\n        target: {\n          name: name,\n          value: ''\n        }\n      });\n    } else {\n      var _value = selected.value;\n      onChange({\n        target: {\n          name: name,\n          value: _value\n        }\n      });\n    }\n  };\n\n  var customStyles = function customStyles(hasError) {\n    return {\n      control: function control(base, state) {\n        return _objectSpread(_objectSpread({}, base), {}, {\n          border: \"1px solid \".concat((0, _getBorderColor[\"default\"])({\n            isFocused: state.isFocused,\n            hasError: hasError\n          }), \" !important\"),\n          borderRadius: '2px !important'\n        });\n      },\n      menu: function menu(base) {\n        return _objectSpread(_objectSpread({}, base), {}, {\n          padding: '0',\n          border: '1px solid #e3e9f3',\n          borderTop: '1px solid #78caff',\n          borderTopRightRadius: '0',\n          borderTopLeftRadius: '0',\n          borderBottomRightRadius: '3px',\n          borderBottomLeftRadius: '3px',\n          boxShadow: 'none',\n          marginTop: '-1px;'\n        });\n      },\n      menuList: function menuList(base) {\n        return _objectSpread(_objectSpread({}, base), {}, {\n          maxHeight: '224px',\n          paddingTop: '0'\n        });\n      },\n      option: function option(base, state) {\n        return _objectSpread(_objectSpread({}, base), {}, {\n          backgroundColor: state.isSelected || state.isFocused ? '#f6f6f6' : '#fff',\n          color: '#000000',\n          fontSize: '13px',\n          fontWeight: state.isSelected ? '600' : '400',\n          cursor: state.isFocused ? 'pointer' : 'initial',\n          height: '32px',\n          lineHeight: '16px'\n        });\n      }\n    };\n  };\n\n  return /*#__PURE__*/_react[\"default\"].createElement(_Wrapper[\"default\"], null, /*#__PURE__*/_react[\"default\"].createElement(\"ul\", null, /*#__PURE__*/_react[\"default\"].createElement(\"li\", null, /*#__PURE__*/_react[\"default\"].createElement(\"section\", null, /*#__PURE__*/_react[\"default\"].createElement(\"p\", null, /*#__PURE__*/_react[\"default\"].createElement(_reactIntl.FormattedMessage, {\n    id: \"Settings.webhooks.key\",\n    defaultMessage: \"Key\"\n  }))), /*#__PURE__*/_react[\"default\"].createElement(\"section\", null, /*#__PURE__*/_react[\"default\"].createElement(\"p\", null, /*#__PURE__*/_react[\"default\"].createElement(_reactIntl.FormattedMessage, {\n    id: \"Settings.webhooks.value\",\n    defaultMessage: \"Value\"\n  })))), value.map(function (header, index) {\n    var key = header.key,\n        value = header.value;\n    return /*#__PURE__*/_react[\"default\"].createElement(\"li\", {\n      key: index\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"section\", null, /*#__PURE__*/_react[\"default\"].createElement(_creatable[\"default\"], {\n      isClearable: true,\n      onChange: function onChange(e) {\n        return handleChangeKey(e, \"\".concat(name, \".\").concat(index, \".key\"));\n      },\n      name: \"\".concat(name, \".\").concat(index, \".key\"),\n      options: options,\n      styles: customStyles((0, _lodash.get)(errors, \"headers.\".concat(index, \".key\"), null)),\n      value: formatOption(key)\n    })), /*#__PURE__*/_react[\"default\"].createElement(\"section\", null, /*#__PURE__*/_react[\"default\"].createElement(_core.InputText, {\n      className: (0, _lodash.get)(errors, \"headers.\".concat(index, \".value\"), null) && 'bordered',\n      onChange: onChange,\n      name: \"\".concat(name, \".\").concat(index, \".value\"),\n      value: value\n    })), /*#__PURE__*/_react[\"default\"].createElement(\"div\", null, /*#__PURE__*/_react[\"default\"].createElement(_strapiHelperPlugin.CircleButton, {\n      type: \"button\",\n      isRemoveButton: true,\n      onClick: function onClick() {\n        return onRemove(index);\n      }\n    })));\n  })), /*#__PURE__*/_react[\"default\"].createElement(\"button\", {\n    onClick: function onClick() {\n      return _onClick(name);\n    },\n    type: \"button\"\n  }, /*#__PURE__*/_react[\"default\"].createElement(_icons.Plus, {\n    fill: \"#007eff\",\n    width: \"10px\"\n  }), /*#__PURE__*/_react[\"default\"].createElement(_reactIntl.FormattedMessage, {\n    id: \"Settings.webhooks.create.header\",\n    defaultMessage: \"Create a new header\"\n  })));\n};\n\nHeadersInput.defaultProps = {\n  errors: {},\n  onRemove: function onRemove() {}\n};\nHeadersInput.propTypes = {\n  errors: _propTypes[\"default\"].object,\n  name: _propTypes[\"default\"].string.isRequired,\n  onChange: _propTypes[\"default\"].func.isRequired,\n  onClick: _propTypes[\"default\"].func.isRequired,\n  onRemove: _propTypes[\"default\"].func,\n  value: _propTypes[\"default\"].array.isRequired\n};\nvar _default = HeadersInput;\nexports[\"default\"] = _default;","map":{"version":3,"sources":["/Users/joaovictorlobao/prefeituramaragogistrapi/.cache/admin/src/components/Webhooks/HeadersInput/index.js"],"names":["HeadersInput","errors","name","onClick","onChange","onRemove","value","formatOption","label","options","keys","map","key","handleChangeKey","selected","target","customStyles","hasError","control","base","state","border","isFocused","borderRadius","menu","padding","borderTop","borderTopRightRadius","borderTopLeftRadius","borderBottomRightRadius","borderBottomLeftRadius","boxShadow","marginTop","menuList","maxHeight","paddingTop","option","backgroundColor","isSelected","color","fontSize","fontWeight","cursor","height","lineHeight","header","index","e","defaultProps","propTypes","PropTypes","object","string","isRequired","func","array"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport CreatableSelect from 'react-select/creatable';\nimport PropTypes from 'prop-types';\nimport { get } from 'lodash';\nimport { CircleButton } from 'strapi-helper-plugin';\nimport { InputText } from '@buffetjs/core';\nimport { Plus } from '@buffetjs/icons';\n\nimport getBorderColor from './utils/getBorderColor';\nimport keys from './keys';\nimport Wrapper from './Wrapper';\n\n/* eslint-disable react/no-array-index-key */\n\nconst HeadersInput = ({ errors, name, onClick, onChange, onRemove, value }) => {\n  const formatOption = value => ({ value, label: value });\n  const options = keys.map(key => formatOption(key));\n\n  const handleChangeKey = (selected, name) => {\n    if (selected === null) {\n      onChange({ target: { name, value: '' } });\n    } else {\n      const { value } = selected;\n      onChange({ target: { name, value } });\n    }\n  };\n\n  const customStyles = hasError => {\n    return {\n      control: (base, state) => ({\n        ...base,\n        border: `1px solid ${getBorderColor({\n          isFocused: state.isFocused,\n          hasError,\n        })} !important`,\n        borderRadius: '2px !important',\n      }),\n      menu: base => {\n        return {\n          ...base,\n          padding: '0',\n          border: '1px solid #e3e9f3',\n          borderTop: '1px solid #78caff',\n          borderTopRightRadius: '0',\n          borderTopLeftRadius: '0',\n          borderBottomRightRadius: '3px',\n          borderBottomLeftRadius: '3px',\n          boxShadow: 'none',\n          marginTop: '-1px;',\n        };\n      },\n      menuList: base => ({\n        ...base,\n        maxHeight: '224px',\n        paddingTop: '0',\n      }),\n      option: (base, state) => {\n        return {\n          ...base,\n          backgroundColor: state.isSelected || state.isFocused ? '#f6f6f6' : '#fff',\n          color: '#000000',\n          fontSize: '13px',\n          fontWeight: state.isSelected ? '600' : '400',\n          cursor: state.isFocused ? 'pointer' : 'initial',\n          height: '32px',\n          lineHeight: '16px',\n        };\n      },\n    };\n  };\n\n  return (\n    <Wrapper>\n      <ul>\n        <li>\n          <section>\n            <p>\n              <FormattedMessage id=\"Settings.webhooks.key\" defaultMessage=\"Key\" />\n            </p>\n          </section>\n          <section>\n            <p>\n              <FormattedMessage id=\"Settings.webhooks.value\" defaultMessage=\"Value\" />\n            </p>\n          </section>\n        </li>\n        {value.map((header, index) => {\n          const { key, value } = header;\n\n          return (\n            <li key={index}>\n              <section>\n                <CreatableSelect\n                  isClearable\n                  onChange={e => handleChangeKey(e, `${name}.${index}.key`)}\n                  name={`${name}.${index}.key`}\n                  options={options}\n                  styles={customStyles(get(errors, `headers.${index}.key`, null))}\n                  value={formatOption(key)}\n                />\n              </section>\n              <section>\n                <InputText\n                  className={get(errors, `headers.${index}.value`, null) && 'bordered'}\n                  onChange={onChange}\n                  name={`${name}.${index}.value`}\n                  value={value}\n                />\n              </section>\n              <div>\n                <CircleButton type=\"button\" isRemoveButton onClick={() => onRemove(index)} />\n              </div>\n            </li>\n          );\n        })}\n      </ul>\n      <button onClick={() => onClick(name)} type=\"button\">\n        <Plus fill=\"#007eff\" width=\"10px\" />\n        <FormattedMessage\n          id=\"Settings.webhooks.create.header\"\n          defaultMessage=\"Create a new header\"\n        />\n      </button>\n    </Wrapper>\n  );\n};\n\nHeadersInput.defaultProps = {\n  errors: {},\n  onRemove: () => {},\n};\n\nHeadersInput.propTypes = {\n  errors: PropTypes.object,\n  name: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired,\n  onClick: PropTypes.func.isRequired,\n  onRemove: PropTypes.func,\n  value: PropTypes.array.isRequired,\n};\n\nexport default HeadersInput;\n"]},"metadata":{},"sourceType":"script"}