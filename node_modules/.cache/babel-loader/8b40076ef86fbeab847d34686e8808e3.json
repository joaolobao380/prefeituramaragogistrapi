{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _typeof = require(\"@babel/runtime/helpers/typeof\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _reactIntl = require(\"react-intl\");\n\nvar _reactRouterDom = require(\"react-router-dom\");\n\nvar _reactFontawesome = require(\"@fortawesome/react-fontawesome\");\n\nvar _reactstrap = require(\"reactstrap\");\n\nvar _lodash = require(\"lodash\");\n\nvar _strapiHelperPlugin = require(\"strapi-helper-plugin\");\n\nvar _components = _interopRequireDefault(require(\"./components\"));\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n/**\n *\n * Logout\n *\n */\n\n/* eslint-disable */\nvar Logout = function Logout(_ref) {\n  var push = _ref.history.push;\n\n  var _useState = (0, _react.useState)(false),\n      _useState2 = (0, _slicedToArray2[\"default\"])(_useState, 2),\n      isOpen = _useState2[0],\n      setIsOpen = _useState2[1];\n\n  var handleGoToMe = function handleGoToMe() {\n    push({\n      pathname: \"/me\"\n    });\n  };\n\n  var handleLogout = function handleLogout() {\n    _strapiHelperPlugin.auth.clearAppStorage();\n\n    push('/auth/login');\n  };\n\n  var toggle = function toggle() {\n    return setIsOpen(function (prev) {\n      return !prev;\n    });\n  };\n\n  var userInfo = _strapiHelperPlugin.auth.getUserInfo();\n\n  var displayName = userInfo && userInfo.firstname && userInfo.lastname ? \"\".concat(userInfo.firstname, \" \").concat(userInfo.lastname) : (0, _lodash.get)(userInfo, 'username', '');\n  return /*#__PURE__*/_react[\"default\"].createElement(_components[\"default\"], null, /*#__PURE__*/_react[\"default\"].createElement(_reactstrap.ButtonDropdown, {\n    isOpen: isOpen,\n    toggle: toggle\n  }, /*#__PURE__*/_react[\"default\"].createElement(_reactstrap.DropdownToggle, null, displayName, /*#__PURE__*/_react[\"default\"].createElement(_reactFontawesome.FontAwesomeIcon, {\n    icon: \"caret-down\"\n  })), /*#__PURE__*/_react[\"default\"].createElement(_reactstrap.DropdownMenu, {\n    className: \"dropDownContent\"\n  }, /*#__PURE__*/_react[\"default\"].createElement(_reactstrap.DropdownItem, {\n    onClick: handleGoToMe,\n    className: \"item\"\n  }, /*#__PURE__*/_react[\"default\"].createElement(_reactIntl.FormattedMessage, {\n    id: \"app.components.Logout.profile\"\n  })), /*#__PURE__*/_react[\"default\"].createElement(_reactstrap.DropdownItem, {\n    onClick: handleLogout\n  }, /*#__PURE__*/_react[\"default\"].createElement(_reactIntl.FormattedMessage, {\n    id: \"app.components.Logout.logout\"\n  }), /*#__PURE__*/_react[\"default\"].createElement(_reactFontawesome.FontAwesomeIcon, {\n    icon: \"sign-out-alt\"\n  })))));\n};\n\nvar _default = (0, _reactRouterDom.withRouter)(Logout);\n\nexports[\"default\"] = _default;","map":{"version":3,"sources":["/Users/joaovictorlobao/prefeituramaragogistrapi/.cache/admin/src/containers/Admin/Logout/index.js"],"names":["Logout","push","history","isOpen","setIsOpen","handleGoToMe","pathname","handleLogout","auth","clearAppStorage","toggle","prev","userInfo","getUserInfo","displayName","firstname","lastname"],"mappings":";;;;;;;;;;;;;AAOA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;AAdA;AACA;AACA;AACA;AACA;;AAEA;AAUA,IAAMA,MAAM,GAAG,SAATA,MAAS,OAA2B;AAAA,MAAbC,IAAa,QAAxBC,OAAwB,CAAbD,IAAa;;AACxC,kBAA4B,qBAAS,KAAT,CAA5B;AAAA;AAAA,MAAOE,MAAP;AAAA,MAAeC,SAAf;;AAEA,MAAMC,YAAY,GAAG,SAAfA,YAAe,GAAM;AACzBJ,IAAAA,IAAI,CAAC;AACHK,MAAAA,QAAQ;AADL,KAAD,CAAJ;AAGD,GAJD;;AAMA,MAAMC,YAAY,GAAG,SAAfA,YAAe,GAAM;AACzBC,6BAAKC,eAAL;;AACAR,IAAAA,IAAI,CAAC,aAAD,CAAJ;AACD,GAHD;;AAKA,MAAMS,MAAM,GAAG,SAATA,MAAS;AAAA,WAAMN,SAAS,CAAC,UAAAO,IAAI;AAAA,aAAI,CAACA,IAAL;AAAA,KAAL,CAAf;AAAA,GAAf;;AAEA,MAAMC,QAAQ,GAAGJ,yBAAKK,WAAL,EAAjB;;AACA,MAAMC,WAAW,GACfF,QAAQ,IAAIA,QAAQ,CAACG,SAArB,IAAkCH,QAAQ,CAACI,QAA3C,aACOJ,QAAQ,CAACG,SADhB,cAC6BH,QAAQ,CAACI,QADtC,IAEI,iBAAIJ,QAAJ,EAAc,UAAd,EAA0B,EAA1B,CAHN;AAKA,sBACE,gCAAC,sBAAD,qBACE,gCAAC,0BAAD;AAAgB,IAAA,MAAM,EAAET,MAAxB;AAAgC,IAAA,MAAM,EAAEO;AAAxC,kBACE,gCAAC,0BAAD,QACGI,WADH,eAEE,gCAAC,iCAAD;AAAiB,IAAA,IAAI,EAAC;AAAtB,IAFF,CADF,eAKE,gCAAC,wBAAD;AAAc,IAAA,SAAS,EAAC;AAAxB,kBACE,gCAAC,wBAAD;AAAc,IAAA,OAAO,EAAET,YAAvB;AAAqC,IAAA,SAAS,EAAC;AAA/C,kBACE,gCAAC,2BAAD;AAAkB,IAAA,EAAE,EAAC;AAArB,IADF,CADF,eAIE,gCAAC,wBAAD;AAAc,IAAA,OAAO,EAAEE;AAAvB,kBACE,gCAAC,2BAAD;AAAkB,IAAA,EAAE,EAAC;AAArB,IADF,eAEE,gCAAC,iCAAD;AAAiB,IAAA,IAAI,EAAC;AAAtB,IAFF,CAJF,CALF,CADF,CADF;AAmBD,CAzCD;;eA2Ce,gCAAWP,MAAX,C","sourcesContent":["/**\n *\n * Logout\n *\n */\n\n/* eslint-disable */\nimport React, { useState } from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { withRouter } from 'react-router-dom';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { ButtonDropdown, DropdownItem, DropdownMenu, DropdownToggle } from 'reactstrap';\nimport { get } from 'lodash';\nimport { auth } from 'strapi-helper-plugin';\nimport Wrapper from './components';\n\nconst Logout = ({ history: { push } }) => {\n  const [isOpen, setIsOpen] = useState(false);\n\n  const handleGoToMe = () => {\n    push({\n      pathname: `/me`,\n    });\n  };\n\n  const handleLogout = () => {\n    auth.clearAppStorage();\n    push('/auth/login');\n  };\n\n  const toggle = () => setIsOpen(prev => !prev);\n\n  const userInfo = auth.getUserInfo();\n  const displayName =\n    userInfo && userInfo.firstname && userInfo.lastname\n      ? `${userInfo.firstname} ${userInfo.lastname}`\n      : get(userInfo, 'username', '');\n\n  return (\n    <Wrapper>\n      <ButtonDropdown isOpen={isOpen} toggle={toggle}>\n        <DropdownToggle>\n          {displayName}\n          <FontAwesomeIcon icon=\"caret-down\" />\n        </DropdownToggle>\n        <DropdownMenu className=\"dropDownContent\">\n          <DropdownItem onClick={handleGoToMe} className=\"item\">\n            <FormattedMessage id=\"app.components.Logout.profile\" />\n          </DropdownItem>\n          <DropdownItem onClick={handleLogout}>\n            <FormattedMessage id=\"app.components.Logout.logout\" />\n            <FontAwesomeIcon icon=\"sign-out-alt\" />\n          </DropdownItem>\n        </DropdownMenu>\n      </ButtonDropdown>\n    </Wrapper>\n  );\n};\n\nexport default withRouter(Logout);\n"]},"metadata":{},"sourceType":"script"}