{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.initialState = exports[\"default\"] = void 0;\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _immutable = require(\"immutable\");\n\nvar initialState = (0, _immutable.fromJS)({\n  webhooks: [],\n  webhooksToDelete: [],\n  webhookToDelete: null\n});\nexports.initialState = initialState;\n\nvar reducer = function reducer(state, action) {\n  switch (action.type) {\n    case 'GET_DATA_SUCCEEDED':\n      return state.update('webhooks', function () {\n        return (0, _immutable.fromJS)(action.data);\n      });\n\n    case 'SET_WEBHOOK_ENABLED':\n      return state.updateIn(['webhooks'].concat((0, _toConsumableArray2[\"default\"])(action.keys)), function () {\n        return action.value;\n      });\n\n    case 'SET_WEBHOOK_TO_DELETE':\n      return state.update('webhookToDelete', function () {\n        return action.id;\n      });\n\n    case 'SET_WEBHOOKS_TO_DELETE':\n      return state.update('webhooksToDelete', function (list) {\n        if (action.value) {\n          return list.push(action.id);\n        }\n\n        return list.filter(function (data) {\n          return data !== action.id;\n        });\n      });\n\n    case 'WEBHOOKS_DELETED':\n      return state.update('webhooks', function (webhooks) {\n        return webhooks.filter(function (webhook) {\n          return !state.get('webhooksToDelete').includes(webhook.get('id'));\n        });\n      }).update('webhooksToDelete', function () {\n        return [];\n      });\n\n    case 'WEBHOOK_DELETED':\n      return state.update('webhooks', function (webhooks) {\n        return webhooks.remove(action.index);\n      }).update('webhookToDelete', function () {\n        return null;\n      });\n\n    default:\n      return state;\n  }\n};\n\nvar _default = reducer;\nexports[\"default\"] = _default;","map":{"version":3,"sources":["/Users/joaovictorlobao/prefeituramaragogistrapi/.cache/admin/src/containers/Webhooks/ListView/reducer.js"],"names":["initialState","webhooks","webhooksToDelete","webhookToDelete","reducer","state","action","type","update","data","updateIn","keys","value","id","list","push","filter","webhook","get","includes","remove","index"],"mappings":";;;;;;;;;;;AAAA;;AAEA,IAAMA,YAAY,GAAG,uBAAO;AAC1BC,EAAAA,QAAQ,EAAE,EADgB;AAE1BC,EAAAA,gBAAgB,EAAE,EAFQ;AAG1BC,EAAAA,eAAe,EAAE;AAHS,CAAP,CAArB;;;AAMA,IAAMC,OAAO,GAAG,SAAVA,OAAU,CAACC,KAAD,EAAQC,MAAR,EAAmB;AACjC,UAAQA,MAAM,CAACC,IAAf;AACE,SAAK,oBAAL;AACE,aAAOF,KAAK,CAACG,MAAN,CAAa,UAAb,EAAyB;AAAA,eAAM,uBAAOF,MAAM,CAACG,IAAd,CAAN;AAAA,OAAzB,CAAP;;AACF,SAAK,qBAAL;AACE,aAAOJ,KAAK,CAACK,QAAN,EAAgB,UAAhB,6CAA+BJ,MAAM,CAACK,IAAtC,IAA6C;AAAA,eAAML,MAAM,CAACM,KAAb;AAAA,OAA7C,CAAP;;AACF,SAAK,uBAAL;AACE,aAAOP,KAAK,CAACG,MAAN,CAAa,iBAAb,EAAgC;AAAA,eAAMF,MAAM,CAACO,EAAb;AAAA,OAAhC,CAAP;;AACF,SAAK,wBAAL;AACE,aAAOR,KAAK,CAACG,MAAN,CAAa,kBAAb,EAAiC,UAAAM,IAAI,EAAI;AAC9C,YAAIR,MAAM,CAACM,KAAX,EAAkB;AAChB,iBAAOE,IAAI,CAACC,IAAL,CAAUT,MAAM,CAACO,EAAjB,CAAP;AACD;;AAED,eAAOC,IAAI,CAACE,MAAL,CAAY,UAAAP,IAAI;AAAA,iBAAIA,IAAI,KAAKH,MAAM,CAACO,EAApB;AAAA,SAAhB,CAAP;AACD,OANM,CAAP;;AAOF,SAAK,kBAAL;AACE,aAAOR,KAAK,CACTG,MADI,CACG,UADH,EACe,UAAAP,QAAQ;AAAA,eAC1BA,QAAQ,CAACe,MAAT,CAAgB,UAAAC,OAAO,EAAI;AACzB,iBAAO,CAACZ,KAAK,CAACa,GAAN,CAAU,kBAAV,EAA8BC,QAA9B,CAAuCF,OAAO,CAACC,GAAR,CAAY,IAAZ,CAAvC,CAAR;AACD,SAFD,CAD0B;AAAA,OADvB,EAMJV,MANI,CAMG,kBANH,EAMuB;AAAA,eAAM,EAAN;AAAA,OANvB,CAAP;;AAOF,SAAK,iBAAL;AACE,aAAOH,KAAK,CACTG,MADI,CACG,UADH,EACe,UAAAP,QAAQ;AAAA,eAAIA,QAAQ,CAACmB,MAAT,CAAgBd,MAAM,CAACe,KAAvB,CAAJ;AAAA,OADvB,EAEJb,MAFI,CAEG,iBAFH,EAEsB;AAAA,eAAM,IAAN;AAAA,OAFtB,CAAP;;AAGF;AACE,aAAOH,KAAP;AA5BJ;AA8BD,CA/BD;;eAiCeD,O","sourcesContent":["import { fromJS } from 'immutable';\n\nconst initialState = fromJS({\n  webhooks: [],\n  webhooksToDelete: [],\n  webhookToDelete: null,\n});\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case 'GET_DATA_SUCCEEDED':\n      return state.update('webhooks', () => fromJS(action.data));\n    case 'SET_WEBHOOK_ENABLED':\n      return state.updateIn(['webhooks', ...action.keys], () => action.value);\n    case 'SET_WEBHOOK_TO_DELETE':\n      return state.update('webhookToDelete', () => action.id);\n    case 'SET_WEBHOOKS_TO_DELETE':\n      return state.update('webhooksToDelete', list => {\n        if (action.value) {\n          return list.push(action.id);\n        }\n\n        return list.filter(data => data !== action.id);\n      });\n    case 'WEBHOOKS_DELETED':\n      return state\n        .update('webhooks', webhooks =>\n          webhooks.filter(webhook => {\n            return !state.get('webhooksToDelete').includes(webhook.get('id'));\n          })\n        )\n        .update('webhooksToDelete', () => []);\n    case 'WEBHOOK_DELETED':\n      return state\n        .update('webhooks', webhooks => webhooks.remove(action.index))\n        .update('webhookToDelete', () => null);\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\nexport { initialState };\n"]},"metadata":{},"sourceType":"script"}