{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactSelect = require(\"react-select\");\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _lodash = require(\"lodash\");\n\nvar _core = require(\"@buffetjs/core\");\n\nvar _strapiHelperPlugin = require(\"strapi-helper-plugin\");\n\nvar _utils = require(\"../../utils\");\n\nvar SingleValue = function SingleValue(props) {\n  var Component = _reactSelect.components.SingleValue;\n  var hasDraftAndPublish = (0, _lodash.has)((0, _lodash.get)(props, 'data.value'), 'published_at');\n  var isDraft = (0, _lodash.isEmpty)((0, _lodash.get)(props, 'data.value.published_at'));\n  var mainField = (0, _lodash.get)(props, ['selectProps', 'mainField'], {});\n  var value = (0, _utils.getDisplayedValue)(mainField.schema.type, props.data.label, mainField.name);\n\n  if (hasDraftAndPublish) {\n    return /*#__PURE__*/_react[\"default\"].createElement(Component, props, /*#__PURE__*/_react[\"default\"].createElement(_core.Padded, {\n      left: true,\n      size: \"sm\",\n      right: true\n    }, /*#__PURE__*/_react[\"default\"].createElement(_core.Flex, null, /*#__PURE__*/_react[\"default\"].createElement(_strapiHelperPlugin.RelationDPState, {\n      marginLeft: \"0\",\n      marginTop: \"1px\",\n      marginRight: \"10px\",\n      isDraft: isDraft,\n      marginBottom: \"0\"\n    }), /*#__PURE__*/_react[\"default\"].createElement(\"div\", null, /*#__PURE__*/_react[\"default\"].createElement(_core.Text, {\n      ellipsis: true\n    }, value)))));\n  }\n\n  return /*#__PURE__*/_react[\"default\"].createElement(Component, props, /*#__PURE__*/_react[\"default\"].createElement(_core.Padded, {\n    left: true,\n    right: true,\n    size: \"sm\"\n  }, value));\n};\n\nSingleValue.propTypes = {\n  data: _propTypes[\"default\"].object.isRequired,\n  selectProps: _propTypes[\"default\"].shape({\n    mainField: _propTypes[\"default\"].shape({\n      name: _propTypes[\"default\"].string.isRequired,\n      schema: _propTypes[\"default\"].shape({\n        type: _propTypes[\"default\"].string.isRequired\n      }).isRequired\n    }).isRequired\n  }).isRequired\n};\nvar _default = SingleValue;\nexports[\"default\"] = _default;","map":{"version":3,"sources":["/Users/joaovictorlobao/prefeituramaragogistrapi/.cache/plugins/strapi-plugin-content-manager/admin/src/components/SelectOne/SingleValue.js"],"names":["SingleValue","props","Component","components","hasDraftAndPublish","isDraft","mainField","value","schema","type","data","label","name","propTypes","PropTypes","object","isRequired","selectProps","shape","string"],"mappings":";;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAEA,IAAMA,WAAW,GAAG,SAAdA,WAAc,CAAAC,KAAK,EAAI;AAC3B,MAAMC,SAAS,GAAGC,wBAAWH,WAA7B;AACA,MAAMI,kBAAkB,GAAG,iBAAI,iBAAIH,KAAJ,EAAW,YAAX,CAAJ,EAA8B,cAA9B,CAA3B;AACA,MAAMI,OAAO,GAAG,qBAAQ,iBAAIJ,KAAJ,EAAW,yBAAX,CAAR,CAAhB;AACA,MAAMK,SAAS,GAAG,iBAAIL,KAAJ,EAAW,CAAC,aAAD,EAAgB,WAAhB,CAAX,EAAyC,EAAzC,CAAlB;AACA,MAAMM,KAAK,GAAG,8BAAkBD,SAAS,CAACE,MAAV,CAAiBC,IAAnC,EAAyCR,KAAK,CAACS,IAAN,CAAWC,KAApD,EAA2DL,SAAS,CAACM,IAArE,CAAd;;AAEA,MAAIR,kBAAJ,EAAwB;AACtB,wBACE,gCAAC,SAAD,EAAeH,KAAf,eACE,gCAAC,YAAD;AAAQ,MAAA,IAAI,MAAZ;AAAa,MAAA,IAAI,EAAC,IAAlB;AAAuB,MAAA,KAAK;AAA5B,oBACE,gCAAC,UAAD,qBACE,gCAAC,mCAAD;AACE,MAAA,UAAU,EAAC,GADb;AAEE,MAAA,SAAS,EAAC,KAFZ;AAGE,MAAA,WAAW,EAAC,MAHd;AAIE,MAAA,OAAO,EAAEI,OAJX;AAKE,MAAA,YAAY,EAAC;AALf,MADF,eAQE,0DACE,gCAAC,UAAD;AAAM,MAAA,QAAQ;AAAd,OAAgBE,KAAhB,CADF,CARF,CADF,CADF,CADF;AAkBD;;AAED,sBACE,gCAAC,SAAD,EAAeN,KAAf,eACE,gCAAC,YAAD;AAAQ,IAAA,IAAI,MAAZ;AAAa,IAAA,KAAK,MAAlB;AAAmB,IAAA,IAAI,EAAC;AAAxB,KACGM,KADH,CADF,CADF;AAOD,CAnCD;;AAqCAP,WAAW,CAACa,SAAZ,GAAwB;AACtBH,EAAAA,IAAI,EAAEI,sBAAUC,MAAV,CAAiBC,UADD;AAEtBC,EAAAA,WAAW,EAAEH,sBAAUI,KAAV,CAAgB;AAC3BZ,IAAAA,SAAS,EAAEQ,sBAAUI,KAAV,CAAgB;AACzBN,MAAAA,IAAI,EAAEE,sBAAUK,MAAV,CAAiBH,UADE;AAEzBR,MAAAA,MAAM,EAAEM,sBAAUI,KAAV,CAAgB;AACtBT,QAAAA,IAAI,EAAEK,sBAAUK,MAAV,CAAiBH;AADD,OAAhB,EAELA;AAJsB,KAAhB,EAKRA;AANwB,GAAhB,EAOVA;AATmB,CAAxB;eAYehB,W","sourcesContent":["import React from 'react';\nimport { components } from 'react-select';\nimport PropTypes from 'prop-types';\nimport { get, has, isEmpty } from 'lodash';\nimport { Flex, Padded, Text } from '@buffetjs/core';\nimport { RelationDPState } from 'strapi-helper-plugin';\nimport { getDisplayedValue } from '../../utils';\n\nconst SingleValue = props => {\n  const Component = components.SingleValue;\n  const hasDraftAndPublish = has(get(props, 'data.value'), 'published_at');\n  const isDraft = isEmpty(get(props, 'data.value.published_at'));\n  const mainField = get(props, ['selectProps', 'mainField'], {});\n  const value = getDisplayedValue(mainField.schema.type, props.data.label, mainField.name);\n\n  if (hasDraftAndPublish) {\n    return (\n      <Component {...props}>\n        <Padded left size=\"sm\" right>\n          <Flex>\n            <RelationDPState\n              marginLeft=\"0\"\n              marginTop=\"1px\"\n              marginRight=\"10px\"\n              isDraft={isDraft}\n              marginBottom=\"0\"\n            />\n            <div>\n              <Text ellipsis>{value}</Text>\n            </div>\n          </Flex>\n        </Padded>\n      </Component>\n    );\n  }\n\n  return (\n    <Component {...props}>\n      <Padded left right size=\"sm\">\n        {value}\n      </Padded>\n    </Component>\n  );\n};\n\nSingleValue.propTypes = {\n  data: PropTypes.object.isRequired,\n  selectProps: PropTypes.shape({\n    mainField: PropTypes.shape({\n      name: PropTypes.string.isRequired,\n      schema: PropTypes.shape({\n        type: PropTypes.string.isRequired,\n      }).isRequired,\n    }).isRequired,\n  }).isRequired,\n};\n\nexport default SingleValue;\n"]},"metadata":{},"sourceType":"script"}