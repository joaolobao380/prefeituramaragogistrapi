{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _typeof = require(\"@babel/runtime/helpers/typeof\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _lodash = require(\"lodash\");\n\nvar _strapiHelperPlugin = require(\"strapi-helper-plugin\");\n\nvar _core = require(\"@buffetjs/core\");\n\nvar _icons = require(\"@buffetjs/icons\");\n\nvar _reactFontawesome = require(\"@fortawesome/react-fontawesome\");\n\nvar _hooks = require(\"../../../hooks\");\n\nvar _utils = require(\"../../../utils\");\n\nvar _CustomInputCheckbox = _interopRequireDefault(require(\"../../CustomInputCheckbox\"));\n\nvar _ActionContainer = _interopRequireDefault(require(\"./ActionContainer\"));\n\nvar _Cell = _interopRequireDefault(require(\"./Cell\"));\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n/* eslint-disable jsx-a11y/no-noninteractive-element-interactions */\nfunction Row(_ref) {\n  var canCreate = _ref.canCreate,\n      canDelete = _ref.canDelete,\n      canUpdate = _ref.canUpdate,\n      isBulkable = _ref.isBulkable,\n      row = _ref.row,\n      headers = _ref.headers,\n      goTo = _ref.goTo;\n\n  var _useListView = (0, _hooks.useListView)(),\n      entriesToDelete = _useListView.entriesToDelete,\n      onChangeBulk = _useListView.onChangeBulk,\n      onClickDelete = _useListView.onClickDelete;\n\n  var _useGlobalContext = (0, _strapiHelperPlugin.useGlobalContext)(),\n      emitEvent = _useGlobalContext.emitEvent;\n\n  var emitEventRef = (0, _react.useRef)(emitEvent);\n  var memoizedDisplayedValue = (0, _react.useCallback)(function (name, type) {\n    return (0, _utils.getDisplayedValue)(type, row[name], name);\n  }, [row]);\n  var links = [{\n    icon: canCreate ? /*#__PURE__*/_react[\"default\"].createElement(_icons.Duplicate, {\n      fill: \"black\"\n    }) : null,\n    onClick: function onClick(e) {\n      e.stopPropagation();\n      goTo(\"create/clone/\".concat(row.id));\n    }\n  }, {\n    icon: canUpdate ? /*#__PURE__*/_react[\"default\"].createElement(_reactFontawesome.FontAwesomeIcon, {\n      icon: \"pencil-alt\"\n    }) : null,\n    onClick: function onClick(e) {\n      e.stopPropagation();\n      emitEventRef.current('willDeleteEntryFromList');\n      goTo(row.id);\n    }\n  }, {\n    icon: canDelete ? /*#__PURE__*/_react[\"default\"].createElement(_reactFontawesome.FontAwesomeIcon, {\n      icon: \"trash-alt\"\n    }) : null,\n    onClick: function onClick(e) {\n      e.stopPropagation();\n      emitEventRef.current('willDeleteEntryFromList');\n      onClickDelete(row.id);\n    }\n  }].filter(function (icon) {\n    return icon;\n  });\n  return /*#__PURE__*/_react[\"default\"].createElement(_react[\"default\"].Fragment, null, isBulkable &&\n  /*#__PURE__*/\n  // eslint-disable-next-line jsx-a11y/click-events-have-key-events\n  _react[\"default\"].createElement(\"td\", {\n    key: \"i\",\n    onClick: function onClick(e) {\n      return e.stopPropagation();\n    }\n  }, /*#__PURE__*/_react[\"default\"].createElement(_CustomInputCheckbox[\"default\"], {\n    name: row.id,\n    onChange: onChangeBulk,\n    value: entriesToDelete.filter(function (id) {\n      return (0, _lodash.toString)(id) === (0, _lodash.toString)(row.id);\n    }).length > 0\n  })), headers.map(function (_ref2) {\n    var key = _ref2.key,\n        name = _ref2.name,\n        _ref2$fieldSchema = _ref2.fieldSchema,\n        type = _ref2$fieldSchema.type,\n        relationType = _ref2$fieldSchema.relationType,\n        cellFormatter = _ref2.cellFormatter,\n        metadatas = _ref2.metadatas,\n        queryInfos = _ref2.queryInfos;\n    return /*#__PURE__*/_react[\"default\"].createElement(\"td\", {\n      key: key\n    }, cellFormatter ? cellFormatter(row) : /*#__PURE__*/_react[\"default\"].createElement(_Cell[\"default\"], {\n      options: {\n        rowId: row.id,\n        relationType: relationType,\n        type: type,\n        name: name,\n        value: memoizedDisplayedValue(name, type),\n        cellId: key,\n        metadatas: metadatas,\n        queryInfos: queryInfos\n      }\n    }));\n  }), /*#__PURE__*/_react[\"default\"].createElement(_ActionContainer[\"default\"], null, /*#__PURE__*/_react[\"default\"].createElement(_core.IconLinks, {\n    links: links\n  })));\n}\n\nRow.propTypes = {\n  canCreate: _propTypes[\"default\"].bool.isRequired,\n  canDelete: _propTypes[\"default\"].bool.isRequired,\n  canUpdate: _propTypes[\"default\"].bool.isRequired,\n  headers: _propTypes[\"default\"].array.isRequired,\n  isBulkable: _propTypes[\"default\"].bool.isRequired,\n  row: _propTypes[\"default\"].object.isRequired,\n  goTo: _propTypes[\"default\"].func.isRequired\n};\n\nvar _default = /*#__PURE__*/(0, _react.memo)(Row);\n\nexports[\"default\"] = _default;","map":{"version":3,"sources":["/Users/joaovictorlobao/prefeituramaragogistrapi/.cache/plugins/strapi-plugin-content-manager/admin/src/components/CustomTable/Row/index.js"],"names":["Row","canCreate","canDelete","canUpdate","isBulkable","row","headers","goTo","entriesToDelete","onChangeBulk","onClickDelete","emitEvent","emitEventRef","memoizedDisplayedValue","name","type","links","icon","onClick","e","stopPropagation","id","current","filter","length","map","key","fieldSchema","relationType","cellFormatter","metadatas","queryInfos","rowId","value","cellId","propTypes","PropTypes","bool","isRequired","array","object","func"],"mappings":";;;;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;AAEA;AAEA,SAASA,GAAT,OAAkF;AAAA,MAAnEC,SAAmE,QAAnEA,SAAmE;AAAA,MAAxDC,SAAwD,QAAxDA,SAAwD;AAAA,MAA7CC,SAA6C,QAA7CA,SAA6C;AAAA,MAAlCC,UAAkC,QAAlCA,UAAkC;AAAA,MAAtBC,GAAsB,QAAtBA,GAAsB;AAAA,MAAjBC,OAAiB,QAAjBA,OAAiB;AAAA,MAARC,IAAQ,QAARA,IAAQ;;AAChF,qBAAyD,yBAAzD;AAAA,MAAQC,eAAR,gBAAQA,eAAR;AAAA,MAAyBC,YAAzB,gBAAyBA,YAAzB;AAAA,MAAuCC,aAAvC,gBAAuCA,aAAvC;;AACA,0BAAsB,2CAAtB;AAAA,MAAQC,SAAR,qBAAQA,SAAR;;AACA,MAAMC,YAAY,GAAG,mBAAOD,SAAP,CAArB;AAEA,MAAME,sBAAsB,GAAG,wBAC7B,UAACC,IAAD,EAAOC,IAAP,EAAgB;AACd,WAAO,8BAAkBA,IAAlB,EAAwBV,GAAG,CAACS,IAAD,CAA3B,EAAmCA,IAAnC,CAAP;AACD,GAH4B,EAI7B,CAACT,GAAD,CAJ6B,CAA/B;AAOA,MAAMW,KAAK,GAAG,CACZ;AACEC,IAAAA,IAAI,EAAEhB,SAAS,gBAAG,gCAAC,gBAAD;AAAW,MAAA,IAAI,EAAC;AAAhB,MAAH,GAAgC,IADjD;AAEEiB,IAAAA,OAAO,EAAE,iBAAAC,CAAC,EAAI;AACZA,MAAAA,CAAC,CAACC,eAAF;AACAb,MAAAA,IAAI,wBAAiBF,GAAG,CAACgB,EAArB,EAAJ;AACD;AALH,GADY,EAQZ;AACEJ,IAAAA,IAAI,EAAEd,SAAS,gBAAG,gCAAC,iCAAD;AAAiB,MAAA,IAAI,EAAC;AAAtB,MAAH,GAA2C,IAD5D;AAEEe,IAAAA,OAAO,EAAE,iBAAAC,CAAC,EAAI;AACZA,MAAAA,CAAC,CAACC,eAAF;AACAR,MAAAA,YAAY,CAACU,OAAb,CAAqB,yBAArB;AACAf,MAAAA,IAAI,CAACF,GAAG,CAACgB,EAAL,CAAJ;AACD;AANH,GARY,EAgBZ;AACEJ,IAAAA,IAAI,EAAEf,SAAS,gBAAG,gCAAC,iCAAD;AAAiB,MAAA,IAAI,EAAC;AAAtB,MAAH,GAA0C,IAD3D;AAEEgB,IAAAA,OAAO,EAAE,iBAAAC,CAAC,EAAI;AACZA,MAAAA,CAAC,CAACC,eAAF;AACAR,MAAAA,YAAY,CAACU,OAAb,CAAqB,yBAArB;AACAZ,MAAAA,aAAa,CAACL,GAAG,CAACgB,EAAL,CAAb;AACD;AANH,GAhBY,EAwBZE,MAxBY,CAwBL,UAAAN,IAAI;AAAA,WAAIA,IAAJ;AAAA,GAxBC,CAAd;AA0BA,sBACE,kEACGb,UAAU;AAAA;AACT;AACA;AAAI,IAAA,GAAG,EAAC,GAAR;AAAY,IAAA,OAAO,EAAE,iBAAAe,CAAC;AAAA,aAAIA,CAAC,CAACC,eAAF,EAAJ;AAAA;AAAtB,kBACE,gCAAC,+BAAD;AACE,IAAA,IAAI,EAAEf,GAAG,CAACgB,EADZ;AAEE,IAAA,QAAQ,EAAEZ,YAFZ;AAGE,IAAA,KAAK,EAAED,eAAe,CAACe,MAAhB,CAAuB,UAAAF,EAAE;AAAA,aAAI,sBAASA,EAAT,MAAiB,sBAAShB,GAAG,CAACgB,EAAb,CAArB;AAAA,KAAzB,EAAgEG,MAAhE,GAAyE;AAHlF,IADF,CAHJ,EAWGlB,OAAO,CAACmB,GAAR,CACC;AAAA,QACEC,GADF,SACEA,GADF;AAAA,QAEEZ,IAFF,SAEEA,IAFF;AAAA,kCAGEa,WAHF;AAAA,QAGiBZ,IAHjB,qBAGiBA,IAHjB;AAAA,QAGuBa,YAHvB,qBAGuBA,YAHvB;AAAA,QAIEC,aAJF,SAIEA,aAJF;AAAA,QAKEC,SALF,SAKEA,SALF;AAAA,QAMEC,UANF,SAMEA,UANF;AAAA,wBAQE;AAAI,MAAA,GAAG,EAAEL;AAAT,OACGG,aAAa,GACZA,aAAa,CAACxB,GAAD,CADD,gBAGZ,gCAAC,gBAAD;AACE,MAAA,OAAO,EAAE;AACP2B,QAAAA,KAAK,EAAE3B,GAAG,CAACgB,EADJ;AAEPO,QAAAA,YAAY,EAAZA,YAFO;AAGPb,QAAAA,IAAI,EAAJA,IAHO;AAIPD,QAAAA,IAAI,EAAJA,IAJO;AAKPmB,QAAAA,KAAK,EAAEpB,sBAAsB,CAACC,IAAD,EAAOC,IAAP,CALtB;AAMPmB,QAAAA,MAAM,EAAER,GAND;AAOPI,QAAAA,SAAS,EAATA,SAPO;AAQPC,QAAAA,UAAU,EAAVA;AARO;AADX,MAJJ,CARF;AAAA,GADD,CAXH,eAwCE,gCAAC,2BAAD,qBACE,gCAAC,eAAD;AAAW,IAAA,KAAK,EAAEf;AAAlB,IADF,CAxCF,CADF;AA8CD;;AAEDhB,GAAG,CAACmC,SAAJ,GAAgB;AACdlC,EAAAA,SAAS,EAAEmC,sBAAUC,IAAV,CAAeC,UADZ;AAEdpC,EAAAA,SAAS,EAAEkC,sBAAUC,IAAV,CAAeC,UAFZ;AAGdnC,EAAAA,SAAS,EAAEiC,sBAAUC,IAAV,CAAeC,UAHZ;AAIdhC,EAAAA,OAAO,EAAE8B,sBAAUG,KAAV,CAAgBD,UAJX;AAKdlC,EAAAA,UAAU,EAAEgC,sBAAUC,IAAV,CAAeC,UALb;AAMdjC,EAAAA,GAAG,EAAE+B,sBAAUI,MAAV,CAAiBF,UANR;AAOd/B,EAAAA,IAAI,EAAE6B,sBAAUK,IAAV,CAAeH;AAPP,CAAhB;;4BAUe,iBAAKtC,GAAL,C","sourcesContent":["import React, { memo, useCallback, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport { toString } from 'lodash';\nimport { useGlobalContext } from 'strapi-helper-plugin';\nimport { IconLinks } from '@buffetjs/core';\nimport { Duplicate } from '@buffetjs/icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { useListView } from '../../../hooks';\nimport { getDisplayedValue } from '../../../utils';\nimport CustomInputCheckbox from '../../CustomInputCheckbox';\nimport ActionContainer from './ActionContainer';\nimport Cell from './Cell';\n\n/* eslint-disable jsx-a11y/no-noninteractive-element-interactions */\n\nfunction Row({ canCreate, canDelete, canUpdate, isBulkable, row, headers, goTo }) {\n  const { entriesToDelete, onChangeBulk, onClickDelete } = useListView();\n  const { emitEvent } = useGlobalContext();\n  const emitEventRef = useRef(emitEvent);\n\n  const memoizedDisplayedValue = useCallback(\n    (name, type) => {\n      return getDisplayedValue(type, row[name], name);\n    },\n    [row]\n  );\n\n  const links = [\n    {\n      icon: canCreate ? <Duplicate fill=\"black\" /> : null,\n      onClick: e => {\n        e.stopPropagation();\n        goTo(`create/clone/${row.id}`);\n      },\n    },\n    {\n      icon: canUpdate ? <FontAwesomeIcon icon=\"pencil-alt\" /> : null,\n      onClick: e => {\n        e.stopPropagation();\n        emitEventRef.current('willDeleteEntryFromList');\n        goTo(row.id);\n      },\n    },\n    {\n      icon: canDelete ? <FontAwesomeIcon icon=\"trash-alt\" /> : null,\n      onClick: e => {\n        e.stopPropagation();\n        emitEventRef.current('willDeleteEntryFromList');\n        onClickDelete(row.id);\n      },\n    },\n  ].filter(icon => icon);\n\n  return (\n    <>\n      {isBulkable && (\n        // eslint-disable-next-line jsx-a11y/click-events-have-key-events\n        <td key=\"i\" onClick={e => e.stopPropagation()}>\n          <CustomInputCheckbox\n            name={row.id}\n            onChange={onChangeBulk}\n            value={entriesToDelete.filter(id => toString(id) === toString(row.id)).length > 0}\n          />\n        </td>\n      )}\n      {headers.map(\n        ({\n          key,\n          name,\n          fieldSchema: { type, relationType },\n          cellFormatter,\n          metadatas,\n          queryInfos,\n        }) => (\n          <td key={key}>\n            {cellFormatter ? (\n              cellFormatter(row)\n            ) : (\n              <Cell\n                options={{\n                  rowId: row.id,\n                  relationType,\n                  type,\n                  name,\n                  value: memoizedDisplayedValue(name, type),\n                  cellId: key,\n                  metadatas,\n                  queryInfos,\n                }}\n              />\n            )}\n          </td>\n        )\n      )}\n      <ActionContainer>\n        <IconLinks links={links} />\n      </ActionContainer>\n    </>\n  );\n}\n\nRow.propTypes = {\n  canCreate: PropTypes.bool.isRequired,\n  canDelete: PropTypes.bool.isRequired,\n  canUpdate: PropTypes.bool.isRequired,\n  headers: PropTypes.array.isRequired,\n  isBulkable: PropTypes.bool.isRequired,\n  row: PropTypes.object.isRequired,\n  goTo: PropTypes.func.isRequired,\n};\n\nexport default memo(Row);\n"]},"metadata":{},"sourceType":"script"}