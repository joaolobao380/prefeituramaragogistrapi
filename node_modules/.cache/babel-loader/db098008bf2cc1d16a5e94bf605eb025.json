{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.retrieveComponentsThatHaveComponents = exports.doesComponentHaveAComponentField = void 0;\n\nvar _lodash = require(\"lodash\");\n\nvar _makeUnique = _interopRequireDefault(require(\"../../../utils/makeUnique\"));\n\nvar retrieveComponentsThatHaveComponents = function retrieveComponentsThatHaveComponents(allComponents) {\n  var componentsThatHaveNestedComponents = Object.keys(allComponents).reduce(function (acc, current) {\n    var currentComponent = (0, _lodash.get)(allComponents, [current], {});\n    var uid = currentComponent.uid;\n\n    if (doesComponentHaveAComponentField(currentComponent)) {\n      acc.push(uid);\n    }\n\n    return acc;\n  }, []);\n  return (0, _makeUnique[\"default\"])(componentsThatHaveNestedComponents);\n};\n\nexports.retrieveComponentsThatHaveComponents = retrieveComponentsThatHaveComponents;\n\nvar doesComponentHaveAComponentField = function doesComponentHaveAComponentField(component) {\n  var attributes = (0, _lodash.get)(component, ['schema', 'attributes'], {});\n  return Object.keys(attributes).some(function (attributeName) {\n    var type = (0, _lodash.get)(attributes, [attributeName, 'type'], '');\n    return type === 'component';\n  });\n};\n\nexports.doesComponentHaveAComponentField = doesComponentHaveAComponentField;","map":{"version":3,"sources":["/Users/joaovictorlobao/prefeituramaragogistrapi/.cache/plugins/strapi-plugin-content-type-builder/admin/src/containers/DataManagerProvider/utils/retrieveComponentsThatHaveComponents.js"],"names":["retrieveComponentsThatHaveComponents","allComponents","componentsThatHaveNestedComponents","Object","keys","reduce","acc","current","currentComponent","uid","doesComponentHaveAComponentField","push","component","attributes","some","attributeName","type"],"mappings":";;;;;;;;;AAAA;;AACA;;AAEA,IAAMA,oCAAoC,GAAG,SAAvCA,oCAAuC,CAAAC,aAAa,EAAI;AAC5D,MAAMC,kCAAkC,GAAGC,MAAM,CAACC,IAAP,CAAYH,aAAZ,EAA2BI,MAA3B,CACzC,UAACC,GAAD,EAAMC,OAAN,EAAkB;AAChB,QAAMC,gBAAgB,GAAG,iBAAIP,aAAJ,EAAmB,CAACM,OAAD,CAAnB,EAA8B,EAA9B,CAAzB;AACA,QAAME,GAAG,GAAGD,gBAAgB,CAACC,GAA7B;;AAEA,QAAIC,gCAAgC,CAACF,gBAAD,CAApC,EAAwD;AACtDF,MAAAA,GAAG,CAACK,IAAJ,CAASF,GAAT;AACD;;AAED,WAAOH,GAAP;AACD,GAVwC,EAWzC,EAXyC,CAA3C;AAcA,SAAO,4BAAWJ,kCAAX,CAAP;AACD,CAhBD;;;;AAkBA,IAAMQ,gCAAgC,GAAG,SAAnCA,gCAAmC,CAAAE,SAAS,EAAI;AACpD,MAAMC,UAAU,GAAG,iBAAID,SAAJ,EAAe,CAAC,QAAD,EAAW,YAAX,CAAf,EAAyC,EAAzC,CAAnB;AAEA,SAAOT,MAAM,CAACC,IAAP,CAAYS,UAAZ,EAAwBC,IAAxB,CAA6B,UAAAC,aAAa,EAAI;AACnD,QAAMC,IAAI,GAAG,iBAAIH,UAAJ,EAAgB,CAACE,aAAD,EAAgB,MAAhB,CAAhB,EAAyC,EAAzC,CAAb;AAEA,WAAOC,IAAI,KAAK,WAAhB;AACD,GAJM,CAAP;AAKD,CARD","sourcesContent":["import { get } from 'lodash';\nimport makeUnique from '../../../utils/makeUnique';\n\nconst retrieveComponentsThatHaveComponents = allComponents => {\n  const componentsThatHaveNestedComponents = Object.keys(allComponents).reduce(\n    (acc, current) => {\n      const currentComponent = get(allComponents, [current], {});\n      const uid = currentComponent.uid;\n\n      if (doesComponentHaveAComponentField(currentComponent)) {\n        acc.push(uid);\n      }\n\n      return acc;\n    },\n    []\n  );\n\n  return makeUnique(componentsThatHaveNestedComponents);\n};\n\nconst doesComponentHaveAComponentField = component => {\n  const attributes = get(component, ['schema', 'attributes'], {});\n\n  return Object.keys(attributes).some(attributeName => {\n    const type = get(attributes, [attributeName, 'type'], '');\n\n    return type === 'component';\n  });\n};\n\nexport {\n  doesComponentHaveAComponentField,\n  retrieveComponentsThatHaveComponents,\n};\n"]},"metadata":{},"sourceType":"script"}