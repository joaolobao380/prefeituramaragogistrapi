{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _lodash = require(\"lodash\");\n\nvar _strapiHelperPlugin = require(\"strapi-helper-plugin\");\n\nvar _Na = _interopRequireDefault(require(\"../../icons/Na\"));\n\nvar _StyledMediaPreviewList = require(\"./StyledMediaPreviewList\");\n\nvar IMAGE_PREVIEW_COUNT = 3;\n\nfunction MediaPreviewList(_ref) {\n  var hoverable = _ref.hoverable,\n      files = _ref.files;\n\n  var renderImage = function renderImage(image) {\n    var name = image.name,\n        size = image.size,\n        url = image.url;\n    var thumbnail = (0, _lodash.get)(image, ['formats', 'thumbnail', 'url'], null);\n    var fileUrl = thumbnail || url;\n\n    if (!thumbnail && size > 20000) {\n      return renderFile(image);\n    }\n\n    return /*#__PURE__*/_react[\"default\"].createElement(_StyledMediaPreviewList.MediaPreviewImage, {\n      className: hoverable ? 'hoverable' : ''\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", null, /*#__PURE__*/_react[\"default\"].createElement(\"img\", {\n      src: (0, _strapiHelperPlugin.prefixFileUrlWithBackendUrl)(fileUrl),\n      alt: \"\".concat(name)\n    })), /*#__PURE__*/_react[\"default\"].createElement(\"img\", {\n      src: (0, _strapiHelperPlugin.prefixFileUrlWithBackendUrl)(fileUrl),\n      alt: \"\".concat(name)\n    }));\n  };\n\n  var renderFile = function renderFile(file) {\n    var ext = file.ext,\n        name = file.name;\n    var fileExtension = (0, _strapiHelperPlugin.getFileExtension)(ext);\n    return /*#__PURE__*/_react[\"default\"].createElement(_StyledMediaPreviewList.MediaPreviewFile, {\n      className: hoverable ? 'hoverable' : ''\n    }, fileExtension ? /*#__PURE__*/_react[\"default\"].createElement(\"div\", null, /*#__PURE__*/_react[\"default\"].createElement(\"span\", null, fileExtension)) : /*#__PURE__*/_react[\"default\"].createElement(_StyledMediaPreviewList.MediaPreviewItem, null, /*#__PURE__*/_react[\"default\"].createElement(_Na[\"default\"], null)), /*#__PURE__*/_react[\"default\"].createElement(\"span\", null, name));\n  };\n\n  var renderItem = function renderItem(file) {\n    var mime = file.mime;\n    return /*#__PURE__*/_react[\"default\"].createElement(_react[\"default\"].Fragment, {\n      key: JSON.stringify(file)\n    }, (0, _lodash.includes)(mime, 'image') ? renderImage(file) : renderFile(file));\n  };\n\n  var renderText = function renderText(count) {\n    return /*#__PURE__*/_react[\"default\"].createElement(_StyledMediaPreviewList.MediaPreviewText, null, /*#__PURE__*/_react[\"default\"].createElement(\"div\", null, /*#__PURE__*/_react[\"default\"].createElement(\"span\", null, \"+\", count)));\n  };\n\n  var renderMultipleItems = function renderMultipleItems(files) {\n    return files.map(function (file, index) {\n      return /*#__PURE__*/_react[\"default\"].createElement(_react[\"default\"].Fragment, {\n        key: JSON.stringify(file)\n      }, index === IMAGE_PREVIEW_COUNT && files.length > IMAGE_PREVIEW_COUNT + 1 ? renderText(files.length - IMAGE_PREVIEW_COUNT) : renderItem(file));\n    });\n  };\n\n  return !!files && !(0, _lodash.isEmpty)(files) ? /*#__PURE__*/_react[\"default\"].createElement(_StyledMediaPreviewList.StyledMediaPreviewList, null, !(0, _lodash.isArray)(files) ? renderItem(files) : renderMultipleItems(files)) : /*#__PURE__*/_react[\"default\"].createElement(_StyledMediaPreviewList.MediaPreviewItem, null, /*#__PURE__*/_react[\"default\"].createElement(_Na[\"default\"], null));\n}\n\nMediaPreviewList.defaultProps = {\n  hoverable: true,\n  files: null\n};\nMediaPreviewList.propTypes = {\n  hoverable: _propTypes[\"default\"].bool,\n  files: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].object, _propTypes[\"default\"].array])\n};\nvar _default = MediaPreviewList;\nexports[\"default\"] = _default;","map":{"version":3,"sources":["/Users/joaovictorlobao/prefeituramaragogistrapi/.cache/plugins/strapi-plugin-content-manager/admin/src/components/MediaPreviewList/index.js"],"names":["IMAGE_PREVIEW_COUNT","MediaPreviewList","hoverable","files","renderImage","image","name","size","url","thumbnail","fileUrl","renderFile","file","ext","fileExtension","renderItem","mime","JSON","stringify","renderText","count","renderMultipleItems","map","index","length","defaultProps","propTypes","PropTypes","bool","oneOfType","object","array"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { get, isArray, includes, isEmpty } from 'lodash';\nimport { getFileExtension, prefixFileUrlWithBackendUrl } from 'strapi-helper-plugin';\nimport DefaultIcon from '../../icons/Na';\nimport {\n  StyledMediaPreviewList,\n  MediaPreviewFile,\n  MediaPreviewImage,\n  MediaPreviewItem,\n  MediaPreviewText,\n} from './StyledMediaPreviewList';\n\nconst IMAGE_PREVIEW_COUNT = 3;\n\nfunction MediaPreviewList({ hoverable, files }) {\n  const renderImage = image => {\n    const { name, size, url } = image;\n    const thumbnail = get(image, ['formats', 'thumbnail', 'url'], null);\n    const fileUrl = thumbnail || url;\n\n    if (!thumbnail && size > 20000) {\n      return renderFile(image);\n    }\n\n    return (\n      <MediaPreviewImage className={hoverable ? 'hoverable' : ''}>\n        <div>\n          <img src={prefixFileUrlWithBackendUrl(fileUrl)} alt={`${name}`} />\n        </div>\n        <img src={prefixFileUrlWithBackendUrl(fileUrl)} alt={`${name}`} />\n      </MediaPreviewImage>\n    );\n  };\n\n  const renderFile = file => {\n    const { ext, name } = file;\n    const fileExtension = getFileExtension(ext);\n\n    return (\n      <MediaPreviewFile className={hoverable ? 'hoverable' : ''}>\n        {fileExtension ? (\n          <div>\n            <span>{fileExtension}</span>\n          </div>\n        ) : (\n          <MediaPreviewItem>\n            <DefaultIcon />\n          </MediaPreviewItem>\n        )}\n\n        <span>{name}</span>\n      </MediaPreviewFile>\n    );\n  };\n\n  const renderItem = file => {\n    const { mime } = file;\n\n    return (\n      <React.Fragment key={JSON.stringify(file)}>\n        {includes(mime, 'image') ? renderImage(file) : renderFile(file)}\n      </React.Fragment>\n    );\n  };\n\n  const renderText = count => {\n    return (\n      <MediaPreviewText>\n        <div>\n          <span>+{count}</span>\n        </div>\n      </MediaPreviewText>\n    );\n  };\n\n  const renderMultipleItems = files => {\n    return files.map((file, index) => {\n      return (\n        <React.Fragment key={JSON.stringify(file)}>\n          {index === IMAGE_PREVIEW_COUNT && files.length > IMAGE_PREVIEW_COUNT + 1\n            ? renderText(files.length - IMAGE_PREVIEW_COUNT)\n            : renderItem(file)}\n        </React.Fragment>\n      );\n    });\n  };\n\n  return !!files && !isEmpty(files) ? (\n    <StyledMediaPreviewList>\n      {!isArray(files) ? renderItem(files) : renderMultipleItems(files)}\n    </StyledMediaPreviewList>\n  ) : (\n    <MediaPreviewItem>\n      <DefaultIcon />\n    </MediaPreviewItem>\n  );\n}\n\nMediaPreviewList.defaultProps = {\n  hoverable: true,\n  files: null,\n};\n\nMediaPreviewList.propTypes = {\n  hoverable: PropTypes.bool,\n  files: PropTypes.oneOfType([PropTypes.object, PropTypes.array]),\n};\n\nexport default MediaPreviewList;\n"]},"metadata":{},"sourceType":"script"}