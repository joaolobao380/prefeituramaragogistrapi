{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _typeof = require(\"@babel/runtime/helpers/typeof\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _lodash = require(\"lodash\");\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _reactIntl = require(\"react-intl\");\n\nvar _reactFontawesome = require(\"@fortawesome/react-fontawesome\");\n\nvar _messages = _interopRequireDefault(require(\"./messages.json\"));\n\nvar _Search = _interopRequireDefault(require(\"./Search\"));\n\nvar _Title = _interopRequireDefault(require(\"./Title\"));\n\nvar _SearchButton = _interopRequireDefault(require(\"./SearchButton\"));\n\nvar _SearchWrapper = _interopRequireDefault(require(\"./SearchWrapper\"));\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n// TODO remove this\nvar LeftMenuLinkHeader = function LeftMenuLinkHeader(_ref) {\n  var section = _ref.section,\n      searchable = _ref.searchable,\n      setSearch = _ref.setSearch,\n      search = _ref.search;\n\n  var _useState = (0, _react.useState)(false),\n      _useState2 = (0, _slicedToArray2[\"default\"])(_useState, 2),\n      showSearch = _useState2[0],\n      setShowSearch = _useState2[1];\n\n  var ref = /*#__PURE__*/(0, _react.createRef)();\n\n  var _messages$camelCase = _messages[\"default\"][(0, _lodash.camelCase)(section)],\n      id = _messages$camelCase.id,\n      defaultMessage = _messages$camelCase.defaultMessage;\n\n  (0, _react.useEffect)(function () {\n    if (showSearch && ref.current) {\n      ref.current.focus();\n    }\n  }, [ref, showSearch]);\n\n  var toggleSearch = function toggleSearch() {\n    setShowSearch(function (prev) {\n      return !prev;\n    });\n  };\n\n  var handleChange = function handleChange(_ref2) {\n    var value = _ref2.target.value;\n    setSearch(value);\n  };\n\n  var clearSearch = function clearSearch() {\n    setSearch('');\n    setShowSearch(false);\n  };\n\n  return /*#__PURE__*/_react[\"default\"].createElement(_Title[\"default\"], null, !showSearch ? /*#__PURE__*/_react[\"default\"].createElement(_react[\"default\"].Fragment, null, /*#__PURE__*/_react[\"default\"].createElement(_reactIntl.FormattedMessage, {\n    id: id,\n    defaultMessage: defaultMessage\n  }), searchable && /*#__PURE__*/_react[\"default\"].createElement(_SearchButton[\"default\"], {\n    onClick: toggleSearch\n  }, /*#__PURE__*/_react[\"default\"].createElement(_reactFontawesome.FontAwesomeIcon, {\n    icon: \"search\"\n  }))) : /*#__PURE__*/_react[\"default\"].createElement(_SearchWrapper[\"default\"], null, /*#__PURE__*/_react[\"default\"].createElement(\"div\", null, /*#__PURE__*/_react[\"default\"].createElement(_reactFontawesome.FontAwesomeIcon, {\n    style: {\n      fontSize: 12\n    },\n    icon: \"search\"\n  })), /*#__PURE__*/_react[\"default\"].createElement(_reactIntl.FormattedMessage, {\n    id: \"components.Search.placeholder\"\n  }, function (message) {\n    return /*#__PURE__*/_react[\"default\"].createElement(_Search[\"default\"], {\n      ref: ref,\n      onChange: handleChange,\n      value: search,\n      placeholder: message\n    });\n  }), /*#__PURE__*/_react[\"default\"].createElement(_SearchButton[\"default\"], {\n    onClick: clearSearch\n  }, /*#__PURE__*/_react[\"default\"].createElement(_reactFontawesome.FontAwesomeIcon, {\n    icon: \"times\"\n  }))));\n};\n\nLeftMenuLinkHeader.propTypes = {\n  section: _propTypes[\"default\"].string.isRequired,\n  searchable: _propTypes[\"default\"].bool,\n  setSearch: _propTypes[\"default\"].func,\n  search: _propTypes[\"default\"].string\n};\nLeftMenuLinkHeader.defaultProps = {\n  search: null,\n  searchable: false,\n  setSearch: function setSearch() {}\n};\nvar _default = LeftMenuLinkHeader;\nexports[\"default\"] = _default;","map":{"version":3,"sources":["/Users/joaovictorlobao/prefeituramaragogistrapi/.cache/admin/src/components/LeftMenu/LeftMenuLinkHeader/index.js"],"names":["LeftMenuLinkHeader","section","searchable","setSearch","search","showSearch","setShowSearch","ref","messages","id","defaultMessage","current","focus","toggleSearch","prev","handleChange","value","target","clearSearch","fontSize","message","propTypes","PropTypes","string","isRequired","bool","func","defaultProps"],"mappings":"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","sourcesContent":["import React, { useState, createRef, useEffect } from 'react';\nimport { camelCase } from 'lodash';\nimport PropTypes from 'prop-types';\nimport { FormattedMessage } from 'react-intl';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\n// TODO remove this\nimport messages from './messages.json';\nimport Search from './Search';\nimport Title from './Title';\nimport SearchButton from './SearchButton';\nimport SearchWrapper from './SearchWrapper';\n\nconst LeftMenuLinkHeader = ({ section, searchable, setSearch, search }) => {\n  const [showSearch, setShowSearch] = useState(false);\n  const ref = createRef();\n  const { id, defaultMessage } = messages[camelCase(section)];\n\n  useEffect(() => {\n    if (showSearch && ref.current) {\n      ref.current.focus();\n    }\n  }, [ref, showSearch]);\n\n  const toggleSearch = () => {\n    setShowSearch(prev => !prev);\n  };\n\n  const handleChange = ({ target: { value } }) => {\n    setSearch(value);\n  };\n\n  const clearSearch = () => {\n    setSearch('');\n    setShowSearch(false);\n  };\n\n  return (\n    <Title>\n      {!showSearch ? (\n        <>\n          <FormattedMessage id={id} defaultMessage={defaultMessage} />\n          {searchable && (\n            <SearchButton onClick={toggleSearch}>\n              <FontAwesomeIcon icon=\"search\" />\n            </SearchButton>\n          )}\n        </>\n      ) : (\n        <SearchWrapper>\n          <div>\n            <FontAwesomeIcon style={{ fontSize: 12 }} icon=\"search\" />\n          </div>\n          <FormattedMessage id=\"components.Search.placeholder\">\n            {message => (\n              <Search ref={ref} onChange={handleChange} value={search} placeholder={message} />\n            )}\n          </FormattedMessage>\n          <SearchButton onClick={clearSearch}>\n            <FontAwesomeIcon icon=\"times\" />\n          </SearchButton>\n        </SearchWrapper>\n      )}\n    </Title>\n  );\n};\n\nLeftMenuLinkHeader.propTypes = {\n  section: PropTypes.string.isRequired,\n  searchable: PropTypes.bool,\n  setSearch: PropTypes.func,\n  search: PropTypes.string,\n};\n\nLeftMenuLinkHeader.defaultProps = {\n  search: null,\n  searchable: false,\n  setSearch: () => {},\n};\n\nexport default LeftMenuLinkHeader;\n"]},"metadata":{},"sourceType":"script"}