{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _typeof = require(\"@babel/runtime/helpers/typeof\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _reactRouterDom = require(\"react-router-dom\");\n\nvar _LeftMenu = require(\"../../components/LeftMenu\");\n\nvar _Loader = _interopRequireDefault(require(\"./Loader\"));\n\nvar _Wrapper = _interopRequireDefault(require(\"./Wrapper\"));\n\nvar _useMenuSections2 = _interopRequireDefault(require(\"./useMenuSections\"));\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nvar LeftMenu = function LeftMenu(_ref) {\n  var shouldUpdateStrapi = _ref.shouldUpdateStrapi,\n      version = _ref.version,\n      plugins = _ref.plugins,\n      setUpdateMenu = _ref.setUpdateMenu;\n  var location = (0, _reactRouterDom.useLocation)();\n\n  var _useMenuSections = (0, _useMenuSections2[\"default\"])(plugins, shouldUpdateStrapi),\n      _useMenuSections$stat = _useMenuSections.state,\n      isLoading = _useMenuSections$stat.isLoading,\n      collectionTypesSectionLinks = _useMenuSections$stat.collectionTypesSectionLinks,\n      singleTypesSectionLinks = _useMenuSections$stat.singleTypesSectionLinks,\n      generalSectionLinks = _useMenuSections$stat.generalSectionLinks,\n      pluginsSectionLinks = _useMenuSections$stat.pluginsSectionLinks,\n      toggleLoading = _useMenuSections.toggleLoading,\n      generateMenu = _useMenuSections.generateMenu;\n\n  var filteredCollectionTypeLinks = collectionTypesSectionLinks.filter(function (_ref2) {\n    var isDisplayed = _ref2.isDisplayed;\n    return isDisplayed;\n  });\n  var filteredSingleTypeLinks = singleTypesSectionLinks.filter(function (_ref3) {\n    var isDisplayed = _ref3.isDisplayed;\n    return isDisplayed;\n  }); // This effect is really temporary until we create the menu api\n  // We need this because we need to regenerate the links when the settings are being changed\n  // in the content manager configurations list\n\n  (0, _react.useEffect)(function () {\n    setUpdateMenu(function () {\n      toggleLoading();\n      generateMenu();\n    }); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  return /*#__PURE__*/_react[\"default\"].createElement(_Wrapper[\"default\"], null, /*#__PURE__*/_react[\"default\"].createElement(_Loader[\"default\"], {\n    show: isLoading\n  }), /*#__PURE__*/_react[\"default\"].createElement(_LeftMenu.LeftMenuHeader, null), /*#__PURE__*/_react[\"default\"].createElement(_LeftMenu.LinksContainer, null, filteredCollectionTypeLinks.length > 0 && /*#__PURE__*/_react[\"default\"].createElement(_LeftMenu.LeftMenuLinksSection, {\n    section: \"collectionType\",\n    name: \"collectionType\",\n    links: filteredCollectionTypeLinks,\n    location: location,\n    searchable: true\n  }), filteredSingleTypeLinks.length > 0 && /*#__PURE__*/_react[\"default\"].createElement(_LeftMenu.LeftMenuLinksSection, {\n    section: \"singleType\",\n    name: \"singleType\",\n    links: filteredSingleTypeLinks,\n    location: location,\n    searchable: true\n  }), pluginsSectionLinks.length > 0 && /*#__PURE__*/_react[\"default\"].createElement(_LeftMenu.LeftMenuLinksSection, {\n    section: \"plugins\",\n    name: \"plugins\",\n    links: pluginsSectionLinks,\n    location: location,\n    searchable: false,\n    emptyLinksListMessage: \"app.components.LeftMenuLinkContainer.noPluginsInstalled\"\n  }), generalSectionLinks.length > 0 && /*#__PURE__*/_react[\"default\"].createElement(_LeftMenu.LeftMenuLinksSection, {\n    section: \"general\",\n    name: \"general\",\n    links: generalSectionLinks,\n    location: location,\n    searchable: false\n  })), /*#__PURE__*/_react[\"default\"].createElement(_LeftMenu.LeftMenuFooter, {\n    key: \"footer\",\n    version: version\n  }));\n};\n\nLeftMenu.propTypes = {\n  shouldUpdateStrapi: _propTypes[\"default\"].bool.isRequired,\n  version: _propTypes[\"default\"].string.isRequired,\n  plugins: _propTypes[\"default\"].object.isRequired,\n  setUpdateMenu: _propTypes[\"default\"].func.isRequired\n};\n\nvar _default = /*#__PURE__*/(0, _react.memo)(LeftMenu);\n\nexports[\"default\"] = _default;","map":{"version":3,"sources":["/Users/joaovictorlobao/prefeituramaragogistrapi/.cache/admin/src/containers/LeftMenu/index.js"],"names":["LeftMenu","shouldUpdateStrapi","version","plugins","setUpdateMenu","location","state","isLoading","collectionTypesSectionLinks","singleTypesSectionLinks","generalSectionLinks","pluginsSectionLinks","toggleLoading","generateMenu","filteredCollectionTypeLinks","filter","isDisplayed","filteredSingleTypeLinks","length","propTypes","PropTypes","bool","isRequired","string","object","func"],"mappings":"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","sourcesContent":["import React, { memo, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { useLocation } from 'react-router-dom';\nimport {\n  LeftMenuLinksSection,\n  LeftMenuFooter,\n  LeftMenuHeader,\n  LinksContainer,\n} from '../../components/LeftMenu';\nimport Loader from './Loader';\nimport Wrapper from './Wrapper';\nimport useMenuSections from './useMenuSections';\n\nconst LeftMenu = ({ shouldUpdateStrapi, version, plugins, setUpdateMenu }) => {\n  const location = useLocation();\n\n  const {\n    state: {\n      isLoading,\n      collectionTypesSectionLinks,\n      singleTypesSectionLinks,\n      generalSectionLinks,\n      pluginsSectionLinks,\n    },\n    toggleLoading,\n    generateMenu,\n  } = useMenuSections(plugins, shouldUpdateStrapi);\n\n  const filteredCollectionTypeLinks = collectionTypesSectionLinks.filter(\n    ({ isDisplayed }) => isDisplayed\n  );\n  const filteredSingleTypeLinks = singleTypesSectionLinks.filter(({ isDisplayed }) => isDisplayed);\n\n  // This effect is really temporary until we create the menu api\n  // We need this because we need to regenerate the links when the settings are being changed\n  // in the content manager configurations list\n  useEffect(() => {\n    setUpdateMenu(() => {\n      toggleLoading();\n      generateMenu();\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <Wrapper>\n      <Loader show={isLoading} />\n      <LeftMenuHeader />\n      <LinksContainer>\n        {filteredCollectionTypeLinks.length > 0 && (\n          <LeftMenuLinksSection\n            section=\"collectionType\"\n            name=\"collectionType\"\n            links={filteredCollectionTypeLinks}\n            location={location}\n            searchable\n          />\n        )}\n        {filteredSingleTypeLinks.length > 0 && (\n          <LeftMenuLinksSection\n            section=\"singleType\"\n            name=\"singleType\"\n            links={filteredSingleTypeLinks}\n            location={location}\n            searchable\n          />\n        )}\n\n        {pluginsSectionLinks.length > 0 && (\n          <LeftMenuLinksSection\n            section=\"plugins\"\n            name=\"plugins\"\n            links={pluginsSectionLinks}\n            location={location}\n            searchable={false}\n            emptyLinksListMessage=\"app.components.LeftMenuLinkContainer.noPluginsInstalled\"\n          />\n        )}\n        {generalSectionLinks.length > 0 && (\n          <LeftMenuLinksSection\n            section=\"general\"\n            name=\"general\"\n            links={generalSectionLinks}\n            location={location}\n            searchable={false}\n          />\n        )}\n      </LinksContainer>\n      <LeftMenuFooter key=\"footer\" version={version} />\n    </Wrapper>\n  );\n};\n\nLeftMenu.propTypes = {\n  shouldUpdateStrapi: PropTypes.bool.isRequired,\n  version: PropTypes.string.isRequired,\n  plugins: PropTypes.object.isRequired,\n  setUpdateMenu: PropTypes.func.isRequired,\n};\n\nexport default memo(LeftMenu);\n"]},"metadata":{},"sourceType":"script"}