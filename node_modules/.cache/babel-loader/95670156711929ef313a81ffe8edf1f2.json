{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = exports.initialState = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _immer = _interopRequireDefault(require(\"immer\"));\n\nvar _set = _interopRequireDefault(require(\"lodash/set\"));\n\nvar _pluginId = _interopRequireDefault(require(\"../pluginId\"));\n\nvar _constants = require(\"./constants\");\n\nvar initialState = {\n  isLoading: true,\n  locales: []\n};\nexports.initialState = initialState;\nvar localeReducer = (0, _immer[\"default\"])(function () {\n  var draftState = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case _constants.RESOLVE_LOCALES:\n      {\n        draftState.isLoading = false;\n        draftState.locales = action.locales;\n        break;\n      }\n\n    case _constants.ADD_LOCALE:\n      {\n        if (action.newLocale.isDefault) {\n          draftState.locales.forEach(function (locale) {\n            locale.isDefault = false;\n          });\n        }\n\n        draftState.locales.push(action.newLocale);\n        break;\n      }\n\n    case _constants.DELETE_LOCALE:\n      {\n        var locales = draftState.locales.filter(function (locale) {\n          return locale.id !== action.id;\n        });\n        (0, _set[\"default\"])(draftState, 'locales', locales);\n        break;\n      }\n\n    case _constants.UPDATE_LOCALE:\n      {\n        if (action.editedLocale.isDefault) {\n          draftState.locales.forEach(function (locale) {\n            locale.isDefault = false;\n          });\n        }\n\n        var indexToEdit = draftState.locales.findIndex(function (locale) {\n          return locale.id === action.editedLocale.id;\n        });\n        (0, _set[\"default\"])(draftState.locales, indexToEdit, action.editedLocale);\n        break;\n      }\n\n    default:\n      return draftState;\n  }\n\n  return draftState;\n});\nvar reducers = (0, _defineProperty2[\"default\"])({}, \"\".concat(_pluginId[\"default\"], \"_locales\"), localeReducer);\nvar _default = reducers;\nexports[\"default\"] = _default;","map":{"version":3,"sources":["/Users/joaovictorlobao/prefeituramaragogistrapi/.cache/plugins/strapi-plugin-i18n/admin/src/hooks/reducers.js"],"names":["initialState","isLoading","locales","localeReducer","draftState","action","type","RESOLVE_LOCALES","ADD_LOCALE","newLocale","isDefault","forEach","locale","push","DELETE_LOCALE","filter","id","UPDATE_LOCALE","editedLocale","indexToEdit","findIndex","reducers","pluginId"],"mappings":";;;;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AAEO,IAAMA,YAAY,GAAG;AAC1BC,EAAAA,SAAS,EAAE,IADe;AAE1BC,EAAAA,OAAO,EAAE;AAFiB,CAArB;;AAKP,IAAMC,aAAa,GAAG,uBAAQ,YAAuC;AAAA,MAAtCC,UAAsC,uEAAzBJ,YAAyB;AAAA,MAAXK,MAAW;;AACnE,UAAQA,MAAM,CAACC,IAAf;AACE,SAAKC,0BAAL;AAAsB;AACpBH,QAAAA,UAAU,CAACH,SAAX,GAAuB,KAAvB;AACAG,QAAAA,UAAU,CAACF,OAAX,GAAqBG,MAAM,CAACH,OAA5B;AACA;AACD;;AAED,SAAKM,qBAAL;AAAiB;AACf,YAAIH,MAAM,CAACI,SAAP,CAAiBC,SAArB,EAAgC;AAC9BN,UAAAA,UAAU,CAACF,OAAX,CAAmBS,OAAnB,CAA2B,UAAAC,MAAM,EAAI;AACnCA,YAAAA,MAAM,CAACF,SAAP,GAAmB,KAAnB;AACD,WAFD;AAGD;;AAEDN,QAAAA,UAAU,CAACF,OAAX,CAAmBW,IAAnB,CAAwBR,MAAM,CAACI,SAA/B;AACA;AACD;;AAED,SAAKK,wBAAL;AAAoB;AAClB,YAAMZ,OAAO,GAAGE,UAAU,CAACF,OAAX,CAAmBa,MAAnB,CAA0B,UAAAH,MAAM;AAAA,iBAAIA,MAAM,CAACI,EAAP,KAAcX,MAAM,CAACW,EAAzB;AAAA,SAAhC,CAAhB;AAEA,6BAAIZ,UAAJ,EAAgB,SAAhB,EAA2BF,OAA3B;AACA;AACD;;AAED,SAAKe,wBAAL;AAAoB;AAClB,YAAIZ,MAAM,CAACa,YAAP,CAAoBR,SAAxB,EAAmC;AACjCN,UAAAA,UAAU,CAACF,OAAX,CAAmBS,OAAnB,CAA2B,UAAAC,MAAM,EAAI;AACnCA,YAAAA,MAAM,CAACF,SAAP,GAAmB,KAAnB;AACD,WAFD;AAGD;;AAED,YAAMS,WAAW,GAAGf,UAAU,CAACF,OAAX,CAAmBkB,SAAnB,CAClB,UAAAR,MAAM;AAAA,iBAAIA,MAAM,CAACI,EAAP,KAAcX,MAAM,CAACa,YAAP,CAAoBF,EAAtC;AAAA,SADY,CAApB;AAIA,6BAAIZ,UAAU,CAACF,OAAf,EAAwBiB,WAAxB,EAAqCd,MAAM,CAACa,YAA5C;AACA;AACD;;AAED;AACE,aAAOd,UAAP;AAzCJ;;AA4CA,SAAOA,UAAP;AACD,CA9CqB,CAAtB;AAgDA,IAAMiB,QAAQ,kDACRC,oBADQ,eACanB,aADb,CAAd;eAIekB,Q","sourcesContent":["import produce from 'immer';\nimport set from 'lodash/set';\nimport pluginId from '../pluginId';\nimport { RESOLVE_LOCALES, ADD_LOCALE, DELETE_LOCALE, UPDATE_LOCALE } from './constants';\n\nexport const initialState = {\n  isLoading: true,\n  locales: [],\n};\n\nconst localeReducer = produce((draftState = initialState, action) => {\n  switch (action.type) {\n    case RESOLVE_LOCALES: {\n      draftState.isLoading = false;\n      draftState.locales = action.locales;\n      break;\n    }\n\n    case ADD_LOCALE: {\n      if (action.newLocale.isDefault) {\n        draftState.locales.forEach(locale => {\n          locale.isDefault = false;\n        });\n      }\n\n      draftState.locales.push(action.newLocale);\n      break;\n    }\n\n    case DELETE_LOCALE: {\n      const locales = draftState.locales.filter(locale => locale.id !== action.id);\n\n      set(draftState, 'locales', locales);\n      break;\n    }\n\n    case UPDATE_LOCALE: {\n      if (action.editedLocale.isDefault) {\n        draftState.locales.forEach(locale => {\n          locale.isDefault = false;\n        });\n      }\n\n      const indexToEdit = draftState.locales.findIndex(\n        locale => locale.id === action.editedLocale.id\n      );\n\n      set(draftState.locales, indexToEdit, action.editedLocale);\n      break;\n    }\n\n    default:\n      return draftState;\n  }\n\n  return draftState;\n});\n\nconst reducers = {\n  [`${pluginId}_locales`]: localeReducer,\n};\n\nexport default reducers;\n"]},"metadata":{},"sourceType":"script"}