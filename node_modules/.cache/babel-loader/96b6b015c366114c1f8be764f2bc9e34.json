{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _lodash = require(\"lodash\");\n\nvar cleanPermissions = function cleanPermissions(permissions) {\n  return Object.keys(permissions).reduce(function (acc, current) {\n    var currentPermission = permissions[current].controllers;\n    var cleanedControllers = Object.keys(currentPermission).reduce(function (acc2, curr) {\n      if ((0, _lodash.isEmpty)(currentPermission[curr])) {\n        return acc2;\n      }\n\n      acc2[curr] = currentPermission[curr];\n      return acc2;\n    }, {});\n\n    if ((0, _lodash.isEmpty)(cleanedControllers)) {\n      return acc;\n    }\n\n    acc[current] = {\n      controllers: cleanedControllers\n    };\n    return acc;\n  }, {});\n};\n\nvar _default = cleanPermissions;\nexports[\"default\"] = _default;","map":{"version":3,"sources":["/Users/joaovictorlobao/prefeituramaragogistrapi/.cache/plugins/strapi-plugin-users-permissions/admin/src/utils/cleanPermissions.js"],"names":["cleanPermissions","permissions","Object","keys","reduce","acc","current","currentPermission","controllers","cleanedControllers","acc2","curr"],"mappings":";;;;;;;AAAA;;AAEA,IAAMA,gBAAgB,GAAG,SAAnBA,gBAAmB,CAAAC,WAAW;AAAA,SAClCC,MAAM,CAACC,IAAP,CAAYF,WAAZ,EAAyBG,MAAzB,CAAgC,UAACC,GAAD,EAAMC,OAAN,EAAkB;AAChD,QAAMC,iBAAiB,GAAGN,WAAW,CAACK,OAAD,CAAX,CAAqBE,WAA/C;AACA,QAAMC,kBAAkB,GAAGP,MAAM,CAACC,IAAP,CAAYI,iBAAZ,EAA+BH,MAA/B,CAAsC,UAACM,IAAD,EAAOC,IAAP,EAAgB;AAC/E,UAAI,qBAAQJ,iBAAiB,CAACI,IAAD,CAAzB,CAAJ,EAAsC;AACpC,eAAOD,IAAP;AACD;;AAEDA,MAAAA,IAAI,CAACC,IAAD,CAAJ,GAAaJ,iBAAiB,CAACI,IAAD,CAA9B;AAEA,aAAOD,IAAP;AACD,KAR0B,EAQxB,EARwB,CAA3B;;AAUA,QAAI,qBAAQD,kBAAR,CAAJ,EAAiC;AAC/B,aAAOJ,GAAP;AACD;;AAEDA,IAAAA,GAAG,CAACC,OAAD,CAAH,GAAe;AAAEE,MAAAA,WAAW,EAAEC;AAAf,KAAf;AAEA,WAAOJ,GAAP;AACD,GAnBD,EAmBG,EAnBH,CADkC;AAAA,CAApC;;eAsBeL,gB","sourcesContent":["import { isEmpty } from 'lodash';\n\nconst cleanPermissions = permissions =>\n  Object.keys(permissions).reduce((acc, current) => {\n    const currentPermission = permissions[current].controllers;\n    const cleanedControllers = Object.keys(currentPermission).reduce((acc2, curr) => {\n      if (isEmpty(currentPermission[curr])) {\n        return acc2;\n      }\n\n      acc2[curr] = currentPermission[curr];\n\n      return acc2;\n    }, {});\n\n    if (isEmpty(cleanedControllers)) {\n      return acc;\n    }\n\n    acc[current] = { controllers: cleanedControllers };\n\n    return acc;\n  }, {});\n\nexport default cleanPermissions;\n"]},"metadata":{},"sourceType":"script"}