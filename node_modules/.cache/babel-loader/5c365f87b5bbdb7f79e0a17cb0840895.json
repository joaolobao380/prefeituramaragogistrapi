{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _typeof = require(\"@babel/runtime/helpers/typeof\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _hooks = require(\"../../hooks\");\n\nvar _NonRepeatableWrapper = _interopRequireDefault(require(\"../NonRepeatableWrapper\"));\n\nvar _Inputs = _interopRequireDefault(require(\"../Inputs\"));\n\nvar _FieldComponent = _interopRequireDefault(require(\"../FieldComponent\"));\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n/* eslint-disable react/no-array-index-key */\n\n/* eslint-disable import/no-cycle */\nvar NonRepeatableComponent = function NonRepeatableComponent(_ref) {\n  var componentUid = _ref.componentUid,\n      isFromDynamicZone = _ref.isFromDynamicZone,\n      name = _ref.name;\n\n  var _useContentTypeLayout = (0, _hooks.useContentTypeLayout)(),\n      getComponentLayout = _useContentTypeLayout.getComponentLayout;\n\n  var componentLayoutData = (0, _react.useMemo)(function () {\n    return getComponentLayout(componentUid);\n  }, [componentUid, getComponentLayout]);\n  var fields = componentLayoutData.layouts.edit;\n  return /*#__PURE__*/_react[\"default\"].createElement(_NonRepeatableWrapper[\"default\"], {\n    isFromDynamicZone: isFromDynamicZone\n  }, fields.map(function (fieldRow, key) {\n    return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: \"row\",\n      key: key\n    }, fieldRow.map(function (_ref2) {\n      var fieldName = _ref2.name,\n          size = _ref2.size,\n          metadatas = _ref2.metadatas,\n          fieldSchema = _ref2.fieldSchema,\n          queryInfos = _ref2.queryInfos;\n      var isComponent = fieldSchema.type === 'component';\n      var keys = \"\".concat(name, \".\").concat(fieldName);\n\n      if (isComponent) {\n        var compoUid = fieldSchema.component;\n        return /*#__PURE__*/_react[\"default\"].createElement(_FieldComponent[\"default\"], {\n          key: fieldName,\n          componentUid: compoUid,\n          isRepeatable: fieldSchema.repeatable,\n          label: metadatas.label,\n          max: fieldSchema.max,\n          min: fieldSchema.min,\n          name: keys\n        });\n      }\n\n      return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        key: fieldName,\n        className: \"col-\".concat(size)\n      }, /*#__PURE__*/_react[\"default\"].createElement(_Inputs[\"default\"], {\n        keys: keys,\n        fieldSchema: fieldSchema,\n        metadatas: metadatas,\n        componentUid: componentUid,\n        queryInfos: queryInfos\n      }));\n    }));\n  }));\n};\n\nNonRepeatableComponent.defaultProps = {\n  isFromDynamicZone: false\n};\nNonRepeatableComponent.propTypes = {\n  componentUid: _propTypes[\"default\"].string.isRequired,\n  isFromDynamicZone: _propTypes[\"default\"].bool,\n  name: _propTypes[\"default\"].string.isRequired\n};\nvar _default = NonRepeatableComponent;\nexports[\"default\"] = _default;","map":{"version":3,"sources":["/Users/joaovictorlobao/prefeituramaragogistrapi/.cache/plugins/strapi-plugin-content-manager/admin/src/components/NonRepeatableComponent/index.js"],"names":["NonRepeatableComponent","componentUid","isFromDynamicZone","name","getComponentLayout","componentLayoutData","fields","layouts","edit","map","fieldRow","key","fieldName","size","metadatas","fieldSchema","queryInfos","isComponent","type","keys","compoUid","component","repeatable","label","max","min","defaultProps","propTypes","PropTypes","string","isRequired","bool"],"mappings":";;;;;;;;;;;AAGA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;AARA;;AACA;AASA,IAAMA,sBAAsB,GAAG,SAAzBA,sBAAyB,OAA+C;AAAA,MAA5CC,YAA4C,QAA5CA,YAA4C;AAAA,MAA9BC,iBAA8B,QAA9BA,iBAA8B;AAAA,MAAXC,IAAW,QAAXA,IAAW;;AAC5E,8BAA+B,kCAA/B;AAAA,MAAQC,kBAAR,yBAAQA,kBAAR;;AACA,MAAMC,mBAAmB,GAAG,oBAAQ;AAAA,WAAMD,kBAAkB,CAACH,YAAD,CAAxB;AAAA,GAAR,EAAgD,CAC1EA,YAD0E,EAE1EG,kBAF0E,CAAhD,CAA5B;AAIA,MAAME,MAAM,GAAGD,mBAAmB,CAACE,OAApB,CAA4BC,IAA3C;AAEA,sBACE,gCAAC,gCAAD;AAAsB,IAAA,iBAAiB,EAAEN;AAAzC,KACGI,MAAM,CAACG,GAAP,CAAW,UAACC,QAAD,EAAWC,GAAX,EAAmB;AAC7B,wBACE;AAAK,MAAA,SAAS,EAAC,KAAf;AAAqB,MAAA,GAAG,EAAEA;AAA1B,OACGD,QAAQ,CAACD,GAAT,CAAa,iBAAmE;AAAA,UAA1DG,SAA0D,SAAhET,IAAgE;AAAA,UAA/CU,IAA+C,SAA/CA,IAA+C;AAAA,UAAzCC,SAAyC,SAAzCA,SAAyC;AAAA,UAA9BC,WAA8B,SAA9BA,WAA8B;AAAA,UAAjBC,UAAiB,SAAjBA,UAAiB;AAC/E,UAAMC,WAAW,GAAGF,WAAW,CAACG,IAAZ,KAAqB,WAAzC;AACA,UAAMC,IAAI,aAAMhB,IAAN,cAAcS,SAAd,CAAV;;AAEA,UAAIK,WAAJ,EAAiB;AACf,YAAMG,QAAQ,GAAGL,WAAW,CAACM,SAA7B;AAEA,4BACE,gCAAC,0BAAD;AACE,UAAA,GAAG,EAAET,SADP;AAEE,UAAA,YAAY,EAAEQ,QAFhB;AAGE,UAAA,YAAY,EAAEL,WAAW,CAACO,UAH5B;AAIE,UAAA,KAAK,EAAER,SAAS,CAACS,KAJnB;AAKE,UAAA,GAAG,EAAER,WAAW,CAACS,GALnB;AAME,UAAA,GAAG,EAAET,WAAW,CAACU,GANnB;AAOE,UAAA,IAAI,EAAEN;AAPR,UADF;AAWD;;AAED,0BACE;AAAK,QAAA,GAAG,EAAEP,SAAV;AAAqB,QAAA,SAAS,gBAASC,IAAT;AAA9B,sBACE,gCAAC,kBAAD;AACE,QAAA,IAAI,EAAEM,IADR;AAEE,QAAA,WAAW,EAAEJ,WAFf;AAGE,QAAA,SAAS,EAAED,SAHb;AAIE,QAAA,YAAY,EAAEb,YAJhB;AAKE,QAAA,UAAU,EAAEe;AALd,QADF,CADF;AAWD,KA/BA,CADH,CADF;AAoCD,GArCA,CADH,CADF;AA0CD,CAlDD;;AAoDAhB,sBAAsB,CAAC0B,YAAvB,GAAsC;AACpCxB,EAAAA,iBAAiB,EAAE;AADiB,CAAtC;AAIAF,sBAAsB,CAAC2B,SAAvB,GAAmC;AACjC1B,EAAAA,YAAY,EAAE2B,sBAAUC,MAAV,CAAiBC,UADE;AAEjC5B,EAAAA,iBAAiB,EAAE0B,sBAAUG,IAFI;AAGjC5B,EAAAA,IAAI,EAAEyB,sBAAUC,MAAV,CAAiBC;AAHU,CAAnC;eAMe9B,sB","sourcesContent":["/* eslint-disable react/no-array-index-key */\n/* eslint-disable import/no-cycle */\n\nimport React, { useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport { useContentTypeLayout } from '../../hooks';\nimport NonRepeatableWrapper from '../NonRepeatableWrapper';\nimport Inputs from '../Inputs';\nimport FieldComponent from '../FieldComponent';\n\nconst NonRepeatableComponent = ({ componentUid, isFromDynamicZone, name }) => {\n  const { getComponentLayout } = useContentTypeLayout();\n  const componentLayoutData = useMemo(() => getComponentLayout(componentUid), [\n    componentUid,\n    getComponentLayout,\n  ]);\n  const fields = componentLayoutData.layouts.edit;\n\n  return (\n    <NonRepeatableWrapper isFromDynamicZone={isFromDynamicZone}>\n      {fields.map((fieldRow, key) => {\n        return (\n          <div className=\"row\" key={key}>\n            {fieldRow.map(({ name: fieldName, size, metadatas, fieldSchema, queryInfos }) => {\n              const isComponent = fieldSchema.type === 'component';\n              const keys = `${name}.${fieldName}`;\n\n              if (isComponent) {\n                const compoUid = fieldSchema.component;\n\n                return (\n                  <FieldComponent\n                    key={fieldName}\n                    componentUid={compoUid}\n                    isRepeatable={fieldSchema.repeatable}\n                    label={metadatas.label}\n                    max={fieldSchema.max}\n                    min={fieldSchema.min}\n                    name={keys}\n                  />\n                );\n              }\n\n              return (\n                <div key={fieldName} className={`col-${size}`}>\n                  <Inputs\n                    keys={keys}\n                    fieldSchema={fieldSchema}\n                    metadatas={metadatas}\n                    componentUid={componentUid}\n                    queryInfos={queryInfos}\n                  />\n                </div>\n              );\n            })}\n          </div>\n        );\n      })}\n    </NonRepeatableWrapper>\n  );\n};\n\nNonRepeatableComponent.defaultProps = {\n  isFromDynamicZone: false,\n};\n\nNonRepeatableComponent.propTypes = {\n  componentUid: PropTypes.string.isRequired,\n  isFromDynamicZone: PropTypes.bool,\n  name: PropTypes.string.isRequired,\n};\n\nexport default NonRepeatableComponent;\n"]},"metadata":{},"sourceType":"script"}