{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _lodash = require(\"lodash\");\n\nvar ALLOWED_KEYS = ['header_label', 'header_icon_name', 'header_icon_isCustom', 'header_info_category', 'header_info_name'];\n\nvar createHeadersArray = function createHeadersArray(obj) {\n  var array = Object.keys(obj).reduce(function (acc, current) {\n    var splitted = current.split('_');\n    var currentKeys = splitted.filter(function (_, i) {\n      return i !== splitted.length - 1;\n    });\n\n    if (ALLOWED_KEYS.includes(currentKeys.join('_'))) {\n      var currentKeysIndex = parseInt(splitted[splitted.length - 1] - 1, 10);\n      var path = [currentKeysIndex].concat((0, _toConsumableArray2[\"default\"])(currentKeys.filter(function (key) {\n        return key !== 'header';\n      })));\n      var value = obj[current];\n\n      if (current.includes('isCustom')) {\n        value = obj[current] === 'true';\n      }\n\n      (0, _lodash.set)(acc, path, value);\n    }\n\n    return acc;\n  }, []);\n  return array.filter(function (obj) {\n    return obj.label !== null;\n  });\n};\n\nvar _default = createHeadersArray;\nexports[\"default\"] = _default;","map":{"version":3,"sources":["/Users/joaovictorlobao/prefeituramaragogistrapi/.cache/plugins/strapi-plugin-content-type-builder/admin/src/containers/FormModal/utils/createHeadersArray.js"],"names":["ALLOWED_KEYS","createHeadersArray","obj","array","Object","keys","reduce","acc","current","splitted","split","currentKeys","filter","_","i","length","includes","join","currentKeysIndex","parseInt","path","key","value","label"],"mappings":";;;;;;;;;;;AAAA;;AAEA,IAAMA,YAAY,GAAG,CACnB,cADmB,EAEnB,kBAFmB,EAGnB,sBAHmB,EAInB,sBAJmB,EAKnB,kBALmB,CAArB;;AAOA,IAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,CAAAC,GAAG,EAAI;AAChC,MAAMC,KAAK,GAAGC,MAAM,CAACC,IAAP,CAAYH,GAAZ,EAAiBI,MAAjB,CAAwB,UAACC,GAAD,EAAMC,OAAN,EAAkB;AACtD,QAAMC,QAAQ,GAAGD,OAAO,CAACE,KAAR,CAAc,GAAd,CAAjB;AACA,QAAMC,WAAW,GAAGF,QAAQ,CAACG,MAAT,CAAgB,UAACC,CAAD,EAAIC,CAAJ;AAAA,aAAUA,CAAC,KAAKL,QAAQ,CAACM,MAAT,GAAkB,CAAlC;AAAA,KAAhB,CAApB;;AAEA,QAAIf,YAAY,CAACgB,QAAb,CAAsBL,WAAW,CAACM,IAAZ,CAAiB,GAAjB,CAAtB,CAAJ,EAAkD;AAChD,UAAMC,gBAAgB,GAAGC,QAAQ,CAACV,QAAQ,CAACA,QAAQ,CAACM,MAAT,GAAkB,CAAnB,CAAR,GAAgC,CAAjC,EAAoC,EAApC,CAAjC;AACA,UAAMK,IAAI,IACRF,gBADQ,6CAELP,WAAW,CAACC,MAAZ,CAAmB,UAAAS,GAAG;AAAA,eAAIA,GAAG,KAAK,QAAZ;AAAA,OAAtB,CAFK,EAAV;AAKA,UAAIC,KAAK,GAAGpB,GAAG,CAACM,OAAD,CAAf;;AAEA,UAAIA,OAAO,CAACQ,QAAR,CAAiB,UAAjB,CAAJ,EAAkC;AAChCM,QAAAA,KAAK,GAAGpB,GAAG,CAACM,OAAD,CAAH,KAAiB,MAAzB;AACD;;AAED,uBAAID,GAAJ,EAASa,IAAT,EAAeE,KAAf;AACD;;AAED,WAAOf,GAAP;AACD,GArBa,EAqBX,EArBW,CAAd;AAuBA,SAAOJ,KAAK,CAACS,MAAN,CAAa,UAAAV,GAAG;AAAA,WAAIA,GAAG,CAACqB,KAAJ,KAAc,IAAlB;AAAA,GAAhB,CAAP;AACD,CAzBD;;eA2BetB,kB","sourcesContent":["import { set } from 'lodash';\n\nconst ALLOWED_KEYS = [\n  'header_label',\n  'header_icon_name',\n  'header_icon_isCustom',\n  'header_info_category',\n  'header_info_name',\n];\nconst createHeadersArray = obj => {\n  const array = Object.keys(obj).reduce((acc, current) => {\n    const splitted = current.split('_');\n    const currentKeys = splitted.filter((_, i) => i !== splitted.length - 1);\n\n    if (ALLOWED_KEYS.includes(currentKeys.join('_'))) {\n      const currentKeysIndex = parseInt(splitted[splitted.length - 1] - 1, 10);\n      const path = [\n        currentKeysIndex,\n        ...currentKeys.filter(key => key !== 'header'),\n      ];\n\n      let value = obj[current];\n\n      if (current.includes('isCustom')) {\n        value = obj[current] === 'true';\n      }\n\n      set(acc, path, value);\n    }\n\n    return acc;\n  }, []);\n\n  return array.filter(obj => obj.label !== null);\n};\n\nexport default createHeadersArray;\n"]},"metadata":{},"sourceType":"script"}