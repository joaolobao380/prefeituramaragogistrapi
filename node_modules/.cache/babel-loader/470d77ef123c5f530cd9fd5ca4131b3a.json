{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _typeof = require(\"@babel/runtime/helpers/typeof\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _lodash = require(\"lodash\");\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _DraggedField = _interopRequireDefault(require(\"../DraggedField\"));\n\nvar _PreviewCarret = _interopRequireDefault(require(\"../PreviewCarret\"));\n\nvar _Carret = _interopRequireDefault(require(\"./Carret\"));\n\nvar _DynamicZoneWrapper = _interopRequireDefault(require(\"./DynamicZoneWrapper\"));\n\nvar _Wrapper = _interopRequireDefault(require(\"./Wrapper\"));\n\nvar _DynamicComponent = _interopRequireDefault(require(\"./DynamicComponent\"));\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n/* eslint-disable react/no-array-index-key */\nvar DraggedFieldWithPreview = /*#__PURE__*/(0, _react.forwardRef)(function (_ref, refs) {\n  var goTo = _ref.goTo,\n      componentUid = _ref.componentUid,\n      componentLayouts = _ref.componentLayouts,\n      dynamicZoneComponents = _ref.dynamicZoneComponents,\n      isDragging = _ref.isDragging,\n      label = _ref.label,\n      name = _ref.name,\n      onClickEdit = _ref.onClickEdit,\n      onClickRemove = _ref.onClickRemove,\n      selectedItem = _ref.selectedItem,\n      showLeftCarret = _ref.showLeftCarret,\n      showRightCarret = _ref.showRightCarret,\n      size = _ref.size,\n      style = _ref.style,\n      type = _ref.type;\n  var isHidden = name === '_TEMP_';\n\n  var _useState = (0, _react.useState)(false),\n      _useState2 = (0, _slicedToArray2[\"default\"])(_useState, 2),\n      dragStart = _useState2[0],\n      setDragStart = _useState2[1];\n\n  var _useState3 = (0, _react.useState)(false),\n      _useState4 = (0, _slicedToArray2[\"default\"])(_useState3, 2),\n      isOverDynamicZone = _useState4[0],\n      setIsOverDynamicZone = _useState4[1];\n\n  var opacity = isDragging ? 0.2 : 1;\n  var isFullSize = size === 12;\n  var display = isFullSize && dragStart ? 'none' : '';\n  var width = isFullSize && dragStart ? 0 : '100%';\n  var higherFields = ['json', 'text', 'file', 'media', 'component', 'richtext', 'dynamiczone'];\n  var withLongerHeight = higherFields.includes(type) && !dragStart;\n\n  var getCompoInfos = function getCompoInfos(uid) {\n    return (0, _lodash.get)(componentLayouts, [uid, 'info'], {\n      name: '',\n      icon: ''\n    });\n  };\n\n  var componentData = (0, _lodash.get)(componentLayouts, [componentUid], {});\n  var componentLayout = (0, _lodash.get)(componentData, ['layouts', 'edit'], []);\n\n  var getWrapperWitdh = function getWrapperWitdh(colNum) {\n    return \"\".concat(1 / 12 * colNum * 100, \"%\");\n  };\n\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    style: {\n      width: getWrapperWitdh(size)\n    },\n    onDrag: function onDrag() {\n      if (isFullSize && !dragStart) {\n        setDragStart(true);\n      }\n    },\n    onDragEnd: function onDragEnd() {\n      if (isFullSize) {\n        setDragStart(false);\n      }\n    }\n  }, /*#__PURE__*/_react[\"default\"].createElement(_Wrapper[\"default\"], {\n    ref: refs.dropRef,\n    withLongerHeight: withLongerHeight,\n    style: style\n  }, dragStart && isFullSize && /*#__PURE__*/_react[\"default\"].createElement(_PreviewCarret[\"default\"], {\n    style: {\n      marginRight: '-10px'\n    }\n  }), /*#__PURE__*/_react[\"default\"].createElement(_react[\"default\"].Fragment, null, showLeftCarret && /*#__PURE__*/_react[\"default\"].createElement(_Carret[\"default\"], null), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: \"sub\",\n    style: {\n      width: width,\n      opacity: opacity\n    }\n  }, /*#__PURE__*/_react[\"default\"].createElement(_DraggedField[\"default\"], {\n    goTo: goTo,\n    componentUid: componentUid,\n    isHidden: isHidden,\n    isOverDynamicZone: isOverDynamicZone,\n    label: label,\n    name: name,\n    onClick: onClickEdit,\n    onRemove: onClickRemove,\n    ref: refs.dragRef,\n    selectedItem: selectedItem,\n    style: {\n      display: display,\n      marginRight: 0,\n      paddingRight: 0\n    },\n    type: type,\n    withLongerHeight: withLongerHeight\n  }, type === 'component' && componentLayout.map(function (row, i) {\n    var marginBottom = i === componentLayout.length - 1 ? '29px' : '';\n    var marginTop = i === 0 ? '5px' : '';\n    return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      style: {\n        display: 'flex',\n        marginBottom: marginBottom,\n        marginTop: marginTop\n      },\n      key: i\n    }, row.map(function (field) {\n      var fieldType = (0, _lodash.get)(componentData, ['attributes', field.name, 'type'], '');\n      var label = (0, _lodash.get)(componentData, ['metadatas', field.name, 'edit', 'label'], '');\n      return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        key: field.name,\n        style: {\n          width: getWrapperWitdh(field.size),\n          marginBottom: '6px'\n        }\n      }, /*#__PURE__*/_react[\"default\"].createElement(_DraggedField[\"default\"], {\n        label: label,\n        name: field.name,\n        isSub: true,\n        withLongerHeight: higherFields.includes(fieldType)\n      }));\n    }));\n  }), type === 'dynamiczone' && /*#__PURE__*/_react[\"default\"].createElement(_DynamicZoneWrapper[\"default\"], null, dynamicZoneComponents.map(function (compo) {\n    var _getCompoInfos = getCompoInfos(compo),\n        name = _getCompoInfos.name,\n        icon = _getCompoInfos.icon;\n\n    return /*#__PURE__*/_react[\"default\"].createElement(_DynamicComponent[\"default\"], {\n      key: compo,\n      componentUid: compo,\n      friendlyName: name,\n      icon: icon,\n      setIsOverDynamicZone: setIsOverDynamicZone\n    });\n  })))), showRightCarret && /*#__PURE__*/_react[\"default\"].createElement(_Carret[\"default\"], {\n    right: true\n  }))));\n});\nDraggedFieldWithPreview.defaultProps = {\n  goTo: function goTo() {},\n  componentLayouts: {},\n  componentUid: null,\n  dynamicZoneComponents: [],\n  isDragging: false,\n  label: '',\n  onClickEdit: function onClickEdit() {},\n  onClickRemove: function onClickRemove() {},\n  selectedItem: '',\n  showLeftCarret: false,\n  showRightCarret: false,\n  size: 1,\n  style: {},\n  type: 'string'\n};\nDraggedFieldWithPreview.propTypes = {\n  goTo: _propTypes[\"default\"].func,\n  componentLayouts: _propTypes[\"default\"].object,\n  componentUid: _propTypes[\"default\"].string,\n  dynamicZoneComponents: _propTypes[\"default\"].array,\n  isDragging: _propTypes[\"default\"].bool,\n  label: _propTypes[\"default\"].string,\n  name: _propTypes[\"default\"].string.isRequired,\n  onClickEdit: _propTypes[\"default\"].func,\n  onClickRemove: _propTypes[\"default\"].func,\n  selectedItem: _propTypes[\"default\"].string,\n  showLeftCarret: _propTypes[\"default\"].bool,\n  showRightCarret: _propTypes[\"default\"].bool,\n  size: _propTypes[\"default\"].number,\n  style: _propTypes[\"default\"].object,\n  type: _propTypes[\"default\"].string\n};\nDraggedFieldWithPreview.displayName = 'DraggedFieldWithPreview';\nvar _default = DraggedFieldWithPreview;\nexports[\"default\"] = _default;","map":{"version":3,"sources":["/Users/joaovictorlobao/prefeituramaragogistrapi/.cache/plugins/strapi-plugin-content-manager/admin/src/components/DraggedFieldWithPreview/index.js"],"names":["DraggedFieldWithPreview","refs","goTo","componentUid","componentLayouts","dynamicZoneComponents","isDragging","label","name","onClickEdit","onClickRemove","selectedItem","showLeftCarret","showRightCarret","size","style","type","isHidden","dragStart","setDragStart","isOverDynamicZone","setIsOverDynamicZone","opacity","isFullSize","display","width","higherFields","withLongerHeight","includes","getCompoInfos","uid","icon","componentData","componentLayout","getWrapperWitdh","colNum","dropRef","marginRight","dragRef","paddingRight","map","row","i","marginBottom","length","marginTop","field","fieldType","compo","defaultProps","propTypes","PropTypes","func","object","string","array","bool","isRequired","number","displayName"],"mappings":"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","sourcesContent":["import React, { forwardRef, useState } from 'react';\nimport { get } from 'lodash';\nimport PropTypes from 'prop-types';\nimport DraggedField from '../DraggedField';\nimport PreviewCarret from '../PreviewCarret';\nimport Carret from './Carret';\nimport DynamicZoneWrapper from './DynamicZoneWrapper';\nimport Wrapper from './Wrapper';\nimport DynamicComponent from './DynamicComponent';\n\n/* eslint-disable react/no-array-index-key */\n\nconst DraggedFieldWithPreview = forwardRef(\n  (\n    {\n      goTo,\n      componentUid,\n      componentLayouts,\n      dynamicZoneComponents,\n      isDragging,\n      label,\n      name,\n      onClickEdit,\n      onClickRemove,\n      selectedItem,\n      showLeftCarret,\n      showRightCarret,\n      size,\n      style,\n      type,\n    },\n    refs\n  ) => {\n    const isHidden = name === '_TEMP_';\n    const [dragStart, setDragStart] = useState(false);\n    const [isOverDynamicZone, setIsOverDynamicZone] = useState(false);\n    const opacity = isDragging ? 0.2 : 1;\n    const isFullSize = size === 12;\n    const display = isFullSize && dragStart ? 'none' : '';\n    const width = isFullSize && dragStart ? 0 : '100%';\n    const higherFields = ['json', 'text', 'file', 'media', 'component', 'richtext', 'dynamiczone'];\n    const withLongerHeight = higherFields.includes(type) && !dragStart;\n    const getCompoInfos = uid => get(componentLayouts, [uid, 'info'], { name: '', icon: '' });\n\n    const componentData = get(componentLayouts, [componentUid], {});\n    const componentLayout = get(componentData, ['layouts', 'edit'], []);\n    const getWrapperWitdh = colNum => `${(1 / 12) * colNum * 100}%`;\n\n    return (\n      <div\n        style={{ width: getWrapperWitdh(size) }}\n        onDrag={() => {\n          if (isFullSize && !dragStart) {\n            setDragStart(true);\n          }\n        }}\n        onDragEnd={() => {\n          if (isFullSize) {\n            setDragStart(false);\n          }\n        }}\n      >\n        <Wrapper ref={refs.dropRef} withLongerHeight={withLongerHeight} style={style}>\n          {dragStart && isFullSize && <PreviewCarret style={{ marginRight: '-10px' }} />}\n          <>\n            {showLeftCarret && <Carret />}\n\n            <div className=\"sub\" style={{ width, opacity }}>\n              <DraggedField\n                goTo={goTo}\n                componentUid={componentUid}\n                isHidden={isHidden}\n                isOverDynamicZone={isOverDynamicZone}\n                label={label}\n                name={name}\n                onClick={onClickEdit}\n                onRemove={onClickRemove}\n                ref={refs.dragRef}\n                selectedItem={selectedItem}\n                style={{ display, marginRight: 0, paddingRight: 0 }}\n                type={type}\n                withLongerHeight={withLongerHeight}\n              >\n                {type === 'component' &&\n                  componentLayout.map((row, i) => {\n                    const marginBottom = i === componentLayout.length - 1 ? '29px' : '';\n                    const marginTop = i === 0 ? '5px' : '';\n\n                    return (\n                      <div\n                        style={{\n                          display: 'flex',\n                          marginBottom,\n                          marginTop,\n                        }}\n                        key={i}\n                      >\n                        {row.map(field => {\n                          const fieldType = get(\n                            componentData,\n                            ['attributes', field.name, 'type'],\n                            ''\n                          );\n                          const label = get(\n                            componentData,\n                            ['metadatas', field.name, 'edit', 'label'],\n                            ''\n                          );\n\n                          return (\n                            <div\n                              key={field.name}\n                              style={{\n                                width: getWrapperWitdh(field.size),\n                                marginBottom: '6px',\n                              }}\n                            >\n                              <DraggedField\n                                label={label}\n                                name={field.name}\n                                isSub\n                                withLongerHeight={higherFields.includes(fieldType)}\n                              />\n                            </div>\n                          );\n                        })}\n                      </div>\n                    );\n                  })}\n                {type === 'dynamiczone' && (\n                  <DynamicZoneWrapper>\n                    {dynamicZoneComponents.map(compo => {\n                      const { name, icon } = getCompoInfos(compo);\n\n                      return (\n                        <DynamicComponent\n                          key={compo}\n                          componentUid={compo}\n                          friendlyName={name}\n                          icon={icon}\n                          setIsOverDynamicZone={setIsOverDynamicZone}\n                        />\n                      );\n                    })}\n                  </DynamicZoneWrapper>\n                )}\n              </DraggedField>\n            </div>\n            {showRightCarret && <Carret right />}\n          </>\n        </Wrapper>\n      </div>\n    );\n  }\n);\n\nDraggedFieldWithPreview.defaultProps = {\n  goTo: () => {},\n  componentLayouts: {},\n  componentUid: null,\n  dynamicZoneComponents: [],\n  isDragging: false,\n  label: '',\n  onClickEdit: () => {},\n  onClickRemove: () => {},\n  selectedItem: '',\n  showLeftCarret: false,\n  showRightCarret: false,\n  size: 1,\n  style: {},\n  type: 'string',\n};\n\nDraggedFieldWithPreview.propTypes = {\n  goTo: PropTypes.func,\n  componentLayouts: PropTypes.object,\n  componentUid: PropTypes.string,\n  dynamicZoneComponents: PropTypes.array,\n  isDragging: PropTypes.bool,\n  label: PropTypes.string,\n  name: PropTypes.string.isRequired,\n  onClickEdit: PropTypes.func,\n  onClickRemove: PropTypes.func,\n  selectedItem: PropTypes.string,\n  showLeftCarret: PropTypes.bool,\n  showRightCarret: PropTypes.bool,\n  size: PropTypes.number,\n  style: PropTypes.object,\n  type: PropTypes.string,\n};\n\nDraggedFieldWithPreview.displayName = 'DraggedFieldWithPreview';\n\nexport default DraggedFieldWithPreview;\n"]},"metadata":{},"sourceType":"script"}