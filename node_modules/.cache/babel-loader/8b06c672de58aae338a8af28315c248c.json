{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = exports.initialState = void 0;\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _immer = _interopRequireDefault(require(\"immer\"));\n\nvar _constants = require(\"./constants\");\n\n/**\n *\n * RBACManager reducer\n */\nvar initialState = {\n  permissions: null\n};\nexports.initialState = initialState;\n\nvar rbacManagerReducer = function rbacManagerReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  return (// eslint-disable-next-line consistent-return\n    (0, _immer[\"default\"])(state, function (draftState) {\n      switch (action.type) {\n        case _constants.SET_PERMISSIONS:\n          {\n            draftState.permissions = Object.entries(action.permissions).reduce(function (acc, current) {\n              return [].concat((0, _toConsumableArray2[\"default\"])(acc), (0, _toConsumableArray2[\"default\"])(current[1]));\n            }, []);\n            break;\n          }\n\n        case _constants.RESET_PERMISSIONS:\n          {\n            draftState.permissions = null;\n            break;\n          }\n\n        default:\n          return draftState;\n      }\n    })\n  );\n};\n\nvar _default = rbacManagerReducer;\nexports[\"default\"] = _default;","map":{"version":3,"sources":["/Users/joaovictorlobao/prefeituramaragogistrapi/.cache/plugins/strapi-plugin-content-manager/admin/src/containers/RBACManager/reducer.js"],"names":["initialState","permissions","rbacManagerReducer","state","action","draftState","type","SET_PERMISSIONS","Object","entries","reduce","acc","current","RESET_PERMISSIONS"],"mappings":";;;;;;;;;;;AAKA;;AACA;;AANA;AACA;AACA;AACA;AAKO,IAAMA,YAAY,GAAG;AAC1BC,EAAAA,WAAW,EAAE;AADa,CAArB;;;AAIP,IAAMC,kBAAkB,GAAG,SAArBA,kBAAqB;AAAA,MAACC,KAAD,uEAASH,YAAT;AAAA,MAAuBI,MAAvB;AAAA,SACzB;AACA,2BAAQD,KAAR,EAAe,UAAAE,UAAU,EAAI;AAC3B,cAAQD,MAAM,CAACE,IAAf;AACE,aAAKC,0BAAL;AAAsB;AACpBF,YAAAA,UAAU,CAACJ,WAAX,GAAyBO,MAAM,CAACC,OAAP,CAAeL,MAAM,CAACH,WAAtB,EAAmCS,MAAnC,CAA0C,UAACC,GAAD,EAAMC,OAAN,EAAkB;AACnF,mEAAWD,GAAX,uCAAmBC,OAAO,CAAC,CAAD,CAA1B;AACD,aAFwB,EAEtB,EAFsB,CAAzB;AAGA;AACD;;AACD,aAAKC,4BAAL;AAAwB;AACtBR,YAAAA,UAAU,CAACJ,WAAX,GAAyB,IAAzB;AACA;AACD;;AACD;AACE,iBAAOI,UAAP;AAZJ;AAcD,KAfD;AAFyB;AAAA,CAA3B;;eAmBeH,kB","sourcesContent":["/**\n *\n * RBACManager reducer\n */\n\nimport produce from 'immer';\nimport { SET_PERMISSIONS, RESET_PERMISSIONS } from './constants';\n\nexport const initialState = {\n  permissions: null,\n};\n\nconst rbacManagerReducer = (state = initialState, action) =>\n  // eslint-disable-next-line consistent-return\n  produce(state, draftState => {\n    switch (action.type) {\n      case SET_PERMISSIONS: {\n        draftState.permissions = Object.entries(action.permissions).reduce((acc, current) => {\n          return [...acc, ...current[1]];\n        }, []);\n        break;\n      }\n      case RESET_PERMISSIONS: {\n        draftState.permissions = null;\n        break;\n      }\n      default:\n        return draftState;\n    }\n  });\n\nexport default rbacManagerReducer;\n"]},"metadata":{},"sourceType":"script"}