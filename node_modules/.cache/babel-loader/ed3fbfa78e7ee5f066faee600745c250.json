{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _get = _interopRequireDefault(require(\"lodash/get\"));\n\nvar generateOptions = function generateOptions(appLocales, currentLocale, localizations, permissions) {\n  return appLocales.filter(function (_ref) {\n    var code = _ref.code;\n    return code !== currentLocale && (localizations || []).findIndex(function (_ref2) {\n      var locale = _ref2.locale;\n      return locale === code;\n    }) !== -1;\n  }).filter(function (_ref3) {\n    var code = _ref3.code;\n    return permissions.some(function (_ref4) {\n      var properties = _ref4.properties;\n      return (0, _get[\"default\"])(properties, 'locales', []).includes(code);\n    });\n  }).map(function (locale) {\n    return {\n      label: locale.name,\n      value: localizations.find(function (loc) {\n        return locale.code === loc.locale;\n      }).id\n    };\n  });\n};\n\nvar _default = generateOptions;\nexports[\"default\"] = _default;","map":{"version":3,"sources":["/Users/joaovictorlobao/prefeituramaragogistrapi/.cache/plugins/strapi-plugin-i18n/admin/src/components/CMEditViewCopyLocale/utils/generateOptions.js"],"names":["generateOptions","appLocales","currentLocale","localizations","permissions","filter","code","findIndex","locale","some","properties","includes","map","label","name","value","find","loc","id"],"mappings":";;;;;;;;;AAAA;;AAEA,IAAMA,eAAe,GAAG,SAAlBA,eAAkB,CAACC,UAAD,EAAaC,aAAb,EAA4BC,aAA5B,EAA2CC,WAA3C,EAA2D;AACjF,SAAOH,UAAU,CACdI,MADI,CACG,gBAAc;AAAA,QAAXC,IAAW,QAAXA,IAAW;AACpB,WACEA,IAAI,KAAKJ,aAAT,IACA,CAACC,aAAa,IAAI,EAAlB,EAAsBI,SAAtB,CAAgC;AAAA,UAAGC,MAAH,SAAGA,MAAH;AAAA,aAAgBA,MAAM,KAAKF,IAA3B;AAAA,KAAhC,MAAqE,CAAC,CAFxE;AAID,GANI,EAOJD,MAPI,CAOG,iBAAc;AAAA,QAAXC,IAAW,SAAXA,IAAW;AACpB,WAAOF,WAAW,CAACK,IAAZ,CAAiB;AAAA,UAAGC,UAAH,SAAGA,UAAH;AAAA,aAAoB,qBAAIA,UAAJ,EAAgB,SAAhB,EAA2B,EAA3B,EAA+BC,QAA/B,CAAwCL,IAAxC,CAApB;AAAA,KAAjB,CAAP;AACD,GATI,EAUJM,GAVI,CAUA,UAAAJ,MAAM,EAAI;AACb,WAAO;AACLK,MAAAA,KAAK,EAAEL,MAAM,CAACM,IADT;AAELC,MAAAA,KAAK,EAAEZ,aAAa,CAACa,IAAd,CAAmB,UAAAC,GAAG;AAAA,eAAIT,MAAM,CAACF,IAAP,KAAgBW,GAAG,CAACT,MAAxB;AAAA,OAAtB,EAAsDU;AAFxD,KAAP;AAID,GAfI,CAAP;AAgBD,CAjBD;;eAmBelB,e","sourcesContent":["import get from 'lodash/get';\n\nconst generateOptions = (appLocales, currentLocale, localizations, permissions) => {\n  return appLocales\n    .filter(({ code }) => {\n      return (\n        code !== currentLocale &&\n        (localizations || []).findIndex(({ locale }) => locale === code) !== -1\n      );\n    })\n    .filter(({ code }) => {\n      return permissions.some(({ properties }) => get(properties, 'locales', []).includes(code));\n    })\n    .map(locale => {\n      return {\n        label: locale.name,\n        value: localizations.find(loc => locale.code === loc.locale).id,\n      };\n    });\n};\n\nexport default generateOptions;\n"]},"metadata":{},"sourceType":"script"}