{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _taggedTemplateLiteral2 = _interopRequireDefault(require(\"@babel/runtime/helpers/taggedTemplateLiteral\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _styledComponents = _interopRequireDefault(require(\"styled-components\"));\n\nvar _reactSelect = require(\"react-select\");\n\nvar _reactIntl = require(\"react-intl\");\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _lodash = require(\"lodash\");\n\nvar _core = require(\"@buffetjs/core\");\n\nvar _strapiHelperPlugin = require(\"strapi-helper-plugin\");\n\nvar _utils = require(\"../../utils\");\n\nvar _templateObject;\n\nvar TextGrow = (0, _styledComponents[\"default\"])(_core.Text)(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  flex-grow: 2;\\n\"])));\n\nvar Option = function Option(props) {\n  var _useIntl = (0, _reactIntl.useIntl)(),\n      formatMessage = _useIntl.formatMessage;\n\n  var Component = _reactSelect.components.Option;\n  var hasDraftAndPublish = (0, _lodash.has)((0, _lodash.get)(props, 'data.value'), 'published_at');\n  var isDraft = (0, _lodash.isEmpty)((0, _lodash.get)(props, 'data.value.published_at'));\n  var titleLabelID = isDraft ? 'components.Select.draft-info-title' : 'components.Select.publish-info-title';\n  var title = formatMessage({\n    id: (0, _utils.getTrad)(titleLabelID)\n  });\n  var fontWeight = props.isFocused ? 'bold' : 'regular';\n  var mainField = (0, _lodash.get)(props, ['selectProps', 'mainField'], {});\n  var value = (0, _utils.getDisplayedValue)(mainField.schema.type, props.label, mainField.name);\n\n  if (hasDraftAndPublish) {\n    return /*#__PURE__*/_react[\"default\"].createElement(Component, props, /*#__PURE__*/_react[\"default\"].createElement(_core.Flex, null, /*#__PURE__*/_react[\"default\"].createElement(_strapiHelperPlugin.RelationDPState, {\n      marginLeft: \"0\",\n      marginTop: \"1px\",\n      marginRight: \"10px\",\n      isDraft: isDraft,\n      marginBottom: \"0\",\n      title: title\n    }), /*#__PURE__*/_react[\"default\"].createElement(TextGrow, {\n      ellipsis: true,\n      as: \"div\",\n      fontWeight: fontWeight,\n      title: value\n    }, value, \"\\xA0\")));\n  }\n\n  return /*#__PURE__*/_react[\"default\"].createElement(Component, props, /*#__PURE__*/_react[\"default\"].createElement(_core.Text, {\n    ellipsis: true,\n    fontWeight: fontWeight,\n    title: value\n  }, value));\n};\n\nOption.defaultProps = {\n  label: ''\n};\nOption.propTypes = {\n  label: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].string, _propTypes[\"default\"].number]),\n  isFocused: _propTypes[\"default\"].bool.isRequired,\n  selectProps: _propTypes[\"default\"].shape({\n    hasDraftAndPublish: _propTypes[\"default\"].bool,\n    mainField: _propTypes[\"default\"].shape({\n      name: _propTypes[\"default\"].string.isRequired,\n      schema: _propTypes[\"default\"].shape({\n        type: _propTypes[\"default\"].string.isRequired\n      }).isRequired\n    }).isRequired\n  }).isRequired\n};\nvar _default = Option;\nexports[\"default\"] = _default;","map":{"version":3,"sources":["/Users/joaovictorlobao/prefeituramaragogistrapi/.cache/plugins/strapi-plugin-content-manager/admin/src/components/SelectWrapper/Option.js"],"names":["TextGrow","Text","Option","props","formatMessage","Component","components","hasDraftAndPublish","isDraft","titleLabelID","title","id","fontWeight","isFocused","mainField","value","schema","type","label","name","defaultProps","propTypes","PropTypes","oneOfType","string","number","bool","isRequired","selectProps","shape"],"mappings":";;;;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AAEA,IAAMA,QAAQ,GAAG,kCAAOC,UAAP,CAAH,yGAAd;;AAIA,IAAMC,MAAM,GAAG,SAATA,MAAS,CAAAC,KAAK,EAAI;AACtB,iBAA0B,yBAA1B;AAAA,MAAQC,aAAR,YAAQA,aAAR;;AACA,MAAMC,SAAS,GAAGC,wBAAWJ,MAA7B;AACA,MAAMK,kBAAkB,GAAG,iBAAI,iBAAIJ,KAAJ,EAAW,YAAX,CAAJ,EAA8B,cAA9B,CAA3B;AACA,MAAMK,OAAO,GAAG,qBAAQ,iBAAIL,KAAJ,EAAW,yBAAX,CAAR,CAAhB;AACA,MAAMM,YAAY,GAAGD,OAAO,GACxB,oCADwB,GAExB,sCAFJ;AAGA,MAAME,KAAK,GAAGN,aAAa,CAAC;AAAEO,IAAAA,EAAE,EAAE,oBAAQF,YAAR;AAAN,GAAD,CAA3B;AACA,MAAMG,UAAU,GAAGT,KAAK,CAACU,SAAN,GAAkB,MAAlB,GAA2B,SAA9C;AACA,MAAMC,SAAS,GAAG,iBAAIX,KAAJ,EAAW,CAAC,aAAD,EAAgB,WAAhB,CAAX,EAAyC,EAAzC,CAAlB;AACA,MAAMY,KAAK,GAAG,8BAAkBD,SAAS,CAACE,MAAV,CAAiBC,IAAnC,EAAyCd,KAAK,CAACe,KAA/C,EAAsDJ,SAAS,CAACK,IAAhE,CAAd;;AAEA,MAAIZ,kBAAJ,EAAwB;AACtB,wBACE,gCAAC,SAAD,EAAeJ,KAAf,eACE,gCAAC,UAAD,qBACE,gCAAC,mCAAD;AACE,MAAA,UAAU,EAAC,GADb;AAEE,MAAA,SAAS,EAAC,KAFZ;AAGE,MAAA,WAAW,EAAC,MAHd;AAIE,MAAA,OAAO,EAAEK,OAJX;AAKE,MAAA,YAAY,EAAC,GALf;AAME,MAAA,KAAK,EAAEE;AANT,MADF,eAUE,gCAAC,QAAD;AAAU,MAAA,QAAQ,MAAlB;AAAmB,MAAA,EAAE,EAAC,KAAtB;AAA4B,MAAA,UAAU,EAAEE,UAAxC;AAAoD,MAAA,KAAK,EAAEG;AAA3D,OACGA,KADH,SAVF,CADF,CADF;AAkBD;;AAED,sBACE,gCAAC,SAAD,EAAeZ,KAAf,eACE,gCAAC,UAAD;AAAM,IAAA,QAAQ,MAAd;AAAe,IAAA,UAAU,EAAES,UAA3B;AAAuC,IAAA,KAAK,EAAEG;AAA9C,KACGA,KADH,CADF,CADF;AAOD,CAzCD;;AA2CAb,MAAM,CAACkB,YAAP,GAAsB;AACpBF,EAAAA,KAAK,EAAE;AADa,CAAtB;AAIAhB,MAAM,CAACmB,SAAP,GAAmB;AACjBH,EAAAA,KAAK,EAAEI,sBAAUC,SAAV,CAAoB,CAACD,sBAAUE,MAAX,EAAmBF,sBAAUG,MAA7B,CAApB,CADU;AAEjBZ,EAAAA,SAAS,EAAES,sBAAUI,IAAV,CAAeC,UAFT;AAGjBC,EAAAA,WAAW,EAAEN,sBAAUO,KAAV,CAAgB;AAC3BtB,IAAAA,kBAAkB,EAAEe,sBAAUI,IADH;AAE3BZ,IAAAA,SAAS,EAAEQ,sBAAUO,KAAV,CAAgB;AACzBV,MAAAA,IAAI,EAAEG,sBAAUE,MAAV,CAAiBG,UADE;AAEzBX,MAAAA,MAAM,EAAEM,sBAAUO,KAAV,CAAgB;AACtBZ,QAAAA,IAAI,EAAEK,sBAAUE,MAAV,CAAiBG;AADD,OAAhB,EAELA;AAJsB,KAAhB,EAKRA;AAPwB,GAAhB,EAQVA;AAXc,CAAnB;eAcezB,M","sourcesContent":["import React from 'react';\nimport styled from 'styled-components';\nimport { components } from 'react-select';\nimport { useIntl } from 'react-intl';\nimport PropTypes from 'prop-types';\nimport { get, has, isEmpty } from 'lodash';\nimport { Flex, Text } from '@buffetjs/core';\nimport { RelationDPState } from 'strapi-helper-plugin';\nimport { getDisplayedValue, getTrad } from '../../utils';\n\nconst TextGrow = styled(Text)`\n  flex-grow: 2;\n`;\n\nconst Option = props => {\n  const { formatMessage } = useIntl();\n  const Component = components.Option;\n  const hasDraftAndPublish = has(get(props, 'data.value'), 'published_at');\n  const isDraft = isEmpty(get(props, 'data.value.published_at'));\n  const titleLabelID = isDraft\n    ? 'components.Select.draft-info-title'\n    : 'components.Select.publish-info-title';\n  const title = formatMessage({ id: getTrad(titleLabelID) });\n  const fontWeight = props.isFocused ? 'bold' : 'regular';\n  const mainField = get(props, ['selectProps', 'mainField'], {});\n  const value = getDisplayedValue(mainField.schema.type, props.label, mainField.name);\n\n  if (hasDraftAndPublish) {\n    return (\n      <Component {...props}>\n        <Flex>\n          <RelationDPState\n            marginLeft=\"0\"\n            marginTop=\"1px\"\n            marginRight=\"10px\"\n            isDraft={isDraft}\n            marginBottom=\"0\"\n            title={title}\n          />\n\n          <TextGrow ellipsis as=\"div\" fontWeight={fontWeight} title={value}>\n            {value}&nbsp;\n          </TextGrow>\n        </Flex>\n      </Component>\n    );\n  }\n\n  return (\n    <Component {...props}>\n      <Text ellipsis fontWeight={fontWeight} title={value}>\n        {value}\n      </Text>\n    </Component>\n  );\n};\n\nOption.defaultProps = {\n  label: '',\n};\n\nOption.propTypes = {\n  label: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  isFocused: PropTypes.bool.isRequired,\n  selectProps: PropTypes.shape({\n    hasDraftAndPublish: PropTypes.bool,\n    mainField: PropTypes.shape({\n      name: PropTypes.string.isRequired,\n      schema: PropTypes.shape({\n        type: PropTypes.string.isRequired,\n      }).isRequired,\n    }).isRequired,\n  }).isRequired,\n};\n\nexport default Option;\n"]},"metadata":{},"sourceType":"script"}