{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _lodash = require(\"lodash\");\n\nvar formatFilterName = function formatFilterName(name, metadatas) {\n  var mainField = (0, _lodash.get)(metadatas, [name, 'list', 'mainField', 'name'], null);\n\n  if (mainField) {\n    return \"\".concat(name, \".\").concat(mainField);\n  }\n\n  return name;\n};\n\nvar formatFiltersToQuery = function formatFiltersToQuery(array, metadatas) {\n  var nextFilters = array.map(function (_ref) {\n    var name = _ref.name,\n        filter = _ref.filter,\n        value = _ref.value;\n    var formattedName = formatFilterName(name, metadatas);\n\n    if (filter === '=') {\n      return (0, _defineProperty2[\"default\"])({}, formattedName, value);\n    }\n\n    return (0, _defineProperty2[\"default\"])({}, \"\".concat(formattedName).concat(filter), value);\n  });\n  return {\n    _where: nextFilters\n  };\n};\n\nvar _default = formatFiltersToQuery;\nexports[\"default\"] = _default;","map":{"version":3,"sources":["/Users/joaovictorlobao/prefeituramaragogistrapi/.cache/plugins/strapi-plugin-content-manager/admin/src/utils/formatFiltersToQuery.js"],"names":["formatFilterName","name","metadatas","mainField","formatFiltersToQuery","array","nextFilters","map","filter","value","formattedName","_where"],"mappings":";;;;;;;;;;;AAAA;;AAEA,IAAMA,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACC,IAAD,EAAOC,SAAP,EAAqB;AAC5C,MAAMC,SAAS,GAAG,iBAAID,SAAJ,EAAe,CAACD,IAAD,EAAO,MAAP,EAAe,WAAf,EAA4B,MAA5B,CAAf,EAAoD,IAApD,CAAlB;;AAEA,MAAIE,SAAJ,EAAe;AACb,qBAAUF,IAAV,cAAkBE,SAAlB;AACD;;AAED,SAAOF,IAAP;AACD,CARD;;AAUA,IAAMG,oBAAoB,GAAG,SAAvBA,oBAAuB,CAACC,KAAD,EAAQH,SAAR,EAAsB;AACjD,MAAMI,WAAW,GAAGD,KAAK,CAACE,GAAN,CAAU,gBAA6B;AAAA,QAA1BN,IAA0B,QAA1BA,IAA0B;AAAA,QAApBO,MAAoB,QAApBA,MAAoB;AAAA,QAAZC,KAAY,QAAZA,KAAY;AACzD,QAAMC,aAAa,GAAGV,gBAAgB,CAACC,IAAD,EAAOC,SAAP,CAAtC;;AAEA,QAAIM,MAAM,KAAK,GAAf,EAAoB;AAClB,kDAAUE,aAAV,EAA0BD,KAA1B;AACD;;AAED,0DAAaC,aAAb,SAA6BF,MAA7B,GAAwCC,KAAxC;AACD,GARmB,CAApB;AAUA,SAAO;AAAEE,IAAAA,MAAM,EAAEL;AAAV,GAAP;AACD,CAZD;;eAceF,oB","sourcesContent":["import { get } from 'lodash';\n\nconst formatFilterName = (name, metadatas) => {\n  const mainField = get(metadatas, [name, 'list', 'mainField', 'name'], null);\n\n  if (mainField) {\n    return `${name}.${mainField}`;\n  }\n\n  return name;\n};\n\nconst formatFiltersToQuery = (array, metadatas) => {\n  const nextFilters = array.map(({ name, filter, value }) => {\n    const formattedName = formatFilterName(name, metadatas);\n\n    if (filter === '=') {\n      return { [formattedName]: value };\n    }\n\n    return { [`${formattedName}${filter}`]: value };\n  });\n\n  return { _where: nextFilters };\n};\n\nexport default formatFiltersToQuery;\n"]},"metadata":{},"sourceType":"script"}