{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.reducer = exports.initialState = void 0;\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _immer = _interopRequireDefault(require(\"immer\"));\n\nvar _lodash = require(\"lodash\");\n\nvar _form = _interopRequireDefault(require(\"./utils/form\"));\n\n/* eslint-disable consistent-return */\nvar initialState = {\n  modifiedData: {\n    name: 'firstname',\n    filter: '',\n    value: ''\n  }\n};\nexports.initialState = initialState;\n\nvar reducer = function reducer(state, action) {\n  return (0, _immer[\"default\"])(state, function (draftState) {\n    switch (action.type) {\n      case 'ON_CHANGE':\n        {\n          (0, _lodash.set)(draftState, ['modifiedData'].concat((0, _toConsumableArray2[\"default\"])(action.keys.split('.'))), action.value);\n          break;\n        }\n\n      case 'ON_CHANGE_NAME':\n        {\n          // Change the name\n          (0, _lodash.set)(draftState, ['modifiedData', 'name'], action.value); // Reset the default filter\n\n          (0, _lodash.set)(draftState, ['modifiedData', 'filter'], ''); // Reset the default value\n\n          var defaultValue = (0, _lodash.get)(_form[\"default\"], [action.value, 'defaultValue'], '');\n          (0, _lodash.set)(draftState, ['modifiedData', 'value'], defaultValue);\n          break;\n        }\n\n      case 'RESET_FORM':\n        {\n          return initialState;\n        }\n\n      default:\n        return draftState;\n    }\n  });\n};\n\nexports.reducer = reducer;","map":{"version":3,"sources":["/Users/joaovictorlobao/prefeituramaragogistrapi/.cache/admin/src/components/Users/FilterPicker/Card/reducer.js"],"names":["initialState","modifiedData","name","filter","value","reducer","state","action","draftState","type","keys","split","defaultValue","form"],"mappings":";;;;;;;;;;;AACA;;AACA;;AACA;;AAHA;AAKA,IAAMA,YAAY,GAAG;AACnBC,EAAAA,YAAY,EAAE;AACZC,IAAAA,IAAI,EAAE,WADM;AAEZC,IAAAA,MAAM,EAAE,EAFI;AAGZC,IAAAA,KAAK,EAAE;AAHK;AADK,CAArB;;;AAQA,IAAMC,OAAO,GAAG,SAAVA,OAAU,CAACC,KAAD,EAAQC,MAAR;AAAA,SACd,uBAAQD,KAAR,EAAe,UAAAE,UAAU,EAAI;AAC3B,YAAQD,MAAM,CAACE,IAAf;AACE,WAAK,WAAL;AAAkB;AAChB,2BAAID,UAAJ,GAAiB,cAAjB,6CAAoCD,MAAM,CAACG,IAAP,CAAYC,KAAZ,CAAkB,GAAlB,CAApC,IAA6DJ,MAAM,CAACH,KAApE;AACA;AACD;;AACD,WAAK,gBAAL;AAAuB;AACrB;AACA,2BAAII,UAAJ,EAAgB,CAAC,cAAD,EAAiB,MAAjB,CAAhB,EAA0CD,MAAM,CAACH,KAAjD,EAFqB,CAGrB;;AACA,2BAAII,UAAJ,EAAgB,CAAC,cAAD,EAAiB,QAAjB,CAAhB,EAA4C,EAA5C,EAJqB,CAKrB;;AACA,cAAMI,YAAY,GAAG,iBAAIC,gBAAJ,EAAU,CAACN,MAAM,CAACH,KAAR,EAAe,cAAf,CAAV,EAA0C,EAA1C,CAArB;AACA,2BAAII,UAAJ,EAAgB,CAAC,cAAD,EAAiB,OAAjB,CAAhB,EAA2CI,YAA3C;AACA;AACD;;AACD,WAAK,YAAL;AAAmB;AACjB,iBAAOZ,YAAP;AACD;;AACD;AACE,eAAOQ,UAAP;AAnBJ;AAqBD,GAtBD,CADc;AAAA,CAAhB","sourcesContent":["/* eslint-disable consistent-return */\nimport produce from 'immer';\nimport { get, set } from 'lodash';\nimport form from './utils/form';\n\nconst initialState = {\n  modifiedData: {\n    name: 'firstname',\n    filter: '',\n    value: '',\n  },\n};\n\nconst reducer = (state, action) =>\n  produce(state, draftState => {\n    switch (action.type) {\n      case 'ON_CHANGE': {\n        set(draftState, ['modifiedData', ...action.keys.split('.')], action.value);\n        break;\n      }\n      case 'ON_CHANGE_NAME': {\n        // Change the name\n        set(draftState, ['modifiedData', 'name'], action.value);\n        // Reset the default filter\n        set(draftState, ['modifiedData', 'filter'], '');\n        // Reset the default value\n        const defaultValue = get(form, [action.value, 'defaultValue'], '');\n        set(draftState, ['modifiedData', 'value'], defaultValue);\n        break;\n      }\n      case 'RESET_FORM': {\n        return initialState;\n      }\n      default:\n        return draftState;\n    }\n  });\n\nexport { initialState, reducer };\n"]},"metadata":{},"sourceType":"script"}