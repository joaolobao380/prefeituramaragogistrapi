{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _typeof = require(\"@babel/runtime/helpers/typeof\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _lodash = require(\"lodash\");\n\nvar _custom = require(\"@buffetjs/custom\");\n\nvar _core = require(\"@buffetjs/core\");\n\nvar _StyledCustomCheckbox = _interopRequireDefault(require(\"./StyledCustomCheckbox\"));\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n/**\n *\n * CustomCheckbox\n *\n */\nvar CustomCheckbox = function CustomCheckbox(_ref) {\n  var label = _ref.label,\n      modifiedData = _ref.modifiedData,\n      name = _ref.name,\n      _onChange = _ref.onChange,\n      value = _ref.value,\n      rest = (0, _objectWithoutProperties2[\"default\"])(_ref, [\"label\", \"modifiedData\", \"name\", \"onChange\", \"value\"]);\n\n  var _useState = (0, _react.useState)((0, _lodash.isNumber)(value) || !(0, _lodash.isEmpty)(value)),\n      _useState2 = (0, _slicedToArray2[\"default\"])(_useState, 2),\n      checked = _useState2[0],\n      setChecked = _useState2[1];\n\n  var type = modifiedData.type === 'biginteger' ? 'text' : 'number';\n  var step = ['decimal', 'float'].includes(modifiedData.type) ? 'any' : '1';\n  var disabled = !modifiedData.type;\n  return /*#__PURE__*/_react[\"default\"].createElement(_StyledCustomCheckbox[\"default\"], null, /*#__PURE__*/_react[\"default\"].createElement(_core.Checkbox, {\n    message: label,\n    name: name,\n    type: \"checkbox\",\n    value: checked,\n    onChange: function onChange() {\n      if (checked) {\n        _onChange({\n          target: {\n            name: name,\n            value: null\n          }\n        });\n      }\n\n      setChecked(function (prev) {\n        return !prev;\n      });\n    }\n  }), checked && /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: \"no-label col-6\"\n  }, /*#__PURE__*/_react[\"default\"].createElement(_custom.Inputs, (0, _extends2[\"default\"])({}, rest, {\n    name: name,\n    onChange: _onChange,\n    step: step,\n    disabled: disabled,\n    value: value,\n    type: type\n  }))));\n};\n\nCustomCheckbox.defaultProps = {\n  label: null,\n  modifiedData: {},\n  name: '',\n  value: null\n};\nCustomCheckbox.propTypes = {\n  label: _propTypes[\"default\"].string,\n  modifiedData: _propTypes[\"default\"].object,\n  name: _propTypes[\"default\"].string,\n  onChange: _propTypes[\"default\"].func.isRequired,\n  value: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].number, _propTypes[\"default\"].string])\n};\nvar _default = CustomCheckbox;\nexports[\"default\"] = _default;","map":{"version":3,"sources":["/Users/joaovictorlobao/prefeituramaragogistrapi/.cache/plugins/strapi-plugin-content-type-builder/admin/src/components/CustomCheckbox/index.js"],"names":["CustomCheckbox","label","modifiedData","name","onChange","value","rest","checked","setChecked","type","step","includes","disabled","target","prev","defaultProps","propTypes","PropTypes","string","object","func","isRequired","oneOfType","number"],"mappings":";;;;;;;;;;;;;;;;;AAMA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;AAXA;AACA;AACA;AACA;AACA;AASA,IAAMA,cAAc,GAAG,SAAjBA,cAAiB,OAA6D;AAAA,MAA1DC,KAA0D,QAA1DA,KAA0D;AAAA,MAAnDC,YAAmD,QAAnDA,YAAmD;AAAA,MAArCC,IAAqC,QAArCA,IAAqC;AAAA,MAA/BC,SAA+B,QAA/BA,QAA+B;AAAA,MAArBC,KAAqB,QAArBA,KAAqB;AAAA,MAAXC,IAAW;;AAClF,kBAA8B,qBAAS,sBAASD,KAAT,KAAmB,CAAC,qBAAQA,KAAR,CAA7B,CAA9B;AAAA;AAAA,MAAOE,OAAP;AAAA,MAAgBC,UAAhB;;AACA,MAAMC,IAAI,GAAGP,YAAY,CAACO,IAAb,KAAsB,YAAtB,GAAqC,MAArC,GAA8C,QAA3D;AACA,MAAMC,IAAI,GAAG,CAAC,SAAD,EAAY,OAAZ,EAAqBC,QAArB,CAA8BT,YAAY,CAACO,IAA3C,IAAmD,KAAnD,GAA2D,GAAxE;AACA,MAAMG,QAAQ,GAAG,CAACV,YAAY,CAACO,IAA/B;AAEA,sBACE,gCAAC,gCAAD,qBACE,gCAAC,cAAD;AACE,IAAA,OAAO,EAAER,KADX;AAEE,IAAA,IAAI,EAAEE,IAFR;AAGE,IAAA,IAAI,EAAC,UAHP;AAIE,IAAA,KAAK,EAAEI,OAJT;AAKE,IAAA,QAAQ,EAAE,oBAAM;AACd,UAAIA,OAAJ,EAAa;AACXH,QAAAA,SAAQ,CAAC;AACPS,UAAAA,MAAM,EAAE;AACNV,YAAAA,IAAI,EAAJA,IADM;AAENE,YAAAA,KAAK,EAAE;AAFD;AADD,SAAD,CAAR;AAMD;;AACDG,MAAAA,UAAU,CAAC,UAAAM,IAAI;AAAA,eAAI,CAACA,IAAL;AAAA,OAAL,CAAV;AACD;AAfH,IADF,EAkBGP,OAAO,iBACN;AAAK,IAAA,SAAS,EAAC;AAAf,kBACE,gCAAC,cAAD,gCACMD,IADN;AAEE,IAAA,IAAI,EAAEH,IAFR;AAGE,IAAA,QAAQ,EAAEC,SAHZ;AAIE,IAAA,IAAI,EAAEM,IAJR;AAKE,IAAA,QAAQ,EAAEE,QALZ;AAME,IAAA,KAAK,EAAEP,KANT;AAOE,IAAA,IAAI,EAAEI;AAPR,KADF,CAnBJ,CADF;AAkCD,CAxCD;;AA0CAT,cAAc,CAACe,YAAf,GAA8B;AAC5Bd,EAAAA,KAAK,EAAE,IADqB;AAE5BC,EAAAA,YAAY,EAAE,EAFc;AAG5BC,EAAAA,IAAI,EAAE,EAHsB;AAI5BE,EAAAA,KAAK,EAAE;AAJqB,CAA9B;AAOAL,cAAc,CAACgB,SAAf,GAA2B;AACzBf,EAAAA,KAAK,EAAEgB,sBAAUC,MADQ;AAEzBhB,EAAAA,YAAY,EAAEe,sBAAUE,MAFC;AAGzBhB,EAAAA,IAAI,EAAEc,sBAAUC,MAHS;AAIzBd,EAAAA,QAAQ,EAAEa,sBAAUG,IAAV,CAAeC,UAJA;AAKzBhB,EAAAA,KAAK,EAAEY,sBAAUK,SAAV,CAAoB,CAACL,sBAAUM,MAAX,EAAmBN,sBAAUC,MAA7B,CAApB;AALkB,CAA3B;eAQelB,c","sourcesContent":["/**\n *\n * CustomCheckbox\n *\n */\n\nimport React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { isEmpty, isNumber } from 'lodash';\nimport { Inputs } from '@buffetjs/custom';\nimport { Checkbox } from '@buffetjs/core';\nimport StyledCustomCheckbox from './StyledCustomCheckbox';\n\nconst CustomCheckbox = ({ label, modifiedData, name, onChange, value, ...rest }) => {\n  const [checked, setChecked] = useState(isNumber(value) || !isEmpty(value));\n  const type = modifiedData.type === 'biginteger' ? 'text' : 'number';\n  const step = ['decimal', 'float'].includes(modifiedData.type) ? 'any' : '1';\n  const disabled = !modifiedData.type;\n\n  return (\n    <StyledCustomCheckbox>\n      <Checkbox\n        message={label}\n        name={name}\n        type=\"checkbox\"\n        value={checked}\n        onChange={() => {\n          if (checked) {\n            onChange({\n              target: {\n                name,\n                value: null,\n              },\n            });\n          }\n          setChecked(prev => !prev);\n        }}\n      />\n      {checked && (\n        <div className=\"no-label col-6\">\n          <Inputs\n            {...rest}\n            name={name}\n            onChange={onChange}\n            step={step}\n            disabled={disabled}\n            value={value}\n            type={type}\n          />\n        </div>\n      )}\n    </StyledCustomCheckbox>\n  );\n};\n\nCustomCheckbox.defaultProps = {\n  label: null,\n  modifiedData: {},\n  name: '',\n  value: null,\n};\n\nCustomCheckbox.propTypes = {\n  label: PropTypes.string,\n  modifiedData: PropTypes.object,\n  name: PropTypes.string,\n  onChange: PropTypes.func.isRequired,\n  value: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n};\n\nexport default CustomCheckbox;\n"]},"metadata":{},"sourceType":"script"}