{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _typeof = require(\"@babel/runtime/helpers/typeof\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _lodash = require(\"lodash\");\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _strapiHelperPlugin = require(\"strapi-helper-plugin\");\n\nvar _core = require(\"@buffetjs/core\");\n\nvar _components = require(\"./components\");\n\nvar _Input = _interopRequireDefault(require(\"./Input\"));\n\nvar _Option = _interopRequireDefault(require(\"./Option\"));\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nvar styles = {\n  select: {\n    minWidth: '170px',\n    maxWidth: '200px'\n  },\n  selectMiddle: {\n    minWidth: '130px',\n    maxWidth: '200px',\n    marginLeft: '10px',\n    marginRight: '10px'\n  }\n};\n\nfunction FilterPickerOption(_ref) {\n  var allowedAttributes = _ref.allowedAttributes,\n      modifiedData = _ref.modifiedData,\n      index = _ref.index,\n      _onChange = _ref.onChange,\n      onClickAddFilter = _ref.onClickAddFilter,\n      onRemoveFilter = _ref.onRemoveFilter,\n      value = _ref.value,\n      showAddButton = _ref.showAddButton,\n      type = _ref.type;\n  var filtersOptions = (0, _strapiHelperPlugin.getFilterType)(type);\n  var currentFilterName = (0, _lodash.get)(modifiedData, [index, 'name'], '');\n  var currentFilterData = allowedAttributes.find(function (attr) {\n    return attr.name === currentFilterName;\n  });\n  var options = (0, _lodash.get)(currentFilterData, ['options'], null) || ['true', 'false'];\n  return /*#__PURE__*/_react[\"default\"].createElement(_components.Wrapper, {\n    borderLeft: !(0, _lodash.isEmpty)(value)\n  }, /*#__PURE__*/_react[\"default\"].createElement(_components.InputWrapper, null, /*#__PURE__*/_react[\"default\"].createElement(_strapiHelperPlugin.CircleButton, {\n    type: \"button\",\n    isRemoveButton: true,\n    onClick: function onClick() {\n      return onRemoveFilter(index);\n    }\n  }), /*#__PURE__*/_react[\"default\"].createElement(_core.Select, {\n    onChange: function onChange(e) {\n      // Change the attribute\n      _onChange(e); // Change the default filter so it reset to the common one which is '='\n\n\n      _onChange({\n        target: {\n          name: \"\".concat(index, \".filter\"),\n          value: '='\n        }\n      });\n    },\n    name: \"\".concat(index, \".name\"),\n    value: currentFilterName,\n    options: allowedAttributes.map(function (attr) {\n      return attr.name;\n    }),\n    style: styles.select\n  }), /*#__PURE__*/_react[\"default\"].createElement(_core.Select, {\n    onChange: _onChange,\n    name: \"\".concat(index, \".filter\"),\n    options: filtersOptions.map(function (option) {\n      return /*#__PURE__*/_react[\"default\"].createElement(_Option[\"default\"], (0, _extends2[\"default\"])({}, option, {\n        key: option.value\n      }));\n    }),\n    style: styles.selectMiddle,\n    value: (0, _lodash.get)(modifiedData, [index, 'filter'], '')\n  }), /*#__PURE__*/_react[\"default\"].createElement(_Input[\"default\"], {\n    type: type,\n    name: \"\".concat(index, \".value\"),\n    value: (0, _lodash.get)(modifiedData, [index, 'value'], ''),\n    options: options,\n    onChange: _onChange\n  }), showAddButton && /*#__PURE__*/_react[\"default\"].createElement(_strapiHelperPlugin.CircleButton, {\n    type: \"button\",\n    onClick: onClickAddFilter\n  })));\n}\n\nFilterPickerOption.defaultProps = {\n  allowedAttributes: [],\n  modifiedData: [],\n  index: -1,\n  onChange: function onChange() {},\n  onClickAddFilter: function onClickAddFilter() {},\n  onRemoveFilter: function onRemoveFilter() {},\n  value: null,\n  type: 'string'\n};\nFilterPickerOption.propTypes = {\n  allowedAttributes: _propTypes[\"default\"].array,\n  modifiedData: _propTypes[\"default\"].array,\n  index: _propTypes[\"default\"].number,\n  onChange: _propTypes[\"default\"].func,\n  onClickAddFilter: _propTypes[\"default\"].func,\n  onRemoveFilter: _propTypes[\"default\"].func,\n  showAddButton: _propTypes[\"default\"].bool.isRequired,\n  type: _propTypes[\"default\"].string,\n  value: _propTypes[\"default\"].any\n};\n\nvar _default = /*#__PURE__*/(0, _react.memo)(FilterPickerOption);\n\nexports[\"default\"] = _default;","map":{"version":3,"sources":["/Users/joaovictorlobao/prefeituramaragogistrapi/.cache/plugins/strapi-plugin-content-manager/admin/src/components/FilterPickerOption/index.js"],"names":["styles","select","minWidth","maxWidth","selectMiddle","marginLeft","marginRight","FilterPickerOption","allowedAttributes","modifiedData","index","onChange","onClickAddFilter","onRemoveFilter","value","showAddButton","type","filtersOptions","currentFilterName","currentFilterData","find","attr","name","options","e","target","map","option","defaultProps","propTypes","PropTypes","array","number","func","bool","isRequired","string","any"],"mappings":"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","sourcesContent":["import React, { memo } from 'react';\nimport { get, isEmpty } from 'lodash';\nimport PropTypes from 'prop-types';\nimport { CircleButton, getFilterType } from 'strapi-helper-plugin';\nimport { Select } from '@buffetjs/core';\n\nimport { InputWrapper, Wrapper } from './components';\nimport Input from './Input';\nimport Option from './Option';\n\nconst styles = {\n  select: {\n    minWidth: '170px',\n    maxWidth: '200px',\n  },\n  selectMiddle: {\n    minWidth: '130px',\n    maxWidth: '200px',\n    marginLeft: '10px',\n    marginRight: '10px',\n  },\n};\n\nfunction FilterPickerOption({\n  allowedAttributes,\n  modifiedData,\n  index,\n  onChange,\n  onClickAddFilter,\n  onRemoveFilter,\n  value,\n  showAddButton,\n  type,\n}) {\n  const filtersOptions = getFilterType(type);\n  const currentFilterName = get(modifiedData, [index, 'name'], '');\n  const currentFilterData = allowedAttributes.find(attr => attr.name === currentFilterName);\n  const options = get(currentFilterData, ['options'], null) || ['true', 'false'];\n\n  return (\n    <Wrapper borderLeft={!isEmpty(value)}>\n      <InputWrapper>\n        <CircleButton type=\"button\" isRemoveButton onClick={() => onRemoveFilter(index)} />\n        <Select\n          onChange={e => {\n            // Change the attribute\n            onChange(e);\n            // Change the default filter so it reset to the common one which is '='\n            onChange({ target: { name: `${index}.filter`, value: '=' } });\n          }}\n          name={`${index}.name`}\n          value={currentFilterName}\n          options={allowedAttributes.map(attr => attr.name)}\n          style={styles.select}\n        />\n        <Select\n          onChange={onChange}\n          name={`${index}.filter`}\n          options={filtersOptions.map(option => (\n            <Option {...option} key={option.value} />\n          ))}\n          style={styles.selectMiddle}\n          value={get(modifiedData, [index, 'filter'], '')}\n        />\n        <Input\n          type={type}\n          name={`${index}.value`}\n          value={get(modifiedData, [index, 'value'], '')}\n          options={options}\n          onChange={onChange}\n        />\n        {showAddButton && <CircleButton type=\"button\" onClick={onClickAddFilter} />}\n      </InputWrapper>\n    </Wrapper>\n  );\n}\n\nFilterPickerOption.defaultProps = {\n  allowedAttributes: [],\n  modifiedData: [],\n  index: -1,\n  onChange: () => {},\n  onClickAddFilter: () => {},\n  onRemoveFilter: () => {},\n  value: null,\n  type: 'string',\n};\n\nFilterPickerOption.propTypes = {\n  allowedAttributes: PropTypes.array,\n  modifiedData: PropTypes.array,\n  index: PropTypes.number,\n  onChange: PropTypes.func,\n  onClickAddFilter: PropTypes.func,\n  onRemoveFilter: PropTypes.func,\n  showAddButton: PropTypes.bool.isRequired,\n  type: PropTypes.string,\n  value: PropTypes.any,\n};\n\nexport default memo(FilterPickerOption);\n"]},"metadata":{},"sourceType":"script"}