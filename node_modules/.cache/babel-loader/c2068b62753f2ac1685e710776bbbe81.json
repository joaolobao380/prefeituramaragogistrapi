{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _typeof = require(\"@babel/runtime/helpers/typeof\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _core = require(\"@buffetjs/core\");\n\nvar _get = _interopRequireDefault(require(\"lodash/get\"));\n\nvar _reactSelect = _interopRequireWildcard(require(\"react-select\"));\n\nvar _reactIntl = require(\"react-intl\");\n\nvar _styledComponents = require(\"styled-components\");\n\nvar _strapiHelperPlugin = require(\"strapi-helper-plugin\");\n\nvar _reactRouterDom = require(\"react-router-dom\");\n\nvar _qs = require(\"qs\");\n\nvar _utils = require(\"../../utils\");\n\nvar _utils2 = require(\"./utils\");\n\nvar _CMEditViewCopyLocale = _interopRequireDefault(require(\"../CMEditViewCopyLocale\"));\n\nvar _Option = _interopRequireDefault(require(\"./Option\"));\n\nvar _Wrapper = _interopRequireDefault(require(\"./Wrapper\"));\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2[\"default\"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nvar CMEditViewLocalePicker = function CMEditViewLocalePicker(_ref) {\n  var appLocales = _ref.appLocales,\n      createPermissions = _ref.createPermissions,\n      currentEntityId = _ref.currentEntityId,\n      hasDraftAndPublishEnabled = _ref.hasDraftAndPublishEnabled,\n      isSingleType = _ref.isSingleType,\n      localizations = _ref.localizations,\n      query = _ref.query,\n      readPermissions = _ref.readPermissions,\n      setQuery = _ref.setQuery,\n      slug = _ref.slug;\n\n  var _useIntl = (0, _reactIntl.useIntl)(),\n      formatMessage = _useIntl.formatMessage;\n\n  var theme = (0, _styledComponents.useTheme)();\n  var currentLocale = (0, _get[\"default\"])(query, 'plugins.i18n.locale', false);\n\n  var _useHistory = (0, _reactRouterDom.useHistory)(),\n      push = _useHistory.push;\n\n  var handleChange = function handleChange(_ref2) {\n    var status = _ref2.status,\n        value = _ref2.value,\n        id = _ref2.id;\n    var defaultParams = {\n      plugins: _objectSpread(_objectSpread({}, query.plugins), {}, {\n        i18n: _objectSpread(_objectSpread({}, query.plugins.i18n), {}, {\n          locale: value\n        })\n      })\n    };\n\n    if (currentEntityId) {\n      defaultParams.plugins.i18n.relatedEntityId = currentEntityId;\n    }\n\n    if (isSingleType) {\n      setQuery(defaultParams);\n      return;\n    }\n\n    if (status === 'did-not-create-locale') {\n      push({\n        pathname: \"/plugins/content-manager/collectionType/\".concat(slug, \"/create\"),\n        search: (0, _qs.stringify)(defaultParams, {\n          encode: false\n        })\n      });\n      return;\n    }\n\n    push({\n      pathname: \"/plugins/content-manager/collectionType/\".concat(slug, \"/\").concat(id),\n      search: (0, _qs.stringify)(defaultParams, {\n        encode: false\n      })\n    });\n  };\n\n  var styles = (0, _strapiHelperPlugin.selectStyles)(theme);\n  var options = (0, _utils2.addStatusColorToLocale)((0, _utils2.createLocalesOption)(appLocales, localizations), theme).filter(function (_ref3) {\n    var status = _ref3.status,\n        value = _ref3.value;\n\n    if (status === 'did-not-create-locale') {\n      return createPermissions.find(function (_ref4) {\n        var properties = _ref4.properties;\n        return (0, _get[\"default\"])(properties, 'locales', []).includes(value);\n      });\n    }\n\n    return readPermissions.find(function (_ref5) {\n      var properties = _ref5.properties;\n      return (0, _get[\"default\"])(properties, 'locales', []).includes(value);\n    });\n  });\n  var filteredOptions = options.filter(function (_ref6) {\n    var value = _ref6.value;\n    return value !== currentLocale;\n  });\n  var value = options.find(function (_ref7) {\n    var value = _ref7.value;\n    return value === currentLocale;\n  });\n  var Option = hasDraftAndPublishEnabled ? _Option[\"default\"] : _reactSelect.components.Option;\n  var paddingBottom = localizations.length ? '19px' : '29px';\n  return /*#__PURE__*/_react[\"default\"].createElement(_Wrapper[\"default\"], {\n    paddingBottom: paddingBottom\n  }, /*#__PURE__*/_react[\"default\"].createElement(_strapiHelperPlugin.BaselineAlignment, {\n    top: true,\n    size: \"18px\"\n  }), /*#__PURE__*/_react[\"default\"].createElement(_core.Padded, {\n    left: true,\n    right: true,\n    size: \"smd\"\n  }, /*#__PURE__*/_react[\"default\"].createElement(_core.Text, {\n    fontWeight: \"bold\"\n  }, formatMessage({\n    id: (0, _utils.getTrad)('plugin.name'),\n    defaultMessage: 'Internationalization'\n  })), /*#__PURE__*/_react[\"default\"].createElement(_strapiHelperPlugin.BaselineAlignment, {\n    top: true,\n    size: \"18px\"\n  }), /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    id: \"select-locale\"\n  }, /*#__PURE__*/_react[\"default\"].createElement(_core.Label, {\n    htmlFor: \"\"\n  }, formatMessage({\n    id: (0, _utils.getTrad)('Settings.locales.modal.locales.label')\n  }))), /*#__PURE__*/_react[\"default\"].createElement(_strapiHelperPlugin.BaselineAlignment, {\n    top: true,\n    size: \"3px\"\n  }), /*#__PURE__*/_react[\"default\"].createElement(_reactSelect[\"default\"], {\n    \"aria-labelledby\": \"select-locale\",\n    components: {\n      DropdownIndicator: _strapiHelperPlugin.DropdownIndicator,\n      Option: Option\n    },\n    isSearchable: false,\n    onChange: handleChange,\n    options: filteredOptions,\n    styles: _objectSpread(_objectSpread({}, styles), {}, {\n      control: function control(base, state) {\n        return _objectSpread(_objectSpread(_objectSpread({}, base), styles.control(base, state)), {}, {\n          height: '34px'\n        });\n      },\n      indicatorsContainer: function indicatorsContainer(base, state) {\n        return _objectSpread(_objectSpread(_objectSpread({}, base), styles.indicatorsContainer(base, state)), {}, {\n          height: '32px'\n        });\n      },\n      valueContainer: function valueContainer(base) {\n        return _objectSpread(_objectSpread({}, base), {}, {\n          padding: '2px 0px 4px 10px',\n          lineHeight: '18px'\n        });\n      }\n    }),\n    value: value\n  }), /*#__PURE__*/_react[\"default\"].createElement(_CMEditViewCopyLocale[\"default\"], {\n    appLocales: appLocales,\n    currentLocale: currentLocale,\n    localizations: localizations,\n    readPermissions: readPermissions\n  })));\n};\n\nCMEditViewLocalePicker.defaultProps = {\n  createPermissions: [],\n  currentEntityId: null,\n  isSingleType: false,\n  localizations: [],\n  query: {},\n  readPermissions: []\n};\nCMEditViewLocalePicker.propTypes = {\n  appLocales: _propTypes[\"default\"].array.isRequired,\n  createPermissions: _propTypes[\"default\"].array,\n  currentEntityId: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].string, _propTypes[\"default\"].number]),\n  hasDraftAndPublishEnabled: _propTypes[\"default\"].bool.isRequired,\n  isSingleType: _propTypes[\"default\"].bool,\n  localizations: _propTypes[\"default\"].array,\n  query: _propTypes[\"default\"].object,\n  readPermissions: _propTypes[\"default\"].array,\n  setQuery: _propTypes[\"default\"].func.isRequired,\n  slug: _propTypes[\"default\"].string.isRequired\n};\nvar _default = CMEditViewLocalePicker;\nexports[\"default\"] = _default;","map":{"version":3,"sources":["/Users/joaovictorlobao/prefeituramaragogistrapi/.cache/plugins/strapi-plugin-i18n/admin/src/components/CMEditViewLocalePicker/index.js"],"names":["CMEditViewLocalePicker","appLocales","createPermissions","currentEntityId","hasDraftAndPublishEnabled","isSingleType","localizations","query","readPermissions","setQuery","slug","formatMessage","theme","currentLocale","push","handleChange","status","value","id","defaultParams","plugins","i18n","locale","relatedEntityId","pathname","search","encode","styles","options","filter","find","properties","includes","filteredOptions","Option","OptionComponent","components","paddingBottom","length","defaultMessage","DropdownIndicator","control","base","state","height","indicatorsContainer","valueContainer","padding","lineHeight","defaultProps","propTypes","PropTypes","array","isRequired","oneOfType","string","number","bool","object","func"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Label, Text, Padded } from '@buffetjs/core';\nimport get from 'lodash/get';\nimport Select, { components } from 'react-select';\nimport { useIntl } from 'react-intl';\nimport { useTheme } from 'styled-components';\nimport { DropdownIndicator, BaselineAlignment, selectStyles } from 'strapi-helper-plugin';\nimport { useHistory } from 'react-router-dom';\nimport { stringify } from 'qs';\nimport { getTrad } from '../../utils';\nimport { addStatusColorToLocale, createLocalesOption } from './utils';\nimport CMEditViewCopyLocale from '../CMEditViewCopyLocale';\nimport OptionComponent from './Option';\nimport Wrapper from './Wrapper';\n\nconst CMEditViewLocalePicker = ({\n  appLocales,\n  createPermissions,\n  currentEntityId,\n  hasDraftAndPublishEnabled,\n  isSingleType,\n  localizations,\n  query,\n  readPermissions,\n  setQuery,\n  slug,\n}) => {\n  const { formatMessage } = useIntl();\n  const theme = useTheme();\n  const currentLocale = get(query, 'plugins.i18n.locale', false);\n  const { push } = useHistory();\n\n  const handleChange = ({ status, value, id }) => {\n    let defaultParams = {\n      plugins: {\n        ...query.plugins,\n        i18n: { ...query.plugins.i18n, locale: value },\n      },\n    };\n\n    if (currentEntityId) {\n      defaultParams.plugins.i18n.relatedEntityId = currentEntityId;\n    }\n\n    if (isSingleType) {\n      setQuery(defaultParams);\n\n      return;\n    }\n\n    if (status === 'did-not-create-locale') {\n      push({\n        pathname: `/plugins/content-manager/collectionType/${slug}/create`,\n        search: stringify(defaultParams, { encode: false }),\n      });\n\n      return;\n    }\n\n    push({\n      pathname: `/plugins/content-manager/collectionType/${slug}/${id}`,\n      search: stringify(defaultParams, { encode: false }),\n    });\n  };\n\n  const styles = selectStyles(theme);\n\n  const options = addStatusColorToLocale(\n    createLocalesOption(appLocales, localizations),\n    theme\n  ).filter(({ status, value }) => {\n    if (status === 'did-not-create-locale') {\n      return createPermissions.find(({ properties }) =>\n        get(properties, 'locales', []).includes(value)\n      );\n    }\n\n    return readPermissions.find(({ properties }) => get(properties, 'locales', []).includes(value));\n  });\n  const filteredOptions = options.filter(({ value }) => value !== currentLocale);\n  const value = options.find(({ value }) => {\n    return value === currentLocale;\n  });\n\n  const Option = hasDraftAndPublishEnabled ? OptionComponent : components.Option;\n  const paddingBottom = localizations.length ? '19px' : '29px';\n\n  return (\n    <Wrapper paddingBottom={paddingBottom}>\n      <BaselineAlignment top size=\"18px\" />\n      <Padded left right size=\"smd\">\n        <Text fontWeight=\"bold\">\n          {formatMessage({ id: getTrad('plugin.name'), defaultMessage: 'Internationalization' })}\n        </Text>\n        <BaselineAlignment top size=\"18px\" />\n        <span id=\"select-locale\">\n          <Label htmlFor=\"\">\n            {formatMessage({\n              id: getTrad('Settings.locales.modal.locales.label'),\n            })}\n          </Label>\n        </span>\n        <BaselineAlignment top size=\"3px\" />\n        <Select\n          aria-labelledby=\"select-locale\"\n          components={{ DropdownIndicator, Option }}\n          isSearchable={false}\n          onChange={handleChange}\n          options={filteredOptions}\n          styles={{\n            ...styles,\n            control: (base, state) => ({ ...base, ...styles.control(base, state), height: '34px' }),\n            indicatorsContainer: (base, state) => ({\n              ...base,\n              ...styles.indicatorsContainer(base, state),\n              height: '32px',\n            }),\n            valueContainer: base => ({\n              ...base,\n              padding: '2px 0px 4px 10px',\n              lineHeight: '18px',\n            }),\n          }}\n          value={value}\n        />\n        <CMEditViewCopyLocale\n          appLocales={appLocales}\n          currentLocale={currentLocale}\n          localizations={localizations}\n          readPermissions={readPermissions}\n        />\n      </Padded>\n    </Wrapper>\n  );\n};\n\nCMEditViewLocalePicker.defaultProps = {\n  createPermissions: [],\n  currentEntityId: null,\n  isSingleType: false,\n  localizations: [],\n  query: {},\n  readPermissions: [],\n};\n\nCMEditViewLocalePicker.propTypes = {\n  appLocales: PropTypes.array.isRequired,\n  createPermissions: PropTypes.array,\n  currentEntityId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  hasDraftAndPublishEnabled: PropTypes.bool.isRequired,\n  isSingleType: PropTypes.bool,\n  localizations: PropTypes.array,\n  query: PropTypes.object,\n  readPermissions: PropTypes.array,\n  setQuery: PropTypes.func.isRequired,\n  slug: PropTypes.string.isRequired,\n};\n\nexport default CMEditViewLocalePicker;\n"]},"metadata":{},"sourceType":"script"}