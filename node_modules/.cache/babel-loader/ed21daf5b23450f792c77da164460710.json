{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _typeof = require(\"@babel/runtime/helpers/typeof\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _lodash = require(\"lodash\");\n\nvar _useLayoutDnd2 = _interopRequireDefault(require(\"../../hooks/useLayoutDnd\"));\n\nvar _AddDropdown = _interopRequireDefault(require(\"../AddDropdown\"));\n\nvar _SortWrapper = _interopRequireDefault(require(\"../SortWrapper\"));\n\nvar _components = _interopRequireDefault(require(\"./components\"));\n\nvar _Item = _interopRequireDefault(require(\"./Item\"));\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nvar FieldsReorder = function FieldsReorder(_ref) {\n  var className = _ref.className;\n\n  var _useLayoutDnd = (0, _useLayoutDnd2[\"default\"])(),\n      attributes = _useLayoutDnd.attributes,\n      buttonData = _useLayoutDnd.buttonData,\n      layout = _useLayoutDnd.layout,\n      moveItem = _useLayoutDnd.moveItem,\n      moveRow = _useLayoutDnd.moveRow,\n      onAddData = _useLayoutDnd.onAddData,\n      removeField = _useLayoutDnd.removeField;\n\n  var getComponent = (0, _react.useCallback)(function (attributeName) {\n    return (0, _lodash.get)(attributes, [attributeName, 'component'], '');\n  }, [attributes]);\n  var getType = (0, _react.useCallback)(function (attributeName) {\n    var attribute = (0, _lodash.get)(attributes, [attributeName], {});\n    return attribute.type;\n  }, [attributes]);\n  var getDynamicZoneComponents = (0, _react.useCallback)(function (attributeName) {\n    var attribute = (0, _lodash.get)(attributes, [attributeName], {});\n    return attribute.components || [];\n  }, [attributes]);\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: className\n  }, /*#__PURE__*/_react[\"default\"].createElement(_SortWrapper[\"default\"], {\n    style: {\n      marginTop: 7,\n      paddingTop: 11,\n      paddingLeft: 5,\n      paddingRight: 5,\n      border: '1px dashed #e3e9f3'\n    }\n  }, layout.map(function (row, rowIndex) {\n    return /*#__PURE__*/_react[\"default\"].createElement(_components[\"default\"], {\n      key: row.rowId,\n      style: {}\n    }, row.rowContent.map(function (rowContent, index) {\n      var name = rowContent.name,\n          size = rowContent.size;\n      return /*#__PURE__*/_react[\"default\"].createElement(_Item[\"default\"], {\n        componentUid: getComponent(name),\n        dynamicZoneComponents: getDynamicZoneComponents(name),\n        itemIndex: index,\n        key: name,\n        moveRow: moveRow,\n        moveItem: moveItem,\n        name: name,\n        removeField: removeField,\n        rowIndex: rowIndex,\n        size: size,\n        type: getType(name)\n      });\n    }));\n  }), /*#__PURE__*/_react[\"default\"].createElement(_components[\"default\"], {\n    style: {\n      marginBottom: 10\n    }\n  }, /*#__PURE__*/_react[\"default\"].createElement(_AddDropdown[\"default\"], {\n    data: buttonData,\n    onClick: onAddData,\n    style: {\n      width: '100%',\n      margin: '0 5px'\n    }\n  }))));\n};\n\nFieldsReorder.defaultProps = {\n  className: 'col-8'\n};\nFieldsReorder.propTypes = {\n  className: _propTypes[\"default\"].string\n};\n\nvar _default = /*#__PURE__*/(0, _react.memo)(FieldsReorder);\n\nexports[\"default\"] = _default;","map":{"version":3,"sources":["/Users/joaovictorlobao/prefeituramaragogistrapi/.cache/plugins/strapi-plugin-content-manager/admin/src/components/FieldsReorder/index.js"],"names":["FieldsReorder","className","attributes","buttonData","layout","moveItem","moveRow","onAddData","removeField","getComponent","attributeName","getType","attribute","type","getDynamicZoneComponents","components","marginTop","paddingTop","paddingLeft","paddingRight","border","map","row","rowIndex","rowId","rowContent","index","name","size","marginBottom","width","margin","defaultProps","propTypes","PropTypes","string"],"mappings":";;;;;;;;;;;AAAA;;AACA;;AACA;;AAEA;;AAEA;;AACA;;AACA;;AACA;;;;;;AAEA,IAAMA,aAAa,GAAG,SAAhBA,aAAgB,OAAmB;AAAA,MAAhBC,SAAgB,QAAhBA,SAAgB;;AACvC,sBAQI,gCARJ;AAAA,MACEC,UADF,iBACEA,UADF;AAAA,MAEEC,UAFF,iBAEEA,UAFF;AAAA,MAGEC,MAHF,iBAGEA,MAHF;AAAA,MAIEC,QAJF,iBAIEA,QAJF;AAAA,MAKEC,OALF,iBAKEA,OALF;AAAA,MAMEC,SANF,iBAMEA,SANF;AAAA,MAOEC,WAPF,iBAOEA,WAPF;;AAUA,MAAMC,YAAY,GAAG,wBACnB,UAAAC,aAAa,EAAI;AACf,WAAO,iBAAIR,UAAJ,EAAgB,CAACQ,aAAD,EAAgB,WAAhB,CAAhB,EAA8C,EAA9C,CAAP;AACD,GAHkB,EAInB,CAACR,UAAD,CAJmB,CAArB;AAMA,MAAMS,OAAO,GAAG,wBACd,UAAAD,aAAa,EAAI;AACf,QAAME,SAAS,GAAG,iBAAIV,UAAJ,EAAgB,CAACQ,aAAD,CAAhB,EAAiC,EAAjC,CAAlB;AAEA,WAAOE,SAAS,CAACC,IAAjB;AACD,GALa,EAMd,CAACX,UAAD,CANc,CAAhB;AAQA,MAAMY,wBAAwB,GAAG,wBAC/B,UAAAJ,aAAa,EAAI;AACf,QAAME,SAAS,GAAG,iBAAIV,UAAJ,EAAgB,CAACQ,aAAD,CAAhB,EAAiC,EAAjC,CAAlB;AAEA,WAAOE,SAAS,CAACG,UAAV,IAAwB,EAA/B;AACD,GAL8B,EAM/B,CAACb,UAAD,CAN+B,CAAjC;AASA,sBACE;AAAK,IAAA,SAAS,EAAED;AAAhB,kBACE,gCAAC,uBAAD;AACE,IAAA,KAAK,EAAE;AACLe,MAAAA,SAAS,EAAE,CADN;AAELC,MAAAA,UAAU,EAAE,EAFP;AAGLC,MAAAA,WAAW,EAAE,CAHR;AAILC,MAAAA,YAAY,EAAE,CAJT;AAKLC,MAAAA,MAAM,EAAE;AALH;AADT,KASGhB,MAAM,CAACiB,GAAP,CAAW,UAACC,GAAD,EAAMC,QAAN,EAAmB;AAC7B,wBACE,gCAAC,sBAAD;AAAS,MAAA,GAAG,EAAED,GAAG,CAACE,KAAlB;AAAyB,MAAA,KAAK,EAAE;AAAhC,OACGF,GAAG,CAACG,UAAJ,CAAeJ,GAAf,CAAmB,UAACI,UAAD,EAAaC,KAAb,EAAuB;AACzC,UAAQC,IAAR,GAAuBF,UAAvB,CAAQE,IAAR;AAAA,UAAcC,IAAd,GAAuBH,UAAvB,CAAcG,IAAd;AAEA,0BACE,gCAAC,gBAAD;AACE,QAAA,YAAY,EAAEnB,YAAY,CAACkB,IAAD,CAD5B;AAEE,QAAA,qBAAqB,EAAEb,wBAAwB,CAACa,IAAD,CAFjD;AAGE,QAAA,SAAS,EAAED,KAHb;AAIE,QAAA,GAAG,EAAEC,IAJP;AAKE,QAAA,OAAO,EAAErB,OALX;AAME,QAAA,QAAQ,EAAED,QANZ;AAOE,QAAA,IAAI,EAAEsB,IAPR;AAQE,QAAA,WAAW,EAAEnB,WARf;AASE,QAAA,QAAQ,EAAEe,QATZ;AAUE,QAAA,IAAI,EAAEK,IAVR;AAWE,QAAA,IAAI,EAAEjB,OAAO,CAACgB,IAAD;AAXf,QADF;AAeD,KAlBA,CADH,CADF;AAuBD,GAxBA,CATH,eAkCE,gCAAC,sBAAD;AAAS,IAAA,KAAK,EAAE;AAAEE,MAAAA,YAAY,EAAE;AAAhB;AAAhB,kBACE,gCAAC,uBAAD;AACE,IAAA,IAAI,EAAE1B,UADR;AAEE,IAAA,OAAO,EAAEI,SAFX;AAGE,IAAA,KAAK,EAAE;AAAEuB,MAAAA,KAAK,EAAE,MAAT;AAAiBC,MAAAA,MAAM,EAAE;AAAzB;AAHT,IADF,CAlCF,CADF,CADF;AA8CD,CAhFD;;AAkFA/B,aAAa,CAACgC,YAAd,GAA6B;AAC3B/B,EAAAA,SAAS,EAAE;AADgB,CAA7B;AAIAD,aAAa,CAACiC,SAAd,GAA0B;AACxBhC,EAAAA,SAAS,EAAEiC,sBAAUC;AADG,CAA1B;;4BAIe,iBAAKnC,aAAL,C","sourcesContent":["import React, { memo, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { get } from 'lodash';\n\nimport useLayoutDnd from '../../hooks/useLayoutDnd';\n\nimport Add from '../AddDropdown';\nimport SortWrapper from '../SortWrapper';\nimport Wrapper from './components';\nimport Item from './Item';\n\nconst FieldsReorder = ({ className }) => {\n  const {\n    attributes,\n    buttonData,\n    layout,\n    moveItem,\n    moveRow,\n    onAddData,\n    removeField,\n  } = useLayoutDnd();\n\n  const getComponent = useCallback(\n    attributeName => {\n      return get(attributes, [attributeName, 'component'], '');\n    },\n    [attributes]\n  );\n  const getType = useCallback(\n    attributeName => {\n      const attribute = get(attributes, [attributeName], {});\n\n      return attribute.type;\n    },\n    [attributes]\n  );\n  const getDynamicZoneComponents = useCallback(\n    attributeName => {\n      const attribute = get(attributes, [attributeName], {});\n\n      return attribute.components || [];\n    },\n    [attributes]\n  );\n\n  return (\n    <div className={className}>\n      <SortWrapper\n        style={{\n          marginTop: 7,\n          paddingTop: 11,\n          paddingLeft: 5,\n          paddingRight: 5,\n          border: '1px dashed #e3e9f3',\n        }}\n      >\n        {layout.map((row, rowIndex) => {\n          return (\n            <Wrapper key={row.rowId} style={{}}>\n              {row.rowContent.map((rowContent, index) => {\n                const { name, size } = rowContent;\n\n                return (\n                  <Item\n                    componentUid={getComponent(name)}\n                    dynamicZoneComponents={getDynamicZoneComponents(name)}\n                    itemIndex={index}\n                    key={name}\n                    moveRow={moveRow}\n                    moveItem={moveItem}\n                    name={name}\n                    removeField={removeField}\n                    rowIndex={rowIndex}\n                    size={size}\n                    type={getType(name)}\n                  />\n                );\n              })}\n            </Wrapper>\n          );\n        })}\n        <Wrapper style={{ marginBottom: 10 }}>\n          <Add\n            data={buttonData}\n            onClick={onAddData}\n            style={{ width: '100%', margin: '0 5px' }}\n          />\n        </Wrapper>\n      </SortWrapper>\n    </div>\n  );\n};\n\nFieldsReorder.defaultProps = {\n  className: 'col-8',\n};\n\nFieldsReorder.propTypes = {\n  className: PropTypes.string,\n};\n\nexport default memo(FieldsReorder);\n"]},"metadata":{},"sourceType":"script"}