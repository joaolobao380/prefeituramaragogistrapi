{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _core = require(\"@buffetjs/core\");\n\nvar _lodash = require(\"lodash\");\n\nvar _strapiHelperPlugin = require(\"strapi-helper-plugin\");\n\nvar _DraggableCard = _interopRequireDefault(require(\"./DraggableCard\"));\n\nvar _CardControlsWrapper = _interopRequireDefault(require(\"../CardControlsWrapper\"));\n\nvar _ListWrapper = _interopRequireDefault(require(\"../ListWrapper\"));\n\nvar _CardControl = _interopRequireDefault(require(\"../CardControl\"));\n\nvar SortableList = function SortableList(_ref) {\n  var allowedActions = _ref.allowedActions,\n      canSelect = _ref.canSelect,\n      data = _ref.data,\n      moveAsset = _ref.moveAsset,\n      noNavigation = _ref.noNavigation,\n      onChange = _ref.onChange,\n      onClickEditFile = _ref.onClickEditFile,\n      selectedItems = _ref.selectedItems;\n\n  var handleClick = function handleClick(e) {\n    e.stopPropagation();\n  };\n\n  return /*#__PURE__*/_react[\"default\"].createElement(_ListWrapper[\"default\"], {\n    small: true\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: \"row\"\n  }, data.map(function (item, index) {\n    var id = item.id;\n    var url = (0, _lodash.get)(item, ['formats', 'thumbnail', 'url'], item.url);\n    var checked = selectedItems.findIndex(function (file) {\n      return file.id === id;\n    }) !== -1;\n    var fileUrl = (0, _strapiHelperPlugin.prefixFileUrlWithBackendUrl)(url);\n\n    var handleEditClick = function handleEditClick(e) {\n      e.stopPropagation();\n      onClickEditFile(id);\n    };\n\n    return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: \"col-xs-12 col-md-6 col-xl-3\",\n      key: id || index\n    }, /*#__PURE__*/_react[\"default\"].createElement(_DraggableCard[\"default\"], (0, _extends2[\"default\"])({\n      checked: checked\n    }, item, {\n      url: fileUrl,\n      moveAsset: moveAsset,\n      isDraggable: true,\n      index: index\n    }), (checked || canSelect) && /*#__PURE__*/_react[\"default\"].createElement(_CardControlsWrapper[\"default\"], {\n      leftAlign: true,\n      displayed: true,\n      className: \"card-control-wrapper\"\n    }, /*#__PURE__*/_react[\"default\"].createElement(_core.Checkbox, {\n      name: \"\".concat(id),\n      onChange: onChange,\n      onClick: handleClick,\n      value: checked\n    })), !noNavigation && allowedActions.canUpdate && /*#__PURE__*/_react[\"default\"].createElement(_CardControlsWrapper[\"default\"], {\n      className: \"card-control-wrapper card-control-wrapper-hidden\"\n    }, /*#__PURE__*/_react[\"default\"].createElement(_CardControl[\"default\"], {\n      small: true,\n      title: \"edit\",\n      color: \"#9EA7B8\",\n      type: \"pencil\",\n      onClick: function onClick(e) {\n        return handleEditClick(e);\n      }\n    }))));\n  })));\n};\n\nSortableList.defaultProps = {\n  allowedActions: {\n    canUpdate: false\n  },\n  canSelect: true,\n  data: [],\n  moveAsset: function moveAsset() {},\n  noNavigation: false,\n  onChange: function onChange() {},\n  onClickEditFile: function onClickEditFile() {},\n  selectedItems: []\n};\nSortableList.propTypes = {\n  allowedActions: _propTypes[\"default\"].object,\n  canSelect: _propTypes[\"default\"].bool,\n  data: _propTypes[\"default\"].array,\n  moveAsset: _propTypes[\"default\"].func,\n  noNavigation: _propTypes[\"default\"].bool,\n  onChange: _propTypes[\"default\"].func,\n  onClickEditFile: _propTypes[\"default\"].func,\n  selectedItems: _propTypes[\"default\"].array\n};\nvar _default = SortableList;\nexports[\"default\"] = _default;","map":{"version":3,"sources":["/Users/joaovictorlobao/prefeituramaragogistrapi/.cache/plugins/strapi-plugin-upload/admin/src/components/SelectedAssets/SortableList.js"],"names":["SortableList","allowedActions","canSelect","data","moveAsset","noNavigation","onChange","onClickEditFile","selectedItems","handleClick","e","stopPropagation","map","item","index","id","url","checked","findIndex","file","fileUrl","handleEditClick","canUpdate","defaultProps","propTypes","PropTypes","object","bool","array","func"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Checkbox } from '@buffetjs/core';\nimport { get } from 'lodash';\nimport { prefixFileUrlWithBackendUrl } from 'strapi-helper-plugin';\nimport DraggableCard from './DraggableCard';\nimport CardControlsWrapper from '../CardControlsWrapper';\nimport ListWrapper from '../ListWrapper';\nimport CardControl from '../CardControl';\n\nconst SortableList = ({\n  allowedActions,\n  canSelect,\n  data,\n  moveAsset,\n  noNavigation,\n  onChange,\n  onClickEditFile,\n  selectedItems,\n}) => {\n  const handleClick = e => {\n    e.stopPropagation();\n  };\n\n  return (\n    <ListWrapper small>\n      <div className=\"row\">\n        {data.map((item, index) => {\n          const { id } = item;\n          const url = get(item, ['formats', 'thumbnail', 'url'], item.url);\n          const checked = selectedItems.findIndex(file => file.id === id) !== -1;\n          const fileUrl = prefixFileUrlWithBackendUrl(url);\n          const handleEditClick = e => {\n            e.stopPropagation();\n            onClickEditFile(id);\n          };\n\n          return (\n            <div className=\"col-xs-12 col-md-6 col-xl-3\" key={id || index}>\n              <DraggableCard\n                checked={checked}\n                {...item}\n                url={fileUrl}\n                moveAsset={moveAsset}\n                isDraggable\n                index={index}\n              >\n                {(checked || canSelect) && (\n                  <CardControlsWrapper leftAlign displayed className=\"card-control-wrapper\">\n                    <Checkbox\n                      name={`${id}`}\n                      onChange={onChange}\n                      onClick={handleClick}\n                      value={checked}\n                    />\n                  </CardControlsWrapper>\n                )}\n                {!noNavigation && allowedActions.canUpdate && (\n                  <CardControlsWrapper className=\"card-control-wrapper card-control-wrapper-hidden\">\n                    <CardControl\n                      small\n                      title=\"edit\"\n                      color=\"#9EA7B8\"\n                      type=\"pencil\"\n                      onClick={e => handleEditClick(e)}\n                    />\n                  </CardControlsWrapper>\n                )}\n              </DraggableCard>\n            </div>\n          );\n        })}\n      </div>\n    </ListWrapper>\n  );\n};\n\nSortableList.defaultProps = {\n  allowedActions: {\n    canUpdate: false,\n  },\n  canSelect: true,\n  data: [],\n  moveAsset: () => {},\n  noNavigation: false,\n  onChange: () => {},\n  onClickEditFile: () => {},\n  selectedItems: [],\n};\n\nSortableList.propTypes = {\n  allowedActions: PropTypes.object,\n  canSelect: PropTypes.bool,\n  data: PropTypes.array,\n  moveAsset: PropTypes.func,\n  noNavigation: PropTypes.bool,\n  onChange: PropTypes.func,\n  onClickEditFile: PropTypes.func,\n  selectedItems: PropTypes.array,\n};\n\nexport default SortableList;\n"]},"metadata":{},"sourceType":"script"}