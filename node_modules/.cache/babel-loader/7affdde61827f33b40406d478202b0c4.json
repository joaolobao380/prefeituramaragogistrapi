{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _lodash = require(\"lodash\");\n\nvar _makeUnique = _interopRequireDefault(require(\"../../../utils/makeUnique\"));\n\nvar retrieveNestedComponents = function retrieveNestedComponents(appComponents) {\n  var nestedComponents = Object.keys(appComponents).reduce(function (acc, current) {\n    var componentAttributes = (0, _lodash.get)(appComponents, [current, 'schema', 'attributes'], {});\n    var currentComponentNestedCompos = getComponentsFromComponent(componentAttributes);\n    return [].concat((0, _toConsumableArray2[\"default\"])(acc), (0, _toConsumableArray2[\"default\"])(currentComponentNestedCompos));\n  }, []);\n  return (0, _makeUnique[\"default\"])(nestedComponents);\n};\n\nvar getComponentsFromComponent = function getComponentsFromComponent(componentAttributes) {\n  return Object.keys(componentAttributes).reduce(function (acc, current) {\n    var attribute = (0, _lodash.get)(componentAttributes, current, {});\n    var type = attribute.type,\n        component = attribute.component;\n\n    if (type === 'component') {\n      acc.push(component);\n    }\n\n    return acc;\n  }, []);\n};\n\nvar _default = retrieveNestedComponents;\nexports[\"default\"] = _default;","map":{"version":3,"sources":["/Users/joaovictorlobao/prefeituramaragogistrapi/.cache/plugins/strapi-plugin-content-type-builder/admin/src/containers/DataManagerProvider/utils/retrieveNestedComponents.js"],"names":["retrieveNestedComponents","appComponents","nestedComponents","Object","keys","reduce","acc","current","componentAttributes","currentComponentNestedCompos","getComponentsFromComponent","attribute","type","component","push"],"mappings":";;;;;;;;;;;AAAA;;AACA;;AAEA,IAAMA,wBAAwB,GAAG,SAA3BA,wBAA2B,CAAAC,aAAa,EAAI;AAChD,MAAMC,gBAAgB,GAAGC,MAAM,CAACC,IAAP,CAAYH,aAAZ,EAA2BI,MAA3B,CAAkC,UAACC,GAAD,EAAMC,OAAN,EAAkB;AAC3E,QAAMC,mBAAmB,GAAG,iBAC1BP,aAD0B,EAE1B,CAACM,OAAD,EAAU,QAAV,EAAoB,YAApB,CAF0B,EAG1B,EAH0B,CAA5B;AAKA,QAAME,4BAA4B,GAAGC,0BAA0B,CAC7DF,mBAD6D,CAA/D;AAIA,yDAAWF,GAAX,uCAAmBG,4BAAnB;AACD,GAXwB,EAWtB,EAXsB,CAAzB;AAaA,SAAO,4BAAWP,gBAAX,CAAP;AACD,CAfD;;AAiBA,IAAMQ,0BAA0B,GAAG,SAA7BA,0BAA6B,CAAAF,mBAAmB,EAAI;AACxD,SAAOL,MAAM,CAACC,IAAP,CAAYI,mBAAZ,EAAiCH,MAAjC,CAAwC,UAACC,GAAD,EAAMC,OAAN,EAAkB;AAC/D,QAAMI,SAAS,GAAG,iBAAIH,mBAAJ,EAAyBD,OAAzB,EAAkC,EAAlC,CAAlB;AACA,QAAQK,IAAR,GAA4BD,SAA5B,CAAQC,IAAR;AAAA,QAAcC,SAAd,GAA4BF,SAA5B,CAAcE,SAAd;;AAEA,QAAID,IAAI,KAAK,WAAb,EAA0B;AACxBN,MAAAA,GAAG,CAACQ,IAAJ,CAASD,SAAT;AACD;;AAED,WAAOP,GAAP;AACD,GATM,EASJ,EATI,CAAP;AAUD,CAXD;;eAaeN,wB","sourcesContent":["import { get } from 'lodash';\nimport makeUnique from '../../../utils/makeUnique';\n\nconst retrieveNestedComponents = appComponents => {\n  const nestedComponents = Object.keys(appComponents).reduce((acc, current) => {\n    const componentAttributes = get(\n      appComponents,\n      [current, 'schema', 'attributes'],\n      {}\n    );\n    const currentComponentNestedCompos = getComponentsFromComponent(\n      componentAttributes\n    );\n\n    return [...acc, ...currentComponentNestedCompos];\n  }, []);\n\n  return makeUnique(nestedComponents);\n};\n\nconst getComponentsFromComponent = componentAttributes => {\n  return Object.keys(componentAttributes).reduce((acc, current) => {\n    const attribute = get(componentAttributes, current, {});\n    const { type, component } = attribute;\n\n    if (type === 'component') {\n      acc.push(component);\n    }\n\n    return acc;\n  }, []);\n};\n\nexport default retrieveNestedComponents;\n"]},"metadata":{},"sourceType":"script"}