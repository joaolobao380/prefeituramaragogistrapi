{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _typeof = require(\"@babel/runtime/helpers/typeof\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _reactDnd = require(\"react-dnd\");\n\nvar _reactDndHtml5Backend = require(\"react-dnd-html5-backend\");\n\nvar _ItemTypes = _interopRequireDefault(require(\"../../utils/ItemTypes\"));\n\nvar _DraggedField = _interopRequireDefault(require(\"../../components/DraggedField\"));\n\nvar _useLayoutDnd2 = _interopRequireDefault(require(\"../../hooks/useLayoutDnd\"));\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nvar Label = function Label(_ref) {\n  var count = _ref.count,\n      index = _ref.index,\n      label = _ref.label,\n      move = _ref.move,\n      name = _ref.name,\n      onClick = _ref.onClick,\n      onRemove = _ref.onRemove,\n      selectedItem = _ref.selectedItem;\n  var ref = (0, _react.useRef)(null);\n\n  var _useLayoutDnd = (0, _useLayoutDnd2[\"default\"])(),\n      setIsDraggingSibling = _useLayoutDnd.setIsDraggingSibling;\n\n  var _useDrop = (0, _reactDnd.useDrop)({\n    accept: _ItemTypes[\"default\"].FIELD,\n    hover: function hover(item) {\n      if (!ref.current) {\n        return;\n      }\n\n      var dragIndex = item.index;\n      var hoverIndex = index; // Don't replace items with themselves\n\n      // Don't replace items with themselves\n      if (dragIndex === hoverIndex) {\n        return;\n      }\n\n      move(dragIndex, hoverIndex);\n      item.index = hoverIndex;\n    }\n  }),\n      _useDrop2 = (0, _slicedToArray2[\"default\"])(_useDrop, 2),\n      drop = _useDrop2[1];\n\n  var _useDrag = (0, _reactDnd.useDrag)({\n    begin: function begin() {\n      setIsDraggingSibling(true);\n    },\n    end: function end() {\n      setIsDraggingSibling(false);\n    },\n    item: {\n      type: _ItemTypes[\"default\"].FIELD,\n      id: name,\n      name: name,\n      index: index\n    },\n    collect: function collect(monitor) {\n      return {\n        isDragging: monitor.isDragging()\n      };\n    }\n  }),\n      _useDrag2 = (0, _slicedToArray2[\"default\"])(_useDrag, 3),\n      isDragging = _useDrag2[0].isDragging,\n      drag = _useDrag2[1],\n      preview = _useDrag2[2];\n\n  (0, _react.useEffect)(function () {\n    preview((0, _reactDndHtml5Backend.getEmptyImage)(), {\n      captureDraggingState: false\n    });\n  }, [preview]);\n  drag(drop(ref));\n  return /*#__PURE__*/_react[\"default\"].createElement(_DraggedField[\"default\"], {\n    count: count,\n    ref: ref,\n    isDragging: isDragging,\n    label: label,\n    name: name,\n    onClick: onClick,\n    onRemove: onRemove,\n    selectedItem: selectedItem\n  });\n};\n\nLabel.defaultProps = {\n  index: 0,\n  label: '',\n  selectedItem: ''\n};\nLabel.propTypes = {\n  count: _propTypes[\"default\"].number.isRequired,\n  index: _propTypes[\"default\"].number,\n  label: _propTypes[\"default\"].string,\n  move: _propTypes[\"default\"].func.isRequired,\n  name: _propTypes[\"default\"].string.isRequired,\n  onClick: _propTypes[\"default\"].func.isRequired,\n  onRemove: _propTypes[\"default\"].func.isRequired,\n  selectedItem: _propTypes[\"default\"].string\n};\nvar _default = Label;\nexports[\"default\"] = _default;","map":{"version":3,"sources":["/Users/joaovictorlobao/prefeituramaragogistrapi/.cache/plugins/strapi-plugin-content-manager/admin/src/containers/ListSettingsView/Label.js"],"names":["Label","count","index","label","move","name","onClick","onRemove","selectedItem","ref","setIsDraggingSibling","accept","ItemTypes","FIELD","hover","item","current","dragIndex","hoverIndex","drop","begin","end","type","id","collect","monitor","isDragging","drag","preview","captureDraggingState","defaultProps","propTypes","PropTypes","number","isRequired","string","func"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport { useDrag, useDrop } from 'react-dnd';\nimport { getEmptyImage } from 'react-dnd-html5-backend';\nimport ItemTypes from '../../utils/ItemTypes';\nimport DraggedField from '../../components/DraggedField';\nimport useLayoutDnd from '../../hooks/useLayoutDnd';\n\nconst Label = ({\n  count,\n  index,\n  label,\n  move,\n  name,\n  onClick,\n  onRemove,\n  selectedItem,\n}) => {\n  const ref = useRef(null);\n  const { setIsDraggingSibling } = useLayoutDnd();\n\n  const [, drop] = useDrop({\n    accept: ItemTypes.FIELD,\n    hover(item) {\n      if (!ref.current) {\n        return;\n      }\n      const dragIndex = item.index;\n      const hoverIndex = index;\n\n      // Don't replace items with themselves\n      if (dragIndex === hoverIndex) {\n        return;\n      }\n\n      move(dragIndex, hoverIndex);\n\n      item.index = hoverIndex;\n    },\n  });\n  const [{ isDragging }, drag, preview] = useDrag({\n    begin: () => {\n      setIsDraggingSibling(true);\n    },\n    end: () => {\n      setIsDraggingSibling(false);\n    },\n    item: { type: ItemTypes.FIELD, id: name, name, index },\n    collect: monitor => ({\n      isDragging: monitor.isDragging(),\n    }),\n  });\n\n  useEffect(() => {\n    preview(getEmptyImage(), { captureDraggingState: false });\n  }, [preview]);\n\n  drag(drop(ref));\n\n  return (\n    <DraggedField\n      count={count}\n      ref={ref}\n      isDragging={isDragging}\n      label={label}\n      name={name}\n      onClick={onClick}\n      onRemove={onRemove}\n      selectedItem={selectedItem}\n    />\n  );\n};\n\nLabel.defaultProps = {\n  index: 0,\n  label: '',\n  selectedItem: '',\n};\n\nLabel.propTypes = {\n  count: PropTypes.number.isRequired,\n  index: PropTypes.number,\n  label: PropTypes.string,\n  move: PropTypes.func.isRequired,\n  name: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired,\n  onRemove: PropTypes.func.isRequired,\n  selectedItem: PropTypes.string,\n};\n\nexport default Label;\n"]},"metadata":{},"sourceType":"script"}