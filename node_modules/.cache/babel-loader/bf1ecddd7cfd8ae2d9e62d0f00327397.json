{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _lodash = require(\"lodash\");\n\nvar _strapiHelperPlugin = require(\"strapi-helper-plugin\");\n\nvar _RelationFormBox = _interopRequireDefault(require(\"../RelationFormBox\"));\n\nvar _RelationFormNaturePicker = _interopRequireDefault(require(\"../RelationFormNaturePicker\"));\n\nvar _Wrapper = _interopRequireDefault(require(\"./Wrapper\"));\n\nvar RelationForm = function RelationForm(_ref) {\n  var errors = _ref.errors,\n      mainBoxHeader = _ref.mainBoxHeader,\n      modifiedData = _ref.modifiedData,\n      naturePickerType = _ref.naturePickerType,\n      onChange = _ref.onChange;\n\n  var _useGlobalContext = (0, _strapiHelperPlugin.useGlobalContext)(),\n      formatMessage = _useGlobalContext.formatMessage;\n\n  var getError = function getError(name) {\n    var errorId = (0, _lodash.get)(errors, [name, 'id'], null);\n    return (0, _lodash.isEmpty)(errorId) ? null : formatMessage({\n      id: errorId\n    });\n  };\n\n  return /*#__PURE__*/_react[\"default\"].createElement(_Wrapper[\"default\"], null, /*#__PURE__*/_react[\"default\"].createElement(_RelationFormBox[\"default\"], {\n    isMain: true,\n    header: mainBoxHeader,\n    error: getError('name'),\n    name: \"name\",\n    onChange: onChange,\n    value: (0, _lodash.get)(modifiedData, 'name', '')\n  }), /*#__PURE__*/_react[\"default\"].createElement(_RelationFormNaturePicker[\"default\"], {\n    oneThatIsCreatingARelationWithAnother: mainBoxHeader,\n    target: modifiedData.target,\n    nature: modifiedData.nature,\n    naturePickerType: naturePickerType,\n    onChange: onChange\n  }), /*#__PURE__*/_react[\"default\"].createElement(_RelationFormBox[\"default\"], {\n    disabled: ['oneWay', 'manyWay'].includes(modifiedData.nature),\n    error: getError('targetAttribute'),\n    name: \"targetAttribute\",\n    onChange: onChange,\n    oneThatIsCreatingARelationWithAnother: mainBoxHeader,\n    target: modifiedData.target,\n    value: (0, _lodash.get)(modifiedData, 'targetAttribute', '')\n  }));\n};\n\nRelationForm.defaultProps = {\n  errors: {},\n  modifiedData: {}\n};\nRelationForm.propTypes = {\n  errors: _propTypes[\"default\"].object,\n  mainBoxHeader: _propTypes[\"default\"].string.isRequired,\n  modifiedData: _propTypes[\"default\"].object,\n  naturePickerType: _propTypes[\"default\"].string.isRequired,\n  onChange: _propTypes[\"default\"].func.isRequired\n};\nvar _default = RelationForm;\nexports[\"default\"] = _default;","map":{"version":3,"sources":["/Users/joaovictorlobao/prefeituramaragogistrapi/.cache/plugins/strapi-plugin-content-type-builder/admin/src/components/RelationForm/index.js"],"names":["RelationForm","errors","mainBoxHeader","modifiedData","naturePickerType","onChange","formatMessage","getError","name","errorId","id","target","nature","includes","defaultProps","propTypes","PropTypes","object","string","isRequired","func"],"mappings":";;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAEA,IAAMA,YAAY,GAAG,SAAfA,YAAe,OAMf;AAAA,MALJC,MAKI,QALJA,MAKI;AAAA,MAJJC,aAII,QAJJA,aAII;AAAA,MAHJC,YAGI,QAHJA,YAGI;AAAA,MAFJC,gBAEI,QAFJA,gBAEI;AAAA,MADJC,QACI,QADJA,QACI;;AACJ,0BAA0B,2CAA1B;AAAA,MAAQC,aAAR,qBAAQA,aAAR;;AACA,MAAMC,QAAQ,GAAG,SAAXA,QAAW,CAAAC,IAAI,EAAI;AACvB,QAAMC,OAAO,GAAG,iBAAIR,MAAJ,EAAY,CAACO,IAAD,EAAO,IAAP,CAAZ,EAA0B,IAA1B,CAAhB;AAEA,WAAO,qBAAQC,OAAR,IAAmB,IAAnB,GAA0BH,aAAa,CAAC;AAAEI,MAAAA,EAAE,EAAED;AAAN,KAAD,CAA9C;AACD,GAJD;;AAMA,sBACE,gCAAC,mBAAD,qBACE,gCAAC,2BAAD;AACE,IAAA,MAAM,MADR;AAEE,IAAA,MAAM,EAAEP,aAFV;AAGE,IAAA,KAAK,EAAEK,QAAQ,CAAC,MAAD,CAHjB;AAIE,IAAA,IAAI,EAAC,MAJP;AAKE,IAAA,QAAQ,EAAEF,QALZ;AAME,IAAA,KAAK,EAAE,iBAAIF,YAAJ,EAAkB,MAAlB,EAA0B,EAA1B;AANT,IADF,eASE,gCAAC,oCAAD;AACE,IAAA,qCAAqC,EAAED,aADzC;AAEE,IAAA,MAAM,EAAEC,YAAY,CAACQ,MAFvB;AAGE,IAAA,MAAM,EAAER,YAAY,CAACS,MAHvB;AAIE,IAAA,gBAAgB,EAAER,gBAJpB;AAKE,IAAA,QAAQ,EAAEC;AALZ,IATF,eAgBE,gCAAC,2BAAD;AACE,IAAA,QAAQ,EAAE,CAAC,QAAD,EAAW,SAAX,EAAsBQ,QAAtB,CAA+BV,YAAY,CAACS,MAA5C,CADZ;AAEE,IAAA,KAAK,EAAEL,QAAQ,CAAC,iBAAD,CAFjB;AAGE,IAAA,IAAI,EAAC,iBAHP;AAIE,IAAA,QAAQ,EAAEF,QAJZ;AAKE,IAAA,qCAAqC,EAAEH,aALzC;AAME,IAAA,MAAM,EAAEC,YAAY,CAACQ,MANvB;AAOE,IAAA,KAAK,EAAE,iBAAIR,YAAJ,EAAkB,iBAAlB,EAAqC,EAArC;AAPT,IAhBF,CADF;AA4BD,CA1CD;;AA4CAH,YAAY,CAACc,YAAb,GAA4B;AAC1Bb,EAAAA,MAAM,EAAE,EADkB;AAE1BE,EAAAA,YAAY,EAAE;AAFY,CAA5B;AAKAH,YAAY,CAACe,SAAb,GAAyB;AACvBd,EAAAA,MAAM,EAAEe,sBAAUC,MADK;AAEvBf,EAAAA,aAAa,EAAEc,sBAAUE,MAAV,CAAiBC,UAFT;AAGvBhB,EAAAA,YAAY,EAAEa,sBAAUC,MAHD;AAIvBb,EAAAA,gBAAgB,EAAEY,sBAAUE,MAAV,CAAiBC,UAJZ;AAKvBd,EAAAA,QAAQ,EAAEW,sBAAUI,IAAV,CAAeD;AALF,CAAzB;eAQenB,Y","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { get, isEmpty } from 'lodash';\nimport { useGlobalContext } from 'strapi-helper-plugin';\nimport RelationFormBox from '../RelationFormBox';\nimport RelationFormNaturePicker from '../RelationFormNaturePicker';\nimport Wrapper from './Wrapper';\n\nconst RelationForm = ({\n  errors,\n  mainBoxHeader,\n  modifiedData,\n  naturePickerType,\n  onChange,\n}) => {\n  const { formatMessage } = useGlobalContext();\n  const getError = name => {\n    const errorId = get(errors, [name, 'id'], null);\n\n    return isEmpty(errorId) ? null : formatMessage({ id: errorId });\n  };\n\n  return (\n    <Wrapper>\n      <RelationFormBox\n        isMain\n        header={mainBoxHeader}\n        error={getError('name')}\n        name=\"name\"\n        onChange={onChange}\n        value={get(modifiedData, 'name', '')}\n      />\n      <RelationFormNaturePicker\n        oneThatIsCreatingARelationWithAnother={mainBoxHeader}\n        target={modifiedData.target}\n        nature={modifiedData.nature}\n        naturePickerType={naturePickerType}\n        onChange={onChange}\n      />\n      <RelationFormBox\n        disabled={['oneWay', 'manyWay'].includes(modifiedData.nature)}\n        error={getError('targetAttribute')}\n        name=\"targetAttribute\"\n        onChange={onChange}\n        oneThatIsCreatingARelationWithAnother={mainBoxHeader}\n        target={modifiedData.target}\n        value={get(modifiedData, 'targetAttribute', '')}\n      />\n    </Wrapper>\n  );\n};\n\nRelationForm.defaultProps = {\n  errors: {},\n  modifiedData: {},\n};\n\nRelationForm.propTypes = {\n  errors: PropTypes.object,\n  mainBoxHeader: PropTypes.string.isRequired,\n  modifiedData: PropTypes.object,\n  naturePickerType: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired,\n};\n\nexport default RelationForm;\n"]},"metadata":{},"sourceType":"script"}