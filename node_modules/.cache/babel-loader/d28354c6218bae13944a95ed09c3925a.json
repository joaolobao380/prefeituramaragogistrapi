{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _utils = require(\"../../utils\");\n\nvar _config = require(\"../../config\");\n\nvar _permissions = _interopRequireDefault(require(\"../../permissions\"));\n\nvar _formatLinks = _interopRequireDefault(require(\"./utils/formatLinks\"));\n\nvar _globalLinks = _interopRequireDefault(require(\"./utils/globalLinks\"));\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2[\"default\"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nvar init = function init(initialState, plugins) {\n  // Retrieve the links that will be injected into the global section\n  var pluginsGlobalLinks = (0, _utils.retrieveGlobalLinks)(plugins); // Sort the links by name\n\n  var sortedGlobalLinks = (0, _utils.sortLinks)([].concat((0, _toConsumableArray2[\"default\"])(pluginsGlobalLinks), (0, _toConsumableArray2[\"default\"])(_globalLinks[\"default\"]))); // Create the plugins settings sections\n  // Note it is currently not possible to add a link into a plugin section\n\n  var pluginsMenuSections = (0, _utils.retrievePluginsMenu)(plugins);\n  var menu = [{\n    id: 'global',\n    title: {\n      id: 'Settings.global'\n    },\n    links: sortedGlobalLinks\n  }, {\n    id: 'permissions',\n    title: 'Settings.permissions',\n    links: [{\n      title: {\n        id: 'Settings.permissions.menu.link.roles.label'\n      },\n      to: \"\".concat(_config.SETTINGS_BASE_URL, \"/roles\"),\n      name: 'roles',\n      isDisplayed: false,\n      permissions: _permissions[\"default\"].settings.roles.main\n    }, {\n      title: {\n        id: 'Settings.permissions.menu.link.users.label'\n      },\n      // Init the search params directly\n      to: \"\".concat(_config.SETTINGS_BASE_URL, \"/users?pageSize=10&page=1&_sort=firstname%3AASC\"),\n      name: 'users',\n      isDisplayed: false,\n      permissions: _permissions[\"default\"].settings.users.main\n    }]\n  }].concat((0, _toConsumableArray2[\"default\"])(pluginsMenuSections));\n  return _objectSpread(_objectSpread({}, initialState), {}, {\n    menu: (0, _formatLinks[\"default\"])(menu)\n  });\n};\n\nvar _default = init;\nexports[\"default\"] = _default;","map":{"version":3,"sources":["/Users/joaovictorlobao/prefeituramaragogistrapi/.cache/admin/src/hooks/useSettingsMenu/init.js"],"names":["init","initialState","plugins","pluginsGlobalLinks","sortedGlobalLinks","globalLinks","pluginsMenuSections","menu","id","title","links","to","SETTINGS_BASE_URL","name","isDisplayed","permissions","adminPermissions","settings","roles","main","users"],"mappings":";;;;;;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;;;;;AAEA,IAAMA,IAAI,GAAG,SAAPA,IAAO,CAACC,YAAD,EAAeC,OAAf,EAA2B;AACtC;AACA,MAAMC,kBAAkB,GAAG,gCAAoBD,OAApB,CAA3B,CAFsC,CAGtC;;AACA,MAAME,iBAAiB,GAAG,oEAAcD,kBAAd,uCAAqCE,uBAArC,GAA1B,CAJsC,CAKtC;AACA;;AACA,MAAMC,mBAAmB,GAAG,gCAAoBJ,OAApB,CAA5B;AAEA,MAAMK,IAAI,IACR;AACEC,IAAAA,EAAE,EAAE,QADN;AAEEC,IAAAA,KAAK,EAAE;AAAED,MAAAA,EAAE,EAAE;AAAN,KAFT;AAGEE,IAAAA,KAAK,EAAEN;AAHT,GADQ,EAMR;AACEI,IAAAA,EAAE,EAAE,aADN;AAEEC,IAAAA,KAAK,EAAE,sBAFT;AAGEC,IAAAA,KAAK,EAAE,CACL;AACED,MAAAA,KAAK,EAAE;AAAED,QAAAA,EAAE,EAAE;AAAN,OADT;AAEEG,MAAAA,EAAE,YAAKC,yBAAL,WAFJ;AAGEC,MAAAA,IAAI,EAAE,OAHR;AAIEC,MAAAA,WAAW,EAAE,KAJf;AAKEC,MAAAA,WAAW,EAAEC,wBAAiBC,QAAjB,CAA0BC,KAA1B,CAAgCC;AAL/C,KADK,EAQL;AACEV,MAAAA,KAAK,EAAE;AAAED,QAAAA,EAAE,EAAE;AAAN,OADT;AAEE;AACAG,MAAAA,EAAE,YAAKC,yBAAL,oDAHJ;AAIEC,MAAAA,IAAI,EAAE,OAJR;AAKEC,MAAAA,WAAW,EAAE,KALf;AAMEC,MAAAA,WAAW,EAAEC,wBAAiBC,QAAjB,CAA0BG,KAA1B,CAAgCD;AAN/C,KARK;AAHT,GANQ,6CA2BLb,mBA3BK,EAAV;AA8BA,yCAAYL,YAAZ;AAA0BM,IAAAA,IAAI,EAAE,6BAAYA,IAAZ;AAAhC;AACD,CAxCD;;eA0CeP,I","sourcesContent":["import { retrieveGlobalLinks, retrievePluginsMenu, sortLinks } from '../../utils';\nimport { SETTINGS_BASE_URL } from '../../config';\nimport adminPermissions from '../../permissions';\nimport formatLinks from './utils/formatLinks';\nimport globalLinks from './utils/globalLinks';\n\nconst init = (initialState, plugins) => {\n  // Retrieve the links that will be injected into the global section\n  const pluginsGlobalLinks = retrieveGlobalLinks(plugins);\n  // Sort the links by name\n  const sortedGlobalLinks = sortLinks([...pluginsGlobalLinks, ...globalLinks]);\n  // Create the plugins settings sections\n  // Note it is currently not possible to add a link into a plugin section\n  const pluginsMenuSections = retrievePluginsMenu(plugins);\n\n  const menu = [\n    {\n      id: 'global',\n      title: { id: 'Settings.global' },\n      links: sortedGlobalLinks,\n    },\n    {\n      id: 'permissions',\n      title: 'Settings.permissions',\n      links: [\n        {\n          title: { id: 'Settings.permissions.menu.link.roles.label' },\n          to: `${SETTINGS_BASE_URL}/roles`,\n          name: 'roles',\n          isDisplayed: false,\n          permissions: adminPermissions.settings.roles.main,\n        },\n        {\n          title: { id: 'Settings.permissions.menu.link.users.label' },\n          // Init the search params directly\n          to: `${SETTINGS_BASE_URL}/users?pageSize=10&page=1&_sort=firstname%3AASC`,\n          name: 'users',\n          isDisplayed: false,\n          permissions: adminPermissions.settings.users.main,\n        },\n      ],\n    },\n    ...pluginsMenuSections,\n  ];\n\n  return { ...initialState, menu: formatLinks(menu) };\n};\n\nexport default init;\n"]},"metadata":{},"sourceType":"script"}