{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _lodash = require(\"lodash\");\n\nvar getExistingActions = function getExistingActions(permissions) {\n  return Array.from(new Set(Object.entries(permissions).reduce(function (acc, current) {\n    var getActionsPermission = function getActionsPermission(permission) {\n      return permission.reduce(function (accAction, currentAction) {\n        var actionsToReturn = accAction;\n\n        if (currentAction.actions) {\n          actionsToReturn = [].concat((0, _toConsumableArray2[\"default\"])(actionsToReturn), (0, _toConsumableArray2[\"default\"])(currentAction.actions));\n        }\n\n        if ((0, _typeof2[\"default\"])(currentAction) === 'object' && !currentAction.actions) {\n          actionsToReturn = [].concat((0, _toConsumableArray2[\"default\"])(actionsToReturn), (0, _toConsumableArray2[\"default\"])(Object.keys(currentAction)));\n        }\n\n        return actionsToReturn;\n      }, []);\n    };\n\n    return [].concat((0, _toConsumableArray2[\"default\"])(acc), (0, _toConsumableArray2[\"default\"])(getActionsPermission([].concat((0, _toConsumableArray2[\"default\"])(Object.values(current[1].attributes || {})), [(0, _lodash.get)(current[1], 'contentTypeActions', {})]))));\n  }, [])));\n};\n\nvar _default = getExistingActions;\nexports[\"default\"] = _default;","map":{"version":3,"sources":["/Users/joaovictorlobao/prefeituramaragogistrapi/.cache/admin/src/utils/getExistingActions.js"],"names":["getExistingActions","permissions","Array","from","Set","Object","entries","reduce","acc","current","getActionsPermission","permission","accAction","currentAction","actionsToReturn","actions","keys","values","attributes"],"mappings":";;;;;;;;;;;;;AAAA;;AAEA,IAAMA,kBAAkB,GAAG,SAArBA,kBAAqB,CAAAC,WAAW,EAAI;AACxC,SAAOC,KAAK,CAACC,IAAN,CACL,IAAIC,GAAJ,CACEC,MAAM,CAACC,OAAP,CAAeL,WAAf,EAA4BM,MAA5B,CAAmC,UAACC,GAAD,EAAMC,OAAN,EAAkB;AACnD,QAAMC,oBAAoB,GAAG,SAAvBA,oBAAuB,CAAAC,UAAU;AAAA,aACrCA,UAAU,CAACJ,MAAX,CAAkB,UAACK,SAAD,EAAYC,aAAZ,EAA8B;AAC9C,YAAIC,eAAe,GAAGF,SAAtB;;AAEA,YAAIC,aAAa,CAACE,OAAlB,EAA2B;AACzBD,UAAAA,eAAe,iDAAOA,eAAP,uCAA2BD,aAAa,CAACE,OAAzC,EAAf;AACD;;AAED,YAAI,yBAAOF,aAAP,MAAyB,QAAzB,IAAqC,CAACA,aAAa,CAACE,OAAxD,EAAiE;AAC/DD,UAAAA,eAAe,iDAAOA,eAAP,uCAA2BT,MAAM,CAACW,IAAP,CAAYH,aAAZ,CAA3B,EAAf;AACD;;AAED,eAAOC,eAAP;AACD,OAZD,EAYG,EAZH,CADqC;AAAA,KAAvC;;AAeA,yDACKN,GADL,uCAEKE,oBAAoB,+CAClBL,MAAM,CAACY,MAAP,CAAcR,OAAO,CAAC,CAAD,CAAP,CAAWS,UAAX,IAAyB,EAAvC,CADkB,IAErB,iBAAIT,OAAO,CAAC,CAAD,CAAX,EAAgB,oBAAhB,EAAsC,EAAtC,CAFqB,GAFzB;AAOD,GAvBD,EAuBG,EAvBH,CADF,CADK,CAAP;AA4BD,CA7BD;;eA+BeT,kB","sourcesContent":["import { get } from 'lodash';\n\nconst getExistingActions = permissions => {\n  return Array.from(\n    new Set(\n      Object.entries(permissions).reduce((acc, current) => {\n        const getActionsPermission = permission =>\n          permission.reduce((accAction, currentAction) => {\n            let actionsToReturn = accAction;\n\n            if (currentAction.actions) {\n              actionsToReturn = [...actionsToReturn, ...currentAction.actions];\n            }\n\n            if (typeof currentAction === 'object' && !currentAction.actions) {\n              actionsToReturn = [...actionsToReturn, ...Object.keys(currentAction)];\n            }\n\n            return actionsToReturn;\n          }, []);\n\n        return [\n          ...acc,\n          ...getActionsPermission([\n            ...Object.values(current[1].attributes || {}),\n            get(current[1], 'contentTypeActions', {}),\n          ]),\n        ];\n      }, [])\n    )\n  );\n};\n\nexport default getExistingActions;\n"]},"metadata":{},"sourceType":"script"}