{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _react = require(\"react\");\n\nvar _lodash = require(\"lodash\");\n\nvar _strapiHelperPlugin = require(\"strapi-helper-plugin\");\n\nfunction useSelect(_ref) {\n  var schema = _ref.schema,\n      componentFieldName = _ref.componentFieldName;\n\n  var _useContentManagerEdi = (0, _strapiHelperPlugin.useContentManagerEditViewDataManager)(),\n      checkFormErrors = _useContentManagerEdi.checkFormErrors,\n      modifiedData = _useContentManagerEdi.modifiedData,\n      moveComponentField = _useContentManagerEdi.moveComponentField,\n      removeRepeatableField = _useContentManagerEdi.removeRepeatableField,\n      triggerFormValidation = _useContentManagerEdi.triggerFormValidation;\n\n  var mainField = (0, _react.useMemo)(function () {\n    return (0, _lodash.get)(schema, ['settings', 'mainField'], 'id');\n  }, [schema]);\n  var displayedValue = (0, _lodash.toString)((0, _lodash.get)(modifiedData, [].concat((0, _toConsumableArray2[\"default\"])(componentFieldName.split('.')), [mainField]), ''));\n  return {\n    displayedValue: displayedValue,\n    mainField: mainField,\n    checkFormErrors: checkFormErrors,\n    moveComponentField: moveComponentField,\n    removeRepeatableField: removeRepeatableField,\n    schema: schema,\n    triggerFormValidation: triggerFormValidation\n  };\n}\n\nvar _default = useSelect;\nexports[\"default\"] = _default;","map":{"version":3,"sources":["/Users/joaovictorlobao/prefeituramaragogistrapi/.cache/plugins/strapi-plugin-content-manager/admin/src/components/RepeatableComponent/DraggedItem/utils/select.js"],"names":["useSelect","schema","componentFieldName","checkFormErrors","modifiedData","moveComponentField","removeRepeatableField","triggerFormValidation","mainField","displayedValue","split"],"mappings":";;;;;;;;;;;AAAA;;AACA;;AACA;;AAEA,SAASA,SAAT,OAAmD;AAAA,MAA9BC,MAA8B,QAA9BA,MAA8B;AAAA,MAAtBC,kBAAsB,QAAtBA,kBAAsB;;AACjD,8BAMI,+DANJ;AAAA,MACEC,eADF,yBACEA,eADF;AAAA,MAEEC,YAFF,yBAEEA,YAFF;AAAA,MAGEC,kBAHF,yBAGEA,kBAHF;AAAA,MAIEC,qBAJF,yBAIEA,qBAJF;AAAA,MAKEC,qBALF,yBAKEA,qBALF;;AAQA,MAAMC,SAAS,GAAG,oBAAQ;AAAA,WAAM,iBAAIP,MAAJ,EAAY,CAAC,UAAD,EAAa,WAAb,CAAZ,EAAuC,IAAvC,CAAN;AAAA,GAAR,EAA4D,CAACA,MAAD,CAA5D,CAAlB;AACA,MAAMQ,cAAc,GAAG,sBACrB,iBAAIL,YAAJ,gDAAsBF,kBAAkB,CAACQ,KAAnB,CAAyB,GAAzB,CAAtB,IAAqDF,SAArD,IAAiE,EAAjE,CADqB,CAAvB;AAIA,SAAO;AACLC,IAAAA,cAAc,EAAdA,cADK;AAELD,IAAAA,SAAS,EAATA,SAFK;AAGLL,IAAAA,eAAe,EAAfA,eAHK;AAILE,IAAAA,kBAAkB,EAAlBA,kBAJK;AAKLC,IAAAA,qBAAqB,EAArBA,qBALK;AAMLL,IAAAA,MAAM,EAANA,MANK;AAOLM,IAAAA,qBAAqB,EAArBA;AAPK,GAAP;AASD;;eAEcP,S","sourcesContent":["import { useMemo } from 'react';\nimport { get, toString } from 'lodash';\nimport { useContentManagerEditViewDataManager } from 'strapi-helper-plugin';\n\nfunction useSelect({ schema, componentFieldName }) {\n  const {\n    checkFormErrors,\n    modifiedData,\n    moveComponentField,\n    removeRepeatableField,\n    triggerFormValidation,\n  } = useContentManagerEditViewDataManager();\n\n  const mainField = useMemo(() => get(schema, ['settings', 'mainField'], 'id'), [schema]);\n  const displayedValue = toString(\n    get(modifiedData, [...componentFieldName.split('.'), mainField], '')\n  );\n\n  return {\n    displayedValue,\n    mainField,\n    checkFormErrors,\n    moveComponentField,\n    removeRepeatableField,\n    schema,\n    triggerFormValidation,\n  };\n}\n\nexport default useSelect;\n"]},"metadata":{},"sourceType":"script"}