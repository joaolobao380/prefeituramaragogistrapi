{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactDnd = require(\"react-dnd\");\n\nvar _core = require(\"@buffetjs/core\");\n\nvar _utils = require(\"../../utils\");\n\nvar _CardControlsWrapper = _interopRequireDefault(require(\"../CardControlsWrapper\"));\n\nvar _CardImgWrapper = _interopRequireDefault(require(\"../CardImgWrapper\"));\n\nvar _CardPreview = _interopRequireDefault(require(\"../CardPreview\"));\n\nvar _CardBorder = _interopRequireDefault(require(\"../CardBorder\"));\n\nvar _Wrapper = _interopRequireDefault(require(\"./Wrapper\"));\n\nfunction getItemStyles(initialOffset, currentOffset, mouseOffset) {\n  if (!initialOffset || !currentOffset) {\n    return {\n      display: 'none'\n    };\n  }\n\n  var x = mouseOffset.x,\n      y = mouseOffset.y;\n  var transform = \"translate(\".concat(x, \"px, \").concat(y, \"px)\");\n  return {\n    transform: transform,\n    WebkitTransform: transform\n  };\n}\n\nvar DragLayer = function DragLayer() {\n  var _useDragLayer = (0, _reactDnd.useDragLayer)(function (monitor) {\n    return {\n      item: monitor.getItem(),\n      itemType: monitor.getItemType(),\n      initialOffset: monitor.getInitialSourceClientOffset(),\n      currentOffset: monitor.getSourceClientOffset(),\n      isDragging: monitor.isDragging(),\n      mouseOffset: monitor.getClientOffset()\n    };\n  }),\n      itemType = _useDragLayer.itemType,\n      isDragging = _useDragLayer.isDragging,\n      item = _useDragLayer.item,\n      initialOffset = _useDragLayer.initialOffset,\n      currentOffset = _useDragLayer.currentOffset,\n      mouseOffset = _useDragLayer.mouseOffset;\n\n  var renderItem = function renderItem() {\n    switch (itemType) {\n      case _utils.ItemTypes.MEDIA_CARD:\n        {\n          return /*#__PURE__*/_react[\"default\"].createElement(_CardImgWrapper[\"default\"], {\n            checked: true,\n            small: true\n          }, /*#__PURE__*/_react[\"default\"].createElement(_CardPreview[\"default\"], {\n            url: item.url,\n            type: item.fileType,\n            withFileCaching: true\n          }), /*#__PURE__*/_react[\"default\"].createElement(_CardBorder[\"default\"], {\n            color: \"mediumBlue\",\n            shown: true\n          }), /*#__PURE__*/_react[\"default\"].createElement(_CardControlsWrapper[\"default\"], {\n            leftAlign: true,\n            className: \"card-control-wrapper\"\n          }, /*#__PURE__*/_react[\"default\"].createElement(_core.Checkbox, {\n            name: \"id\",\n            onChange: function onChange() {},\n            onClick: function onClick() {},\n            value: true\n          })));\n        }\n\n      default:\n        return null;\n    }\n  };\n\n  if (!isDragging) {\n    return null;\n  }\n\n  return /*#__PURE__*/_react[\"default\"].createElement(_Wrapper[\"default\"], null, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    style: getItemStyles(initialOffset, currentOffset, mouseOffset),\n    className: \"col-md-2\"\n  }, renderItem()));\n};\n\nvar _default = DragLayer;\nexports[\"default\"] = _default;","map":{"version":3,"sources":["/Users/joaovictorlobao/prefeituramaragogistrapi/.cache/plugins/strapi-plugin-upload/admin/src/components/DragLayer/index.js"],"names":["getItemStyles","initialOffset","currentOffset","mouseOffset","display","x","y","transform","WebkitTransform","DragLayer","monitor","item","getItem","itemType","getItemType","getInitialSourceClientOffset","getSourceClientOffset","isDragging","getClientOffset","renderItem","ItemTypes","MEDIA_CARD","url","fileType"],"mappings":";;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAEA,SAASA,aAAT,CAAuBC,aAAvB,EAAsCC,aAAtC,EAAqDC,WAArD,EAAkE;AAChE,MAAI,CAACF,aAAD,IAAkB,CAACC,aAAvB,EAAsC;AACpC,WAAO;AAAEE,MAAAA,OAAO,EAAE;AAAX,KAAP;AACD;;AAED,MAAQC,CAAR,GAAiBF,WAAjB,CAAQE,CAAR;AAAA,MAAWC,CAAX,GAAiBH,WAAjB,CAAWG,CAAX;AACA,MAAMC,SAAS,uBAAgBF,CAAhB,iBAAwBC,CAAxB,QAAf;AAEA,SAAO;AACLC,IAAAA,SAAS,EAATA,SADK;AAELC,IAAAA,eAAe,EAAED;AAFZ,GAAP;AAID;;AAED,IAAME,SAAS,GAAG,SAAZA,SAAY,GAAM;AACtB,sBAAkF,4BAChF,UAAAC,OAAO;AAAA,WAAK;AACVC,MAAAA,IAAI,EAAED,OAAO,CAACE,OAAR,EADI;AAEVC,MAAAA,QAAQ,EAAEH,OAAO,CAACI,WAAR,EAFA;AAGVb,MAAAA,aAAa,EAAES,OAAO,CAACK,4BAAR,EAHL;AAIVb,MAAAA,aAAa,EAAEQ,OAAO,CAACM,qBAAR,EAJL;AAKVC,MAAAA,UAAU,EAAEP,OAAO,CAACO,UAAR,EALF;AAMVd,MAAAA,WAAW,EAAEO,OAAO,CAACQ,eAAR;AANH,KAAL;AAAA,GADyE,CAAlF;AAAA,MAAQL,QAAR,iBAAQA,QAAR;AAAA,MAAkBI,UAAlB,iBAAkBA,UAAlB;AAAA,MAA8BN,IAA9B,iBAA8BA,IAA9B;AAAA,MAAoCV,aAApC,iBAAoCA,aAApC;AAAA,MAAmDC,aAAnD,iBAAmDA,aAAnD;AAAA,MAAkEC,WAAlE,iBAAkEA,WAAlE;;AAWA,MAAMgB,UAAU,GAAG,SAAbA,UAAa,GAAM;AACvB,YAAQN,QAAR;AACE,WAAKO,iBAAUC,UAAf;AAA2B;AACzB,8BACE,gCAAC,0BAAD;AAAgB,YAAA,OAAO,MAAvB;AAAwB,YAAA,KAAK;AAA7B,0BACE,gCAAC,uBAAD;AAAa,YAAA,GAAG,EAAEV,IAAI,CAACW,GAAvB;AAA4B,YAAA,IAAI,EAAEX,IAAI,CAACY,QAAvC;AAAiD,YAAA,eAAe;AAAhE,YADF,eAEE,gCAAC,sBAAD;AAAQ,YAAA,KAAK,EAAC,YAAd;AAA2B,YAAA,KAAK;AAAhC,YAFF,eAGE,gCAAC,+BAAD;AAAqB,YAAA,SAAS,MAA9B;AAA+B,YAAA,SAAS,EAAC;AAAzC,0BACE,gCAAC,cAAD;AAAU,YAAA,IAAI,EAAC,IAAf;AAAoB,YAAA,QAAQ,EAAE,oBAAM,CAAE,CAAtC;AAAwC,YAAA,OAAO,EAAE,mBAAM,CAAE,CAAzD;AAA2D,YAAA,KAAK;AAAhE,YADF,CAHF,CADF;AASD;;AACD;AACE,eAAO,IAAP;AAbJ;AAeD,GAhBD;;AAkBA,MAAI,CAACN,UAAL,EAAiB;AACf,WAAO,IAAP;AACD;;AAED,sBACE,gCAAC,mBAAD,qBACE;AAAK,IAAA,KAAK,EAAEjB,aAAa,CAACC,aAAD,EAAgBC,aAAhB,EAA+BC,WAA/B,CAAzB;AAAsE,IAAA,SAAS,EAAC;AAAhF,KACGgB,UAAU,EADb,CADF,CADF;AAOD,CAzCD;;eA2CeV,S","sourcesContent":["import React from 'react';\nimport { useDragLayer } from 'react-dnd';\nimport { Checkbox } from '@buffetjs/core';\nimport { ItemTypes } from '../../utils';\nimport CardControlsWrapper from '../CardControlsWrapper';\nimport CardImgWrapper from '../CardImgWrapper';\nimport CardPreview from '../CardPreview';\nimport Border from '../CardBorder';\nimport Wrapper from './Wrapper';\n\nfunction getItemStyles(initialOffset, currentOffset, mouseOffset) {\n  if (!initialOffset || !currentOffset) {\n    return { display: 'none' };\n  }\n\n  const { x, y } = mouseOffset;\n  const transform = `translate(${x}px, ${y}px)`;\n\n  return {\n    transform,\n    WebkitTransform: transform,\n  };\n}\n\nconst DragLayer = () => {\n  const { itemType, isDragging, item, initialOffset, currentOffset, mouseOffset } = useDragLayer(\n    monitor => ({\n      item: monitor.getItem(),\n      itemType: monitor.getItemType(),\n      initialOffset: monitor.getInitialSourceClientOffset(),\n      currentOffset: monitor.getSourceClientOffset(),\n      isDragging: monitor.isDragging(),\n      mouseOffset: monitor.getClientOffset(),\n    })\n  );\n\n  const renderItem = () => {\n    switch (itemType) {\n      case ItemTypes.MEDIA_CARD: {\n        return (\n          <CardImgWrapper checked small>\n            <CardPreview url={item.url} type={item.fileType} withFileCaching />\n            <Border color=\"mediumBlue\" shown />\n            <CardControlsWrapper leftAlign className=\"card-control-wrapper\">\n              <Checkbox name=\"id\" onChange={() => {}} onClick={() => {}} value />\n            </CardControlsWrapper>\n          </CardImgWrapper>\n        );\n      }\n      default:\n        return null;\n    }\n  };\n\n  if (!isDragging) {\n    return null;\n  }\n\n  return (\n    <Wrapper>\n      <div style={getItemStyles(initialOffset, currentOffset, mouseOffset)} className=\"col-md-2\">\n        {renderItem()}\n      </div>\n    </Wrapper>\n  );\n};\n\nexport default DragLayer;\n"]},"metadata":{},"sourceType":"script"}