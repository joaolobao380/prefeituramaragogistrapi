{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _core = require(\"@buffetjs/core\");\n\nvar _strapiHelperPlugin = require(\"strapi-helper-plugin\");\n\nvar _utils = require(\"../../../utils\");\n\nvar _hooks = require(\"../../../hooks\");\n\nvar _List = _interopRequireDefault(require(\"../../../components/List\"));\n\nvar _ListEmpty = _interopRequireDefault(require(\"../../../components/ListEmpty\"));\n\nvar HomePageList = function HomePageList(_ref) {\n  var areResultsEmptyWithSettings = _ref.areResultsEmptyWithSettings,\n      data = _ref.data,\n      dataCount = _ref.dataCount,\n      dataToDelete = _ref.dataToDelete,\n      onCardCheck = _ref.onCardCheck,\n      onCardClick = _ref.onCardClick,\n      onChange = _ref.onChange,\n      onClick = _ref.onClick;\n  var query = (0, _strapiHelperPlugin.useQuery)();\n\n  var _useAppContext = (0, _hooks.useAppContext)(),\n      _useAppContext$allowe = _useAppContext.allowedActions,\n      canCreate = _useAppContext$allowe.canCreate,\n      canUpdate = _useAppContext$allowe.canUpdate;\n\n  var limit = parseInt(query.get('_limit'), 10) || 10;\n  var start = parseInt(query.get('_start'), 10) || 0;\n  var params = {\n    _limit: limit,\n    _page: (0, _utils.generatePageFromStart)(start, limit)\n  };\n\n  var handleChangeListParams = function handleChangeListParams(_ref2) {\n    var _ref2$target = _ref2.target,\n        name = _ref2$target.name,\n        value = _ref2$target.value;\n\n    if (name.includes('_page')) {\n      onChange({\n        target: {\n          name: '_start',\n          value: (0, _utils.generateStartFromPage)(value, limit)\n        }\n      });\n    } else {\n      onChange({\n        target: {\n          name: '_limit',\n          value: value\n        }\n      });\n    }\n  };\n\n  if (dataCount > 0 && !areResultsEmptyWithSettings) {\n    return /*#__PURE__*/_react[\"default\"].createElement(_react[\"default\"].Fragment, null, /*#__PURE__*/_react[\"default\"].createElement(_List[\"default\"], {\n      data: data,\n      onChange: onCardCheck,\n      onCardClick: onCardClick,\n      selectedItems: dataToDelete,\n      showCheckbox: canUpdate\n    }), /*#__PURE__*/_react[\"default\"].createElement(_core.Padded, {\n      left: true,\n      right: true,\n      size: \"sm\"\n    }, /*#__PURE__*/_react[\"default\"].createElement(_core.Padded, {\n      left: true,\n      right: true,\n      size: \"xs\"\n    }, /*#__PURE__*/_react[\"default\"].createElement(_strapiHelperPlugin.PageFooter, {\n      context: {\n        emitEvent: function emitEvent() {}\n      },\n      count: dataCount,\n      onChangeParams: handleChangeListParams,\n      params: params\n    }))));\n  }\n\n  return /*#__PURE__*/_react[\"default\"].createElement(_ListEmpty[\"default\"], {\n    canCreate: canCreate,\n    onClick: onClick,\n    hasSearchApplied: areResultsEmptyWithSettings\n  });\n};\n\nHomePageList.defaultProps = {\n  areResultsEmptyWithSettings: false,\n  data: [],\n  dataCount: 0,\n  dataToDelete: [],\n  onCardCheck: function onCardCheck() {},\n  onCardClick: function onCardClick() {},\n  onChange: function onChange() {},\n  onClick: function onClick() {}\n};\nHomePageList.propTypes = {\n  areResultsEmptyWithSettings: _propTypes[\"default\"].bool,\n  data: _propTypes[\"default\"].array,\n  dataCount: _propTypes[\"default\"].number,\n  dataToDelete: _propTypes[\"default\"].array,\n  onCardCheck: _propTypes[\"default\"].func,\n  onCardClick: _propTypes[\"default\"].func,\n  onChange: _propTypes[\"default\"].func,\n  onClick: _propTypes[\"default\"].func\n};\nvar _default = HomePageList;\nexports[\"default\"] = _default;","map":{"version":3,"sources":["/Users/joaovictorlobao/prefeituramaragogistrapi/.cache/plugins/strapi-plugin-upload/admin/src/containers/HomePage/HomePageContent/HomePageList.js"],"names":["HomePageList","areResultsEmptyWithSettings","data","dataCount","dataToDelete","onCardCheck","onCardClick","onChange","onClick","query","allowedActions","canCreate","canUpdate","limit","parseInt","get","start","params","_limit","_page","handleChangeListParams","target","name","value","includes","emitEvent","defaultProps","propTypes","PropTypes","bool","array","number","func"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Padded } from '@buffetjs/core';\nimport { PageFooter, useQuery } from 'strapi-helper-plugin';\nimport { generatePageFromStart, generateStartFromPage } from '../../../utils';\nimport { useAppContext } from '../../../hooks';\nimport List from '../../../components/List';\nimport ListEmpty from '../../../components/ListEmpty';\n\nconst HomePageList = ({\n  areResultsEmptyWithSettings,\n  data,\n  dataCount,\n  dataToDelete,\n  onCardCheck,\n  onCardClick,\n  onChange,\n  onClick,\n}) => {\n  const query = useQuery();\n  const {\n    allowedActions: { canCreate, canUpdate },\n  } = useAppContext();\n\n  const limit = parseInt(query.get('_limit'), 10) || 10;\n  const start = parseInt(query.get('_start'), 10) || 0;\n\n  const params = {\n    _limit: limit,\n    _page: generatePageFromStart(start, limit),\n  };\n\n  const handleChangeListParams = ({ target: { name, value } }) => {\n    if (name.includes('_page')) {\n      onChange({\n        target: { name: '_start', value: generateStartFromPage(value, limit) },\n      });\n    } else {\n      onChange({ target: { name: '_limit', value } });\n    }\n  };\n\n  if (dataCount > 0 && !areResultsEmptyWithSettings) {\n    return (\n      <>\n        <List\n          data={data}\n          onChange={onCardCheck}\n          onCardClick={onCardClick}\n          selectedItems={dataToDelete}\n          showCheckbox={canUpdate}\n        />\n        <Padded left right size=\"sm\">\n          <Padded left right size=\"xs\">\n            <PageFooter\n              context={{ emitEvent: () => {} }}\n              count={dataCount}\n              onChangeParams={handleChangeListParams}\n              params={params}\n            />\n          </Padded>\n        </Padded>\n      </>\n    );\n  }\n\n  return (\n    <ListEmpty\n      canCreate={canCreate}\n      onClick={onClick}\n      hasSearchApplied={areResultsEmptyWithSettings}\n    />\n  );\n};\n\nHomePageList.defaultProps = {\n  areResultsEmptyWithSettings: false,\n  data: [],\n  dataCount: 0,\n  dataToDelete: [],\n  onCardCheck: () => {},\n  onCardClick: () => {},\n  onChange: () => {},\n  onClick: () => {},\n};\n\nHomePageList.propTypes = {\n  areResultsEmptyWithSettings: PropTypes.bool,\n  data: PropTypes.array,\n  dataCount: PropTypes.number,\n  dataToDelete: PropTypes.array,\n  onCardCheck: PropTypes.func,\n  onCardClick: PropTypes.func,\n  onChange: PropTypes.func,\n  onClick: PropTypes.func,\n};\n\nexport default HomePageList;\n"]},"metadata":{},"sourceType":"script"}