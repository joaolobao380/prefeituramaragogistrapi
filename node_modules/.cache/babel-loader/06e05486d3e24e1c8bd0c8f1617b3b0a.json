{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _typeof = require(\"@babel/runtime/helpers/typeof\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _reactIntl = require(\"react-intl\");\n\nvar _core = require(\"@buffetjs/core\");\n\nvar _FullWidthButton = _interopRequireDefault(require(\"../../../FullWidthButton\"));\n\nvar _utils = require(\"./utils\");\n\nvar _reducer = require(\"./reducer\");\n\nvar _init = _interopRequireDefault(require(\"./init\"));\n\nvar _Input = _interopRequireDefault(require(\"./Input\"));\n\nvar _Wrapper = _interopRequireDefault(require(\"./Wrapper\"));\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nvar Card = function Card(_ref) {\n  var onChange = _ref.onChange;\n\n  var _useReducer = (0, _react.useReducer)(_reducer.reducer, _reducer.initialState, _init[\"default\"]),\n      _useReducer2 = (0, _slicedToArray2[\"default\"])(_useReducer, 2),\n      _useReducer2$0$modifi = _useReducer2[0].modifiedData,\n      name = _useReducer2$0$modifi.name,\n      filter = _useReducer2$0$modifi.filter,\n      value = _useReducer2$0$modifi.value,\n      dispatch = _useReducer2[1];\n\n  var handleChangeName = function handleChangeName(_ref2) {\n    var value = _ref2.target.value;\n    dispatch({\n      type: 'ON_CHANGE_NAME',\n      value: value\n    });\n  };\n\n  var handleChange = function handleChange(_ref3) {\n    var _ref3$target = _ref3.target,\n        name = _ref3$target.name,\n        value = _ref3$target.value;\n    dispatch({\n      type: 'ON_CHANGE',\n      keys: name,\n      value: value\n    });\n  };\n\n  var renderFiltersOptions = function renderFiltersOptions() {\n    return _utils.form[name].allowedFilters.map(function (filter) {\n      return /*#__PURE__*/_react[\"default\"].createElement(_reactIntl.FormattedMessage, {\n        id: filter.id,\n        key: filter.id\n      }, function (msg) {\n        return /*#__PURE__*/_react[\"default\"].createElement(\"option\", {\n          value: filter.value\n        }, msg);\n      });\n    });\n  };\n\n  var handleSubmit = function handleSubmit() {\n    onChange({\n      name: name,\n      filter: filter,\n      value: value\n    });\n    dispatch({\n      type: 'RESET_FORM'\n    });\n  };\n\n  return /*#__PURE__*/_react[\"default\"].createElement(_Wrapper[\"default\"], null, /*#__PURE__*/_react[\"default\"].createElement(_core.Padded, {\n    bottom: true,\n    size: \"11px\"\n  }, /*#__PURE__*/_react[\"default\"].createElement(_core.Select, {\n    name: \"name\",\n    onChange: handleChangeName,\n    options: Object.keys(_utils.form),\n    value: name\n  })), /*#__PURE__*/_react[\"default\"].createElement(_core.Padded, {\n    bottom: true,\n    size: \"11px\"\n  }, /*#__PURE__*/_react[\"default\"].createElement(_core.Select, {\n    onChange: handleChange,\n    options: renderFiltersOptions(),\n    name: \"filter\",\n    value: filter\n  })), /*#__PURE__*/_react[\"default\"].createElement(_core.Padded, {\n    bottom: true,\n    size: \"11px\"\n  }, /*#__PURE__*/_react[\"default\"].createElement(_Input[\"default\"], {\n    onChange: handleChange,\n    name: \"value\",\n    type: _utils.form[name].type,\n    value: (0, _utils.getInputValue)(_utils.form[name].type, value),\n    options: [{\n      label: 'true',\n      value: 'true'\n    }, {\n      label: 'false',\n      value: 'false'\n    }]\n  })), /*#__PURE__*/_react[\"default\"].createElement(_FullWidthButton[\"default\"], {\n    icon: true,\n    onClick: handleSubmit,\n    type: \"button\"\n  }, /*#__PURE__*/_react[\"default\"].createElement(_reactIntl.FormattedMessage, {\n    id: \"app.utils.add-filter\"\n  })));\n};\n\nCard.defaultProps = {\n  onChange: function onChange() {}\n};\nCard.propTypes = {\n  onChange: _propTypes[\"default\"].func\n};\nvar _default = Card;\nexports[\"default\"] = _default;","map":{"version":3,"sources":["/Users/joaovictorlobao/prefeituramaragogistrapi/.cache/admin/src/components/Users/FilterPicker/Card/index.js"],"names":["Card","onChange","reducer","initialState","init","modifiedData","name","filter","value","dispatch","handleChangeName","target","type","handleChange","keys","renderFiltersOptions","form","allowedFilters","map","id","msg","handleSubmit","Object","label","defaultProps","propTypes","PropTypes","func"],"mappings":"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","sourcesContent":["import React, { useReducer } from 'react';\nimport PropTypes from 'prop-types';\nimport { FormattedMessage } from 'react-intl';\nimport { Select, Padded } from '@buffetjs/core';\nimport Button from '../../../FullWidthButton';\nimport { form, getInputValue } from './utils';\nimport { initialState, reducer } from './reducer';\nimport init from './init';\nimport Input from './Input';\nimport Wrapper from './Wrapper';\n\nconst Card = ({ onChange }) => {\n  const [\n    {\n      modifiedData: { name, filter, value },\n    },\n    dispatch,\n  ] = useReducer(reducer, initialState, init);\n\n  const handleChangeName = ({ target: { value } }) => {\n    dispatch({\n      type: 'ON_CHANGE_NAME',\n      value,\n    });\n  };\n\n  const handleChange = ({ target: { name, value } }) => {\n    dispatch({\n      type: 'ON_CHANGE',\n      keys: name,\n      value,\n    });\n  };\n\n  const renderFiltersOptions = () => {\n    return form[name].allowedFilters.map(filter => (\n      <FormattedMessage id={filter.id} key={filter.id}>\n        {msg => <option value={filter.value}>{msg}</option>}\n      </FormattedMessage>\n    ));\n  };\n\n  const handleSubmit = () => {\n    onChange({ name, filter, value });\n\n    dispatch({\n      type: 'RESET_FORM',\n    });\n  };\n\n  return (\n    <Wrapper>\n      <Padded bottom size=\"11px\">\n        <Select name=\"name\" onChange={handleChangeName} options={Object.keys(form)} value={name} />\n      </Padded>\n      <Padded bottom size=\"11px\">\n        <Select\n          onChange={handleChange}\n          options={renderFiltersOptions()}\n          name=\"filter\"\n          value={filter}\n        />\n      </Padded>\n      <Padded bottom size=\"11px\">\n        <Input\n          onChange={handleChange}\n          name=\"value\"\n          type={form[name].type}\n          value={getInputValue(form[name].type, value)}\n          options={[\n            { label: 'true', value: 'true' },\n            { label: 'false', value: 'false' },\n          ]}\n        />\n      </Padded>\n      <Button icon onClick={handleSubmit} type=\"button\">\n        <FormattedMessage id=\"app.utils.add-filter\" />\n      </Button>\n    </Wrapper>\n  );\n};\n\nCard.defaultProps = {\n  onChange: () => {},\n};\n\nCard.propTypes = {\n  onChange: PropTypes.func,\n};\n\nexport default Card;\n"]},"metadata":{},"sourceType":"script"}