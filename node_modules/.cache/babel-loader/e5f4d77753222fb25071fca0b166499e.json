{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _typeof = require(\"@babel/runtime/helpers/typeof\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _strapiHelperPlugin = require(\"strapi-helper-plugin\");\n\nvar _reactIntl = require(\"react-intl\");\n\nvar _custom = require(\"@buffetjs/custom\");\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nvar IntlInput = function IntlInput(_ref) {\n  var labelId = _ref.label,\n      defaultMessage = _ref.defaultMessage,\n      error = _ref.error,\n      rest = (0, _objectWithoutProperties2[\"default\"])(_ref, [\"label\", \"defaultMessage\", \"error\"]);\n\n  var _useIntl = (0, _reactIntl.useIntl)(),\n      formatMessage = _useIntl.formatMessage;\n\n  var label = formatMessage({\n    id: labelId,\n    defaultMessage: defaultMessage || labelId\n  });\n  var translatedError = error ? formatMessage(error) : null;\n  var formattedErrors = (0, _react.useMemo)(function () {\n    return Object.keys(_strapiHelperPlugin.translatedErrors).reduce(function (acc, current) {\n      acc[current] = formatMessage({\n        id: _strapiHelperPlugin.translatedErrors[current]\n      });\n      return acc;\n    }, {}); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  return /*#__PURE__*/_react[\"default\"].createElement(_custom.Inputs, (0, _extends2[\"default\"])({}, rest, {\n    label: label,\n    error: translatedError,\n    translatedErrors: formattedErrors\n  }));\n};\n\nIntlInput.defaultProps = {\n  defaultMessage: null,\n  error: null\n};\nIntlInput.propTypes = {\n  defaultMessage: _propTypes[\"default\"].string,\n  error: _propTypes[\"default\"].shape({\n    id: _propTypes[\"default\"].string\n  }),\n  label: _propTypes[\"default\"].string.isRequired\n};\nvar _default = IntlInput;\nexports[\"default\"] = _default;","map":{"version":3,"sources":["/Users/joaovictorlobao/prefeituramaragogistrapi/.cache/plugins/strapi-plugin-users-permissions/admin/src/components/IntlInput/index.js"],"names":["IntlInput","labelId","label","defaultMessage","error","rest","formatMessage","id","translatedError","formattedErrors","Object","keys","translatedErrors","reduce","acc","current","defaultProps","propTypes","PropTypes","string","shape","isRequired"],"mappings":";;;;;;;;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;;;;;AAEA,IAAMA,SAAS,GAAG,SAAZA,SAAY,OAAwD;AAAA,MAA9CC,OAA8C,QAArDC,KAAqD;AAAA,MAArCC,cAAqC,QAArCA,cAAqC;AAAA,MAArBC,KAAqB,QAArBA,KAAqB;AAAA,MAAXC,IAAW;;AACxE,iBAA0B,yBAA1B;AAAA,MAAQC,aAAR,YAAQA,aAAR;;AACA,MAAMJ,KAAK,GAAGI,aAAa,CAAC;AAAEC,IAAAA,EAAE,EAAEN,OAAN;AAAeE,IAAAA,cAAc,EAAEA,cAAc,IAAIF;AAAjD,GAAD,CAA3B;AACA,MAAMO,eAAe,GAAGJ,KAAK,GAAGE,aAAa,CAACF,KAAD,CAAhB,GAA0B,IAAvD;AACA,MAAMK,eAAe,GAAG,oBAAQ,YAAM;AACpC,WAAOC,MAAM,CAACC,IAAP,CAAYC,oCAAZ,EAA8BC,MAA9B,CAAqC,UAACC,GAAD,EAAMC,OAAN,EAAkB;AAC5DD,MAAAA,GAAG,CAACC,OAAD,CAAH,GAAeT,aAAa,CAAC;AAAEC,QAAAA,EAAE,EAAEK,qCAAiBG,OAAjB;AAAN,OAAD,CAA5B;AAEA,aAAOD,GAAP;AACD,KAJM,EAIJ,EAJI,CAAP,CADoC,CAMpC;AACD,GAPuB,EAOrB,EAPqB,CAAxB;AASA,sBACE,gCAAC,cAAD,gCAAYT,IAAZ;AAAkB,IAAA,KAAK,EAAEH,KAAzB;AAAgC,IAAA,KAAK,EAAEM,eAAvC;AAAwD,IAAA,gBAAgB,EAAEC;AAA1E,KADF;AAGD,CAhBD;;AAkBAT,SAAS,CAACgB,YAAV,GAAyB;AACvBb,EAAAA,cAAc,EAAE,IADO;AAEvBC,EAAAA,KAAK,EAAE;AAFgB,CAAzB;AAKAJ,SAAS,CAACiB,SAAV,GAAsB;AACpBd,EAAAA,cAAc,EAAEe,sBAAUC,MADN;AAEpBf,EAAAA,KAAK,EAAEc,sBAAUE,KAAV,CAAgB;AACrBb,IAAAA,EAAE,EAAEW,sBAAUC;AADO,GAAhB,CAFa;AAKpBjB,EAAAA,KAAK,EAAEgB,sBAAUC,MAAV,CAAiBE;AALJ,CAAtB;eAQerB,S","sourcesContent":["import React, { useMemo } from 'react';\nimport { translatedErrors } from 'strapi-helper-plugin';\nimport { useIntl } from 'react-intl';\nimport { Inputs } from '@buffetjs/custom';\nimport PropTypes from 'prop-types';\n\nconst IntlInput = ({ label: labelId, defaultMessage, error, ...rest }) => {\n  const { formatMessage } = useIntl();\n  const label = formatMessage({ id: labelId, defaultMessage: defaultMessage || labelId });\n  const translatedError = error ? formatMessage(error) : null;\n  const formattedErrors = useMemo(() => {\n    return Object.keys(translatedErrors).reduce((acc, current) => {\n      acc[current] = formatMessage({ id: translatedErrors[current] });\n\n      return acc;\n    }, {});\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <Inputs {...rest} label={label} error={translatedError} translatedErrors={formattedErrors} />\n  );\n};\n\nIntlInput.defaultProps = {\n  defaultMessage: null,\n  error: null,\n};\n\nIntlInput.propTypes = {\n  defaultMessage: PropTypes.string,\n  error: PropTypes.shape({\n    id: PropTypes.string,\n  }),\n  label: PropTypes.string.isRequired,\n};\n\nexport default IntlInput;\n"]},"metadata":{},"sourceType":"script"}