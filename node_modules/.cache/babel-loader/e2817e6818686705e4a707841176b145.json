{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _reactQuery = require(\"react-query\");\n\nvar _strapiHelperPlugin = require(\"strapi-helper-plugin\");\n\nvar fetchDefaultLocalesList = /*#__PURE__*/function () {\n  var _ref = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee() {\n    var data;\n    return _regenerator[\"default\"].wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return (0, _strapiHelperPlugin.request)('/i18n/iso-locales', {\n              method: 'GET'\n            });\n\n          case 3:\n            data = _context.sent;\n            return _context.abrupt(\"return\", data);\n\n          case 7:\n            _context.prev = 7;\n            _context.t0 = _context[\"catch\"](0);\n            strapi.notification.toggle({\n              type: 'warning',\n              message: {\n                id: 'notification.error'\n              }\n            });\n            return _context.abrupt(\"return\", []);\n\n          case 11:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[0, 7]]);\n  }));\n\n  return function fetchDefaultLocalesList() {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar useDefaultLocales = function useDefaultLocales() {\n  var _useQuery = (0, _reactQuery.useQuery)('default-locales', fetchDefaultLocalesList),\n      isLoading = _useQuery.isLoading,\n      data = _useQuery.data;\n\n  return {\n    defaultLocales: data,\n    isLoading: isLoading\n  };\n};\n\nvar _default = useDefaultLocales;\nexports[\"default\"] = _default;","map":{"version":3,"sources":["/Users/joaovictorlobao/prefeituramaragogistrapi/.cache/plugins/strapi-plugin-i18n/admin/src/hooks/useDefaultLocales/index.js"],"names":["fetchDefaultLocalesList","method","data","strapi","notification","toggle","type","message","id","useDefaultLocales","isLoading","defaultLocales"],"mappings":";;;;;;;;;;;;;AAAA;;AACA;;AAEA,IAAMA,uBAAuB;AAAA,2FAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAET,iCAAQ,mBAAR,EAA6B;AAC9CC,cAAAA,MAAM,EAAE;AADsC,aAA7B,CAFS;;AAAA;AAEtBC,YAAAA,IAFsB;AAAA,6CAMrBA,IANqB;;AAAA;AAAA;AAAA;AAQ5BC,YAAAA,MAAM,CAACC,YAAP,CAAoBC,MAApB,CAA2B;AACzBC,cAAAA,IAAI,EAAE,SADmB;AAEzBC,cAAAA,OAAO,EAAE;AAAEC,gBAAAA,EAAE,EAAE;AAAN;AAFgB,aAA3B;AAR4B,6CAarB,EAbqB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAvBR,uBAAuB;AAAA;AAAA;AAAA,GAA7B;;AAiBA,IAAMS,iBAAiB,GAAG,SAApBA,iBAAoB,GAAM;AAC9B,kBAA4B,0BAAS,iBAAT,EAA4BT,uBAA5B,CAA5B;AAAA,MAAQU,SAAR,aAAQA,SAAR;AAAA,MAAmBR,IAAnB,aAAmBA,IAAnB;;AAEA,SAAO;AAAES,IAAAA,cAAc,EAAET,IAAlB;AAAwBQ,IAAAA,SAAS,EAATA;AAAxB,GAAP;AACD,CAJD;;eAMeD,iB","sourcesContent":["import { useQuery } from 'react-query';\nimport { request } from 'strapi-helper-plugin';\n\nconst fetchDefaultLocalesList = async () => {\n  try {\n    const data = await request('/i18n/iso-locales', {\n      method: 'GET',\n    });\n\n    return data;\n  } catch (e) {\n    strapi.notification.toggle({\n      type: 'warning',\n      message: { id: 'notification.error' },\n    });\n\n    return [];\n  }\n};\n\nconst useDefaultLocales = () => {\n  const { isLoading, data } = useQuery('default-locales', fetchDefaultLocalesList);\n\n  return { defaultLocales: data, isLoading };\n};\n\nexport default useDefaultLocales;\n"]},"metadata":{},"sourceType":"script"}