{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _typeof = require(\"@babel/runtime/helpers/typeof\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _react = require(\"react\");\n\nvar _strapiHelperPlugin = require(\"strapi-helper-plugin\");\n\nvar _reducer = _interopRequireWildcard(require(\"./reducer\"));\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nvar useFetchPermissionsLayout = function useFetchPermissionsLayout(id) {\n  var _useReducer = (0, _react.useReducer)(_reducer[\"default\"], _reducer.initialState),\n      _useReducer2 = (0, _slicedToArray2[\"default\"])(_useReducer, 2),\n      _useReducer2$ = _useReducer2[0],\n      data = _useReducer2$.data,\n      error = _useReducer2$.error,\n      isLoading = _useReducer2$.isLoading,\n      dispatch = _useReducer2[1];\n\n  (0, _react.useEffect)(function () {\n    var getData = /*#__PURE__*/function () {\n      var _ref = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee() {\n        var _yield$request, data;\n\n        return _regenerator[\"default\"].wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                dispatch({\n                  type: 'GET_DATA'\n                });\n                _context.next = 3;\n                return (0, _strapiHelperPlugin.request)('/admin/permissions', {\n                  method: 'GET',\n                  params: {\n                    role: id\n                  }\n                });\n\n              case 3:\n                _yield$request = _context.sent;\n                data = _yield$request.data;\n                dispatch({\n                  type: 'GET_DATA_SUCCEEDED',\n                  data: data\n                });\n\n              case 6:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function getData() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    getData();\n  }, [id]);\n  return {\n    data: data,\n    error: error,\n    isLoading: isLoading\n  };\n};\n\nvar _default = useFetchPermissionsLayout;\nexports[\"default\"] = _default;","map":{"version":3,"sources":["/Users/joaovictorlobao/prefeituramaragogistrapi/.cache/admin/src/hooks/useFetchPermissionsLayout/index.js"],"names":["useFetchPermissionsLayout","id","reducer","initialState","data","error","isLoading","dispatch","getData","type","method","params","role"],"mappings":";;;;;;;;;;;;;;;;;AAAA;;AACA;;AAEA;;;;;;AAEA,IAAMA,yBAAyB,GAAG,SAA5BA,yBAA4B,CAAAC,EAAE,EAAI;AACtC,oBAA+C,uBAAWC,mBAAX,EAAoBC,qBAApB,CAA/C;AAAA;AAAA;AAAA,MAASC,IAAT,iBAASA,IAAT;AAAA,MAAeC,KAAf,iBAAeA,KAAf;AAAA,MAAsBC,SAAtB,iBAAsBA,SAAtB;AAAA,MAAmCC,QAAnC;;AAEA,wBAAU,YAAM;AACd,QAAMC,OAAO;AAAA,+FAAG;AAAA;;AAAA;AAAA;AAAA;AAAA;AACdD,gBAAAA,QAAQ,CAAC;AACPE,kBAAAA,IAAI,EAAE;AADC,iBAAD,CAAR;AADc;AAAA,uBAKS,iCAAQ,oBAAR,EAA8B;AACnDC,kBAAAA,MAAM,EAAE,KAD2C;AAEnDC,kBAAAA,MAAM,EAAE;AAAEC,oBAAAA,IAAI,EAAEX;AAAR;AAF2C,iBAA9B,CALT;;AAAA;AAAA;AAKNG,gBAAAA,IALM,kBAKNA,IALM;AAUdG,gBAAAA,QAAQ,CAAC;AACPE,kBAAAA,IAAI,EAAE,oBADC;AAEPL,kBAAAA,IAAI,EAAJA;AAFO,iBAAD,CAAR;;AAVc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAH;;AAAA,sBAAPI,OAAO;AAAA;AAAA;AAAA,OAAb;;AAgBAA,IAAAA,OAAO;AACR,GAlBD,EAkBG,CAACP,EAAD,CAlBH;AAoBA,SAAO;AAAEG,IAAAA,IAAI,EAAJA,IAAF;AAAQC,IAAAA,KAAK,EAALA,KAAR;AAAeC,IAAAA,SAAS,EAATA;AAAf,GAAP;AACD,CAxBD;;eA0BeN,yB","sourcesContent":["import { useEffect, useReducer } from 'react';\nimport { request } from 'strapi-helper-plugin';\n\nimport reducer, { initialState } from './reducer';\n\nconst useFetchPermissionsLayout = id => {\n  const [{ data, error, isLoading }, dispatch] = useReducer(reducer, initialState);\n\n  useEffect(() => {\n    const getData = async () => {\n      dispatch({\n        type: 'GET_DATA',\n      });\n\n      const { data } = await request('/admin/permissions', {\n        method: 'GET',\n        params: { role: id },\n      });\n\n      dispatch({\n        type: 'GET_DATA_SUCCEEDED',\n        data,\n      });\n    };\n\n    getData();\n  }, [id]);\n\n  return { data, error, isLoading };\n};\n\nexport default useFetchPermissionsLayout;\n"]},"metadata":{},"sourceType":"script"}