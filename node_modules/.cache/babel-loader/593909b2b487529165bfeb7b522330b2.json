{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _lodash = require(\"lodash\");\n\nvar _strapiHelperPlugin = require(\"strapi-helper-plugin\");\n\nvar getFieldsActionMatchingPermissions = function getFieldsActionMatchingPermissions(userPermissions, slug) {\n  var getMatchingPermissions = function getMatchingPermissions(action) {\n    var matched = (0, _strapiHelperPlugin.findMatchingPermissions)(userPermissions, [{\n      action: \"plugins::content-manager.explorer.\".concat(action),\n      subject: slug\n    }]);\n    return (0, _lodash.uniq)((0, _lodash.flatMap)(matched, 'properties.fields'));\n  };\n\n  return {\n    createActionAllowedFields: getMatchingPermissions('create'),\n    readActionAllowedFields: getMatchingPermissions('read'),\n    updateActionAllowedFields: getMatchingPermissions('update')\n  };\n};\n\nvar _default = getFieldsActionMatchingPermissions;\nexports[\"default\"] = _default;","map":{"version":3,"sources":["/Users/joaovictorlobao/prefeituramaragogistrapi/.cache/plugins/strapi-plugin-content-manager/admin/src/containers/EditView/utils/getFieldsActionMatchingPermissions.js"],"names":["getFieldsActionMatchingPermissions","userPermissions","slug","getMatchingPermissions","action","matched","subject","createActionAllowedFields","readActionAllowedFields","updateActionAllowedFields"],"mappings":";;;;;;;AAAA;;AACA;;AAEA,IAAMA,kCAAkC,GAAG,SAArCA,kCAAqC,CAACC,eAAD,EAAkBC,IAAlB,EAA2B;AACpE,MAAMC,sBAAsB,GAAG,SAAzBA,sBAAyB,CAAAC,MAAM,EAAI;AACvC,QAAMC,OAAO,GAAG,iDAAwBJ,eAAxB,EAAyC,CACvD;AACEG,MAAAA,MAAM,8CAAuCA,MAAvC,CADR;AAEEE,MAAAA,OAAO,EAAEJ;AAFX,KADuD,CAAzC,CAAhB;AAOA,WAAO,kBAAK,qBAAQG,OAAR,EAAiB,mBAAjB,CAAL,CAAP;AACD,GATD;;AAWA,SAAO;AACLE,IAAAA,yBAAyB,EAAEJ,sBAAsB,CAAC,QAAD,CAD5C;AAELK,IAAAA,uBAAuB,EAAEL,sBAAsB,CAAC,MAAD,CAF1C;AAGLM,IAAAA,yBAAyB,EAAEN,sBAAsB,CAAC,QAAD;AAH5C,GAAP;AAKD,CAjBD;;eAmBeH,kC","sourcesContent":["import { uniq, flatMap } from 'lodash';\nimport { findMatchingPermissions } from 'strapi-helper-plugin';\n\nconst getFieldsActionMatchingPermissions = (userPermissions, slug) => {\n  const getMatchingPermissions = action => {\n    const matched = findMatchingPermissions(userPermissions, [\n      {\n        action: `plugins::content-manager.explorer.${action}`,\n        subject: slug,\n      },\n    ]);\n\n    return uniq(flatMap(matched, 'properties.fields'));\n  };\n\n  return {\n    createActionAllowedFields: getMatchingPermissions('create'),\n    readActionAllowedFields: getMatchingPermissions('read'),\n    updateActionAllowedFields: getMatchingPermissions('update'),\n  };\n};\n\nexport default getFieldsActionMatchingPermissions;\n"]},"metadata":{},"sourceType":"script"}