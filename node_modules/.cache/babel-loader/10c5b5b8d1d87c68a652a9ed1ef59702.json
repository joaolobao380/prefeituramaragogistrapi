{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _typeof = require(\"@babel/runtime/helpers/typeof\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _core = require(\"@buffetjs/core\");\n\nvar _styles = require(\"@buffetjs/styles\");\n\nvar _strapiHelperPlugin = require(\"strapi-helper-plugin\");\n\nvar _reactFontawesome = require(\"@fortawesome/react-fontawesome\");\n\nvar _freeSolidSvgIcons = require(\"@fortawesome/free-solid-svg-icons\");\n\nvar _permissions = _interopRequireDefault(require(\"../../permissions\"));\n\nvar _Logo = _interopRequireDefault(require(\"./Logo\"));\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nvar Row = function Row(_ref) {\n  var logo = _ref.logo,\n      name = _ref.name,\n      description = _ref.description,\n      isRequired = _ref.isRequired,\n      id = _ref.id,\n      icon = _ref.icon,\n      onConfirm = _ref.onConfirm;\n\n  var _useGlobalContext = (0, _strapiHelperPlugin.useGlobalContext)(),\n      formatMessage = _useGlobalContext.formatMessage;\n\n  var _useState = (0, _react.useState)(false),\n      _useState2 = (0, _slicedToArray2[\"default\"])(_useState, 2),\n      isOpen = _useState2[0],\n      setIsOpen = _useState2[1];\n\n  var links = [];\n\n  var handleClickConfirm = function handleClickConfirm() {\n    handleToggle();\n    onConfirm(id);\n  };\n\n  var handleToggle = function handleToggle() {\n    setIsOpen(function (prev) {\n      return !prev;\n    });\n  };\n\n  if (!isRequired) {\n    links.push({\n      icon: /*#__PURE__*/_react[\"default\"].createElement(_strapiHelperPlugin.CheckPermissions, {\n        permissions: _permissions[\"default\"].marketplace.uninstall\n      }, /*#__PURE__*/_react[\"default\"].createElement(_reactFontawesome.FontAwesomeIcon, {\n        icon: _freeSolidSvgIcons.faTrashAlt\n      })),\n      onClick: handleToggle\n    });\n  }\n\n  return /*#__PURE__*/_react[\"default\"].createElement(_styles.CustomRow, null, /*#__PURE__*/_react[\"default\"].createElement(\"td\", {\n    style: {\n      paddingTop: 0,\n      width: 100,\n      verticalAlign: 'bottom'\n    }\n  }, /*#__PURE__*/_react[\"default\"].createElement(_Logo[\"default\"], null, logo && /*#__PURE__*/_react[\"default\"].createElement(\"img\", {\n    src: logo,\n    alt: \"icon\"\n  }), !logo && /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: \"icon-wrapper\"\n  }, /*#__PURE__*/_react[\"default\"].createElement(_reactFontawesome.FontAwesomeIcon, {\n    icon: icon\n  })))), /*#__PURE__*/_react[\"default\"].createElement(\"td\", null, /*#__PURE__*/_react[\"default\"].createElement(_core.Text, null, /*#__PURE__*/_react[\"default\"].createElement(_core.Text, {\n    as: \"span\",\n    fontSize: \"xs\",\n    fontWeight: \"bold\",\n    letterSpacing: \"0.7px\",\n    textTransform: \"uppercase\"\n  }, name, \"\\xA0\\u2014\\xA0\"), /*#__PURE__*/_react[\"default\"].createElement(_core.Text, {\n    as: \"span\",\n    fontSize: \"md\"\n  }, formatMessage({\n    id: \"\".concat(description, \".short\"),\n    defaultMessage: description\n  })))), /*#__PURE__*/_react[\"default\"].createElement(\"td\", null, /*#__PURE__*/_react[\"default\"].createElement(_core.IconLinks, {\n    links: links\n  }), /*#__PURE__*/_react[\"default\"].createElement(_strapiHelperPlugin.PopUpWarning, {\n    isOpen: isOpen,\n    toggleModal: handleToggle,\n    popUpWarningType: \"danger\",\n    onConfirm: handleClickConfirm\n  })));\n};\n\nRow.defaultProps = {\n  icon: 'plug',\n  isRequired: false,\n  logo: null,\n  onConfirm: function onConfirm() {}\n};\nRow.propTypes = {\n  description: _propTypes[\"default\"].string.isRequired,\n  icon: _propTypes[\"default\"].string,\n  id: _propTypes[\"default\"].string.isRequired,\n  isRequired: _propTypes[\"default\"].bool,\n  logo: _propTypes[\"default\"].string,\n  name: _propTypes[\"default\"].string.isRequired,\n  onConfirm: _propTypes[\"default\"].func\n};\nvar _default = Row;\nexports[\"default\"] = _default;","map":{"version":3,"sources":["/Users/joaovictorlobao/prefeituramaragogistrapi/.cache/admin/src/containers/InstalledPluginsPage/Row.js"],"names":["Row","logo","name","description","isRequired","id","icon","onConfirm","formatMessage","isOpen","setIsOpen","links","handleClickConfirm","handleToggle","prev","push","adminPermissions","marketplace","uninstall","faTrashAlt","onClick","paddingTop","width","verticalAlign","defaultMessage","defaultProps","propTypes","PropTypes","string","bool","func"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { IconLinks, Text } from '@buffetjs/core';\nimport { CustomRow } from '@buffetjs/styles';\nimport { useGlobalContext, PopUpWarning, CheckPermissions } from 'strapi-helper-plugin';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTrashAlt } from '@fortawesome/free-solid-svg-icons';\nimport adminPermissions from '../../permissions';\nimport LogoContainer from './Logo';\n\nconst Row = ({ logo, name, description, isRequired, id, icon, onConfirm }) => {\n  const { formatMessage } = useGlobalContext();\n  const [isOpen, setIsOpen] = useState(false);\n  const links = [];\n\n  const handleClickConfirm = () => {\n    handleToggle();\n    onConfirm(id);\n  };\n\n  const handleToggle = () => {\n    setIsOpen(prev => !prev);\n  };\n\n  if (!isRequired) {\n    links.push({\n      icon: (\n        <CheckPermissions permissions={adminPermissions.marketplace.uninstall}>\n          <FontAwesomeIcon icon={faTrashAlt} />\n        </CheckPermissions>\n      ),\n      onClick: handleToggle,\n    });\n  }\n\n  return (\n    <CustomRow>\n      <td style={{ paddingTop: 0, width: 100, verticalAlign: 'bottom' }}>\n        <LogoContainer>\n          {logo && <img src={logo} alt=\"icon\" />}\n          {!logo && (\n            <div className=\"icon-wrapper\">\n              <FontAwesomeIcon icon={icon} />\n            </div>\n          )}\n        </LogoContainer>\n      </td>\n      <td>\n        <Text>\n          <Text\n            as=\"span\"\n            fontSize=\"xs\"\n            fontWeight=\"bold\"\n            letterSpacing=\"0.7px\"\n            textTransform=\"uppercase\"\n          >\n            {name}&nbsp;—&nbsp;\n          </Text>\n          <Text as=\"span\" fontSize=\"md\">\n            {formatMessage({\n              id: `${description}.short`,\n              defaultMessage: description,\n            })}\n          </Text>\n        </Text>\n      </td>\n\n      <td>\n        <IconLinks links={links} />\n        <PopUpWarning\n          isOpen={isOpen}\n          toggleModal={handleToggle}\n          popUpWarningType=\"danger\"\n          onConfirm={handleClickConfirm}\n        />\n      </td>\n    </CustomRow>\n  );\n};\n\nRow.defaultProps = {\n  icon: 'plug',\n  isRequired: false,\n  logo: null,\n  onConfirm: () => {},\n};\n\nRow.propTypes = {\n  description: PropTypes.string.isRequired,\n  icon: PropTypes.string,\n  id: PropTypes.string.isRequired,\n  isRequired: PropTypes.bool,\n  logo: PropTypes.string,\n  name: PropTypes.string.isRequired,\n  onConfirm: PropTypes.func,\n};\n\nexport default Row;\n"]},"metadata":{},"sourceType":"script"}